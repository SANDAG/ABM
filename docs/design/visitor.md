# Overnight Visitor Model
The Overnight Visitor Model simulates trips of visitors staying overnight in hotels, motels, short-term vacation rentals, and with friends and family. The trips are modeled as part of tours that begin and end at the place of lodging. However, unlike the resident model, the Overnight Visitor Model does not utilize a 24-hour activity schedule. Therefore it can be thought of as a simpler, tour-based model. Once each tour is generated, it is scheduled independently. The model uses the same time periods and modes as the resident model.
The overall design of the model is shown in the figure below.

![](../images/design/visitor_model_design.png)

1. Tour Enumeration: A list of visitor parties is generated from the input household data and hotel room inventory at the MGRA level. Visitor travel parties by segment (business versus personal) are calculated based on separate rates for hotels and for households. Visitor parties are generated by purpose based on tour rates by segment, then attributed with household income and party size based on input distributions. There are three purposes in the Overnight Visitor model:

   * Work:  Business travel made by business visitors.
   * Dining: Travel to food establishments for both business and personal visitors.
   * Recreational: All other non-work non-food related activities.

2. Tour Level Models
   
    2.1 Tour Scheduling Probabilistic: The tour scheduling model uses a probabilistic draw of the scheduling distribution. This model assigns start and end times to the tour. If there is only one trip per leg on the tour, the trip is assigned the tour start/end time.

    2.2 Tour Destination Choice: The destination choice model chooses the MGRA of the primary activity location on the tour.

    2.3 Tour Mode Choice: The tour mode choice model determines the primary mode of the tour.

3. Stop Level Models
   
    3.1 Stop Frequency Choice: The stop frequency model predicts the number of stops by direction based on input distributions that vary by tour purpose.

    3.2 Stop Purpose: The stop purpose model chooses the activity purpose of each intermediate stop based on input distributions that vary according to tour purpose.

    3.3 Stop Location Choice: The location choice model chooses the MGRA for each intermediate stop on the tour.

4. Trip Level Models
   
    4.1 Trip Departure Choice: The trip scheduling model assigns depart times for each trip on a tour based on input distributions that vary by direction (inbound versus outbound), stop number, and number of periods remaining on the tour.

    4.2 Trip Mode Choice: Each trip is assigned a trip mode, consistent with the modes in the resident model.
    
    4.3 Trip Assignment: Trips are aggregated by time of day, mode occupancy, value-of-time, and origin-destination TAZ and assigned simultaneously with other trips.

The major tour modes are shown below:
```mermaid
flowchart TD
    subgraph four
    direction LR
    E[Ride-Hail] --> E1[Taxi]
    E --> E2[Single-pay TNC];
    end
    subgraph three
    direction LR
    D[Transit] --> D1[Walk Access]

    D1 --> D11[Local Only]
    D1 --> D12[Premium Only]
    D1 --> D13[Mixed]
    end
    subgraph two
    direction LR
    C[Active] --> C1[Walk]
    end

    subgraph one
    direction LR
    B[Auto] --> B1[Drive-alone];
    B --> B2[Shared 2];
    B --> B3[Shared 3+];
    end
    A[Tour Mode] --> one;
    A --> two;
    A --> three;
    A --> four;

    classDef group1 fill:#f75f5f,stroke:#333,stroke-width:4px,font-size:26px,font-weight:bold;wrap
    classDef group2 fill:#ffd966,stroke:#333,stroke-width:2px,font-size:20px;wrap
    classDef group3 fill:#bdabf0,stroke:#333,stroke-width:2px,font-size:18px;wrap

    classDef hiddenTitle color:transparent;
    class one,two,three,four hiddenTitle;

    class A group1;
    class B,C,D,E group2;
    class B1,B2,B3,C1,C2,C3,C4,D1,D2,D3,D4,E1,E2,E3,D11,D12,D13,D21,D22,D23,D31,D32,D33,D41,D42,D43 group3;

```

For more information on the Overnight Visitor Travel Model see technical documentation.
Description,Target,Expression
# add additional fields,,
,tour_participants,trips.tour_id.map(tours.number_of_participants)
,distance,od_skims['DIST']
,costOperatingDrive,"np.where(trips.trip_mode.isin(['DRIVEALONE','SHARED2','SHARED3']), costPerMile * distance/100, np.NaN)"
,_sample_rate,trips.household_id.map(households.sample_rate)
,weightTrip,"np.where(trips.trip_mode == 'SHARED2', tour_participants/OCC_SHARED2, np.where(trips.trip_mode == 'SHARED3',tour_participants/OCC_SHARED3, np.where(trips.trip_mode == 'TAXI', tour_participants/OCC_TAXI,  np.where(trips.trip_mode == 'TNC_SINGLE', tour_participants/OCC_TNC_SINGLE, np.where(trips.trip_mode == 'TNC_SHARED', tour_participants/OCC_TNC_SHARED, np.where(trips.trip_mode.isin(['WALK','BIKE','EBIKE','ESCOOTER']), tour_participants, 1))))))/_sample_rate"
,weightPersonTrip,tour_participants/_sample_rate
# code time periods,,
,is_ea,trips.trip_period == 'EA'
,is_am,trips.trip_period == 'AM'
,is_md,trips.trip_period == 'MD'
,is_pm,trips.trip_period == 'PM'
,is_ev,trips.trip_period == 'EV'
,is_walk_LOC_transit,trips.trip_mode == 'WALK_LOC'
,is_walk_PRM_transit,trips.trip_mode == 'WALK_PRM'
,is_walk_MIX_transit,trips.trip_mode == 'WALK_MIX'
,is_knr_loc,trips.trip_mode.isin(['KNR_LOC'])
,is_knr_prm,trips.trip_mode.isin(['KNR_PRM'])
,is_knr_mix,trips.trip_mode.isin(['KNR_MIX'])
,is_tnc_loc,trips.trip_mode.isin(['TNC_LOC'])
,is_tnc_prm,trips.trip_mode.isin(['TNC_PRM'])
,is_tnc_mix,trips.trip_mode.isin(['TNC_MIX'])
,is_pnr_loc,trips.trip_mode.isin(['PNR_LOC'])
,is_pnr_prm,trips.trip_mode.isin(['PNR_PRM'])
,is_pnr_mix,trips.trip_mode.isin(['PNR_MIX'])
,outbound,trips.outbound
,inbound,~trips.outbound
# code vot bin,,
,is_work_tour,df.primary_purpose == 'work'
,work_time_factor,"reindex(persons.work_time_factor, df.person_id)"
,non_work_time_factor,"reindex(persons.non_work_time_factor, df.person_id)"
,c_ivt,trip_c_ivt_base * (is_work_tour * work_time_factor + (1 - is_work_tour) * non_work_time_factor)
,c_fwt,c_ivt * 1.5
,c_xwt,c_ivt * 1.5
,c_wacc,c_ivt * 1.5
,c_wegr,c_ivt * 1.5
,c_waux,c_ivt * 1.5
,c_xfers,c_ivt * 24
,c_walk_time,c_ivt * 1.8
,c_xfers_pnr,c_ivt * 15
,cost_per_mile,cost_per_mile_fuel + cost_per_mile_maint
,vot_da,c_ivt / trip_c_cost * 0.6
,vot_s2,vot_da * cost_share_s2
,vot_s3,vot_da * cost_share_s3
,vot_bin_da,"np.where(trips.trip_mode.isin(['DRIVEALONE']),np.where(vot_da < vot_threshold_low, 1,np.where(vot_da < vot_threshold_med, 2, 3)),0)"
,vot_bin_s2,"np.where(trips.trip_mode.isin(['SHARED2','TAXI','TNC_SINGLE']),np.where(vot_s2 < vot_threshold_low,1,np.where(vot_s2 < vot_threshold_med, 2, 3)),0)"
,vot_bin_s3,"np.where(trips.trip_mode.isin(['SHARED3','TNC_SHARED']),np.where(vot_s3 < vot_threshold_low,1,np.where(vot_s3 < vot_threshold_med, 2, 3)),0)"
,vot_1,"np.where((vot_bin_da ==1) | (vot_bin_s2 ==1) | (vot_bin_s3 == 1), True, False)"
,vot_2,"np.where((vot_bin_da ==2) | (vot_bin_s2 ==2) | (vot_bin_s3 == 1), True, False)"
,vot_3,"np.where((vot_bin_da ==3) | (vot_bin_s2 ==3) | (vot_bin_s3 == 1), True, False)"
# ea trips vehicle,,
,DRIVEALONE_EA_low,((trips.trip_mode == 'DRIVEALONE') & is_ea & vot_1) * tour_participants
,SHARED2_EA_low,((trips.trip_mode == 'SHARED2') & is_ea & vot_1) * tour_participants / OCC_SHARED2
,SHARED3_EA_low,((trips.trip_mode == 'SHARED3') & is_ea & vot_1) * tour_participants / OCC_SHARED3
,DRIVEALONE_EA_med,((trips.trip_mode == 'DRIVEALONE') & is_ea & vot_2) * tour_participants
,SHARED2_EA_med,((trips.trip_mode == 'SHARED2') & is_ea  & vot_2) * tour_participants  / OCC_SHARED2
,SHARED3_EA_med,((trips.trip_mode == 'SHARED3') & is_ea & vot_2) * tour_participants / OCC_SHARED3
,DRIVEALONE_EA_high,((trips.trip_mode == 'DRIVEALONE') & is_ea & vot_3) * tour_participants
,SHARED2_EA_high,((trips.trip_mode == 'SHARED2') & is_ea & vot_3) * tour_participants  / OCC_SHARED2
,SHARED3_EA_high,((trips.trip_mode == 'SHARED3') & is_ea & vot_3) * tour_participants / OCC_SHARED3
# ea trips non motorized,,
,WALK_EA,((trips.trip_mode == 'WALK') & is_ea) * tour_participants
#placeholder for bike,,
,BIKE_EA,((trips.trip_mode == 'BIKE') & is_ea) * tour_participants
# ea trips transit,,
,WALK_SET_set1_EA, (is_ea & is_walk_LOC_transit) * tour_participants
,WALK_SET_set2_EA, (is_ea & is_walk_PRM_transit) * tour_participants
,WALK_SET_set3_EA, (is_ea & is_walk_MIX_transit) * tour_participants
,PNROUT_SET_set1_EA,(is_ea & is_pnr_loc & outbound) * tour_participants
,PNROUT_SET_set2_EA,(is_ea & is_pnr_prm & outbound) * tour_participants
,PNROUT_SET_set3_EA,(is_ea & is_pnr_mix & outbound) * tour_participants
,KNROUT_SET_set1_EA,(is_ea & is_knr_loc & outbound) * tour_participants
,KNROUT_SET_set2_EA,(is_ea & is_knr_prm & outbound) * tour_participants
,KNROUT_SET_set3_EA,(is_ea & is_knr_mix & outbound) * tour_participants
,TNCOUT_SET_set1_EA,(is_ea & is_tnc_loc & outbound) * tour_participants
,TNCOUT_SET_set2_EA,(is_ea & is_tnc_prm & outbound) * tour_participants
,TNCOUT_SET_set3_EA,(is_ea & is_tnc_mix & outbound) * tour_participants
,PNRIN_SET_set1_EA,(is_ea & is_pnr_loc & inbound) * tour_participants
,PNRIN_SET_set2_EA,(is_ea & is_pnr_prm & inbound) * tour_participants
,PNRIN_SET_set3_EA,(is_ea & is_pnr_mix & inbound) * tour_participants
,KNRIN_SET_set1_EA,(is_ea & is_knr_loc & inbound) * tour_participants
,KNRIN_SET_set2_EA,(is_ea & is_knr_prm & inbound) * tour_participants
,KNRIN_SET_set3_EA,(is_ea & is_knr_mix & inbound) * tour_participants
,TNCIN_SET_set1_EA,(is_ea & is_tnc_loc & inbound) * tour_participants
,TNCIN_SET_set2_EA,(is_ea & is_tnc_prm & inbound) * tour_participants
,TNCIN_SET_set3_EA,(is_ea & is_tnc_mix & inbound) * tour_participants
,TAXI_EA,((trips.trip_mode == 'TAXI') & is_ea) * tour_participants / OCC_TAXI
,TNC_SINGLE_EA,((trips.trip_mode == 'TNC_SINGLE') & is_ea) * tour_participants / OCC_TNC_SINGLE
,TNC_SHARED_EA,((trips.trip_mode == 'TNC_SHARED') & is_ea) * tour_participants / OCC_TNC_SHARED
# am trips vehicle,,
,DRIVEALONE_AM_low,((trips.trip_mode == 'DRIVEALONE') & is_am & vot_1) * tour_participants
,SHARED2_AM_low,((trips.trip_mode == 'SHARED2') & is_am & vot_1) * tour_participants  / OCC_SHARED2
,SHARED3_AM_low,((trips.trip_mode == 'SHARED3') & is_am & vot_1) * tour_participants  / OCC_SHARED3
,DRIVEALONE_AM_med,((trips.trip_mode == 'DRIVEALONE') & is_am & vot_2) * tour_participants
,SHARED2_AM_med,((trips.trip_mode == 'SHARED2') & is_am  & vot_2) * tour_participants  / OCC_SHARED2
,SHARED3_AM_med,((trips.trip_mode == 'SHARED3') & is_am & vot_2) * tour_participants  / OCC_SHARED3
,DRIVEALONE_AM_high,((trips.trip_mode == 'DRIVEALONE') & is_am & vot_3) * tour_participants
,SHARED2_AM_high,((trips.trip_mode == 'SHARED2') & is_am & vot_3) * tour_participants  / OCC_SHARED2
,SHARED3_AM_high,((trips.trip_mode == 'SHARED3') & is_am & vot_3) * tour_participants  / OCC_SHARED3
# am trips non motorized,,
,WALK_AM,((trips.trip_mode == 'WALK') & is_am) * tour_participants
#placeholder for bike,,
,BIKE_AM,((trips.trip_mode == 'BIKE') & is_am) * tour_participants
# am trips transit,,
,WALK_SET_set1_AM,(is_am & is_walk_LOC_transit) * tour_participants
,WALK_SET_set2_AM,(is_am & is_walk_PRM_transit) * tour_participants
,WALK_SET_set3_AM,(is_am & is_walk_MIX_transit) * tour_participants
,PNROUT_SET_set1_AM,(is_am & is_pnr_loc & outbound) * tour_participants
,PNROUT_SET_set2_AM,(is_am & is_pnr_prm & outbound) * tour_participants
,PNROUT_SET_set3_AM,(is_am & is_pnr_mix & outbound) * tour_participants
,KNROUT_SET_set1_AM,(is_am & is_knr_loc & outbound) * tour_participants
,KNROUT_SET_set2_AM,(is_am & is_knr_prm & outbound) * tour_participants
,KNROUT_SET_set3_AM,(is_am & is_knr_mix & outbound) * tour_participants
,TNCOUT_SET_set1_AM,(is_am & is_tnc_loc & outbound) * tour_participants
,TNCOUT_SET_set2_AM,(is_am & is_tnc_prm & outbound) * tour_participants
,TNCOUT_SET_set3_AM,(is_am & is_tnc_mix & outbound) * tour_participants
,PNRIN_SET_set1_AM,(is_am & is_pnr_loc & inbound) * tour_participants
,PNRIN_SET_set2_AM,(is_am & is_pnr_prm & inbound) * tour_participants
,PNRIN_SET_set3_AM,(is_am & is_pnr_mix & inbound) * tour_participants
,KNRIN_SET_set1_AM,(is_am & is_knr_loc & inbound) * tour_participants
,KNRIN_SET_set2_AM,(is_am & is_knr_prm & inbound) * tour_participants
,KNRIN_SET_set3_AM,(is_am & is_knr_mix & inbound) * tour_participants
,TNCIN_SET_set1_AM,(is_am & is_tnc_loc & inbound) * tour_participants
,TNCIN_SET_set2_AM,(is_am & is_tnc_prm & inbound) * tour_participants
,TNCIN_SET_set3_AM,(is_am & is_tnc_mix & inbound) * tour_participants
,TAXI_AM,((trips.trip_mode == 'TAXI') & is_am) * tour_participants/ OCC_TAXI
,TNC_SINGLE_AM,((trips.trip_mode == 'TNC_SINGLE') & is_am) * tour_participants/ OCC_TNC_SINGLE
,TNC_SHARED_AM,((trips.trip_mode == 'TNC_SHARED') & is_am) * tour_participants/ OCC_TNC_SHARED
# md trips vehicle,,
,DRIVEALONE_MD_low,((trips.trip_mode == 'DRIVEALONE') & is_md & vot_1) * tour_participants
,SHARED2_MD_low,((trips.trip_mode == 'SHARED2') & is_md & vot_1) * tour_participants  / OCC_SHARED2
,SHARED3_MD_low,((trips.trip_mode == 'SHARED3') & is_md & vot_1) * tour_participants  / OCC_SHARED3
,DRIVEALONE_MD_med,((trips.trip_mode == 'DRIVEALONE') & is_md & vot_2) * tour_participants
,SHARED2_MD_med,((trips.trip_mode == 'SHARED2') & is_md  & vot_2) * tour_participants  / OCC_SHARED2
,SHARED3_MD_med,((trips.trip_mode == 'SHARED3') & is_md & vot_2) * tour_participants  / OCC_SHARED3
,DRIVEALONE_MD_high,((trips.trip_mode == 'DRIVEALONE') & is_md & vot_3) * tour_participants
,SHARED2_MD_high,((trips.trip_mode == 'SHARED2') & is_md & vot_3) * tour_participants  / OCC_SHARED2
,SHARED3_MD_high,((trips.trip_mode == 'SHARED3') & is_md & vot_3) * tour_participants  / OCC_SHARED3
# md trips non motorized,,
,WALK_MD,((trips.trip_mode == 'WALK') & is_md) * tour_participants
#placeholder for bike,,
,BIKE_MD,((trips.trip_mode == 'BIKE') & is_md) * tour_participants
# md trips transit,,
,WALK_SET_set1_MD,(is_md & is_walk_LOC_transit) * tour_participants
,WALK_SET_set2_MD,(is_md & is_walk_PRM_transit) * tour_participants
,WALK_SET_set3_MD,(is_md & is_walk_MIX_transit) * tour_participants
,PNROUT_SET_set1_MD,(is_md & is_pnr_loc & outbound) * tour_participants
,PNROUT_SET_set2_MD,(is_md & is_pnr_prm & outbound) * tour_participants
,PNROUT_SET_set3_MD,(is_md & is_pnr_mix & outbound) * tour_participants
,KNROUT_SET_set1_MD,(is_md & is_knr_loc & outbound) * tour_participants
,KNROUT_SET_set2_MD,(is_md & is_knr_prm & outbound) * tour_participants
,KNROUT_SET_set3_MD,(is_md & is_knr_mix & outbound) * tour_participants
,TNCOUT_SET_set1_MD,(is_md & is_tnc_loc & outbound) * tour_participants
,TNCOUT_SET_set2_MD,(is_md & is_tnc_prm & outbound) * tour_participants
,TNCOUT_SET_set3_MD,(is_md & is_tnc_mix & outbound) * tour_participants
,PNRIN_SET_set1_MD,(is_md & is_pnr_loc & inbound) * tour_participants
,PNRIN_SET_set2_MD,(is_md & is_pnr_prm & inbound) * tour_participants
,PNRIN_SET_set3_MD,(is_md & is_pnr_mix & inbound) * tour_participants
,KNRIN_SET_set1_MD,(is_md & is_knr_loc & inbound) * tour_participants
,KNRIN_SET_set2_MD,(is_md & is_knr_prm & inbound) * tour_participants
,KNRIN_SET_set3_MD,(is_md & is_knr_mix & inbound) * tour_participants
,TNCIN_SET_set1_MD,(is_md & is_tnc_loc & inbound) * tour_participants
,TNCIN_SET_set2_MD,(is_md & is_tnc_prm & inbound) * tour_participants
,TNCIN_SET_set3_MD,(is_md & is_tnc_mix & inbound) * tour_participants
,TAXI_MD,((trips.trip_mode == 'TAXI') & is_md) * tour_participants/ OCC_TAXI
,TNC_SINGLE_MD,((trips.trip_mode == 'TNC_SINGLE') & is_md) * tour_participants/ OCC_TNC_SINGLE
,TNC_SHARED_MD,((trips.trip_mode == 'TNC_SHARED') & is_md) * tour_participants/ OCC_TNC_SHARED
# pm trips vehicle,,
,DRIVEALONE_PM_low,((trips.trip_mode == 'DRIVEALONE') & is_pm & vot_1) * tour_participants
,SHARED2_PM_low,((trips.trip_mode == 'SHARED2') & is_pm & vot_1) * tour_participants  / OCC_SHARED2
,SHARED3_PM_low,((trips.trip_mode == 'SHARED3') & is_pm & vot_1) * tour_participants  / OCC_SHARED3
,DRIVEALONE_PM_med,((trips.trip_mode == 'DRIVEALONE') & is_pm & vot_2) * tour_participants
,SHARED2_PM_med,((trips.trip_mode == 'SHARED2') & is_pm  & vot_2) * tour_participants  / OCC_SHARED2
,SHARED3_PM_med,((trips.trip_mode == 'SHARED3') & is_pm & vot_2) * tour_participants / OCC_SHARED3
,DRIVEALONE_PM_high,((trips.trip_mode == 'DRIVEALONE') & is_pm & vot_3) * tour_participants
,SHARED2_PM_high,((trips.trip_mode == 'SHARED2') & is_pm & vot_3) * tour_participants  / OCC_SHARED2
,SHARED3_PM_high,((trips.trip_mode == 'SHARED3') & is_pm & vot_3) * tour_participants / OCC_SHARED3
# pm trips non motorized,,
,WALK_PM,((trips.trip_mode == 'WALK') & is_pm) * tour_participants
#placeholder for bike,,
,BIKE_PM,((trips.trip_mode == 'BIKE') & is_pm) * tour_participants
# pm trips transit,,
,WALK_SET_set1_PM,(is_pm & is_walk_LOC_transit) * tour_participants
,WALK_SET_set2_PM,(is_pm & is_walk_PRM_transit) * tour_participants
,WALK_SET_set3_PM,(is_pm & is_walk_MIX_transit) * tour_participants
,PNROUT_SET_set1_PM,(is_pm & is_pnr_loc & outbound) * tour_participants
,PNROUT_SET_set2_PM,(is_pm & is_pnr_prm & outbound) * tour_participants
,PNROUT_SET_set3_PM,(is_pm & is_pnr_mix & outbound) * tour_participants
,KNROUT_SET_set1_PM,(is_pm & is_knr_loc & outbound) * tour_participants
,KNROUT_SET_set2_PM,(is_pm & is_knr_prm & outbound) * tour_participants
,KNROUT_SET_set3_PM,(is_pm & is_knr_mix & outbound) * tour_participants
,TNCOUT_SET_set1_PM,(is_pm & is_tnc_loc & outbound) * tour_participants
,TNCOUT_SET_set2_PM,(is_pm & is_tnc_prm & outbound) * tour_participants
,TNCOUT_SET_set3_PM,(is_pm & is_tnc_mix & outbound) * tour_participants
,PNRIN_SET_set1_PM,(is_pm & is_pnr_loc & inbound) * tour_participants
,PNRIN_SET_set2_PM,(is_pm & is_pnr_prm & inbound) * tour_participants
,PNRIN_SET_set3_PM,(is_pm & is_pnr_mix & inbound) * tour_participants
,KNRIN_SET_set1_PM,(is_pm & is_knr_loc & inbound) * tour_participants
,KNRIN_SET_set2_PM,(is_pm & is_knr_prm & inbound) * tour_participants
,KNRIN_SET_set3_PM,(is_pm & is_knr_mix & inbound) * tour_participants
,TNCIN_SET_set1_PM,(is_pm & is_tnc_loc & inbound) * tour_participants
,TNCIN_SET_set2_PM,(is_pm & is_tnc_prm & inbound) * tour_participants
,TNCIN_SET_set3_PM,(is_pm & is_tnc_mix & inbound) * tour_participants
,TAXI_PM,((trips.trip_mode == 'TAXI') & is_pm) * tour_participants/ OCC_TAXI
,TNC_SINGLE_PM,((trips.trip_mode == 'TNC_SINGLE') & is_pm) * tour_participants/ OCC_TNC_SINGLE
,TNC_SHARED_PM,((trips.trip_mode == 'TNC_SHARED') & is_pm) * tour_participants/ OCC_TNC_SHARED
# ev trips vehicle,,
,DRIVEALONE_EV_low,((trips.trip_mode == 'DRIVEALONE') & is_ev & vot_1) * tour_participants
,SHARED2_EV_low,((trips.trip_mode == 'SHARED2') & is_ev & vot_1) * tour_participants / OCC_SHARED2
,SHARED3_EV_low,((trips.trip_mode == 'SHARED3') & is_ev & vot_1) * tour_participants / OCC_SHARED3
,DRIVEALONE_EV_med,((trips.trip_mode == 'DRIVEALONE') & is_ev & vot_2) * tour_participants
,SHARED2_EV_med,((trips.trip_mode == 'SHARED2') & is_ev  & vot_2) * tour_participants / OCC_SHARED2
,SHARED3_EV_med,((trips.trip_mode == 'SHARED3') & is_ev & vot_2) * tour_participants / OCC_SHARED3
,DRIVEALONE_EV_high,((trips.trip_mode == 'DRIVEALONE') & is_ev & vot_3) * tour_participants
,SHARED2_EV_high,((trips.trip_mode == 'SHARED2') & is_ev & vot_3) * tour_participants/ OCC_SHARED2
,SHARED3_EV_high,((trips.trip_mode == 'SHARED3') & is_ev & vot_3) * tour_participants / OCC_SHARED3
# ev trips non motorized,,
,WALK_EV,((trips.trip_mode == 'WALK') & is_ev) * tour_participants
#placeholder for bike,,
,BIKE_EV,((trips.trip_mode == 'BIKE') & is_ev) * tour_participants
# ev trips transit,,
,WALK_SET_set1_EV,(is_ev & is_walk_LOC_transit) * tour_participants
,WALK_SET_set2_EV,(is_ev & is_walk_PRM_transit) * tour_participants
,WALK_SET_set3_EV,(is_ev & is_walk_MIX_transit) * tour_participants
,PNROUT_SET_set1_EV,(is_ev & is_pnr_loc & outbound) * tour_participants
,PNROUT_SET_set2_EV,(is_ev & is_pnr_prm & outbound) * tour_participants
,PNROUT_SET_set3_EV,(is_ev & is_pnr_mix & outbound) * tour_participants
,KNROUT_SET_set1_EV,(is_ev & is_knr_loc & outbound) * tour_participants
,KNROUT_SET_set2_EV,(is_ev & is_knr_prm & outbound) * tour_participants
,KNROUT_SET_set3_EV,(is_ev & is_knr_mix & outbound) * tour_participants
,TNCOUT_SET_set1_EV,(is_ev & is_tnc_loc & outbound) * tour_participants
,TNCOUT_SET_set2_EV,(is_ev & is_tnc_prm & outbound) * tour_participants
,TNCOUT_SET_set3_EV,(is_ev & is_tnc_mix & outbound) * tour_participants
,PNRIN_SET_set1_EV,(is_ev & is_pnr_loc & inbound) * tour_participants
,PNRIN_SET_set2_EV,(is_ev & is_pnr_prm & inbound) * tour_participants
,PNRIN_SET_set3_EV,(is_ev & is_pnr_mix & inbound) * tour_participants
,KNRIN_SET_set1_EV,(is_ev & is_knr_loc & inbound) * tour_participants
,KNRIN_SET_set2_EV,(is_ev & is_knr_prm & inbound) * tour_participants
,KNRIN_SET_set3_EV,(is_ev & is_knr_mix & inbound) * tour_participants
,TNCIN_SET_set1_EV,(is_ev & is_tnc_loc & inbound) * tour_participants
,TNCIN_SET_set2_EV,(is_ev & is_tnc_prm & inbound) * tour_participants
,TNCIN_SET_set3_EV,(is_ev & is_tnc_mix & inbound) * tour_participants
,TAXI_EV,((trips.trip_mode == 'TAXI') & is_ev) * tour_participants/ OCC_TAXI
,TNC_SINGLE_EV,((trips.trip_mode == 'TNC_SINGLE') & is_ev) * tour_participants/ OCC_TNC_SINGLE
,TNC_SHARED_EV,((trips.trip_mode == 'TNC_SHARED') & is_ev) * tour_participants/ OCC_TNC_SHARED
#auto skims,,
,_timeDrive,"odt_skims['SOV_NT_L_TIME'] * np.where(((trips.trip_mode == 'DRIVEALONE') & vot_1),1,0)"
,_timeDrive,"_timeDrive + odt_skims['HOV2_L_TIME'] * np.where(((trips.trip_mode == 'SHARED2') & vot_1),1,0)"
,_timeDrive,"_timeDrive + odt_skims['HOV3_L_TIME'] * np.where(((trips.trip_mode == 'SHARED3') & vot_1),1,0)"
,_timeDrive,"_timeDrive + odt_skims['SOV_NT_M_TIME'] * np.where(((trips.trip_mode == 'DRIVEALONE') & vot_2),1,0)"
,_timeDrive,"_timeDrive + odt_skims['HOV2_M_TIME'] * np.where(((trips.trip_mode == 'SHARED2') & vot_2),1,0)"
#,_timeDrive,"_timeDrive + (odt_skims['HOV2_M_TIME'] + _TAXI_WAIT_TIME) * np.where((trips.trip_mode == 'TAXI'),1,0)"
#,_timeDrive,"_timeDrive + (odt_skims['HOV2_M_TIME'] + _SINGLE_TNC_WAIT_TIME) * np.where((trips.trip_mode == 'TNC_SINGLE'),1,0)"
,_timeDrive,"_timeDrive + odt_skims['HOV3_M_TIME'] * np.where(((trips.trip_mode == 'SHARED3') & vot_2),1,0)"
#,_timeDrive,"_timeDrive + (odt_skims['HOV3_M_TIME'] + _SHARED_TNC_WAIT_TIME) * np.where((trips.trip_mode == 'TNC_SHARED'),1,0) * _TNC_SHARED_IVT_FACTOR"
,_timeDrive,"_timeDrive + odt_skims['SOV_NT_H_TIME'] * np.where(((trips.trip_mode == 'DRIVEALONE') & vot_3),1,0)"
,_timeDrive,"_timeDrive + odt_skims['HOV2_H_TIME'] * np.where(((trips.trip_mode == 'SHARED2') & vot_3),1,0)"
,timeDrive,"_timeDrive + odt_skims['HOV3_H_TIME'] * np.where(((trips.trip_mode == 'SHARED3') & vot_3),1,0)"
,_distanceDrive,"odt_skims['SOV_NT_L_DIST'] * np.where(((trips.trip_mode == 'DRIVEALONE') & vot_1),1,0)"
,_distanceDrive,"_distanceDrive + odt_skims['HOV2_L_DIST'] * np.where(((trips.trip_mode == 'SHARED2') & vot_1),1,0)"
,_distanceDrive,"_distanceDrive + odt_skims['HOV3_L_DIST'] * np.where(((trips.trip_mode == 'SHARED3') & vot_1),1,0)"
,_distanceDrive,"_distanceDrive + odt_skims['SOV_NT_M_DIST'] * np.where(((trips.trip_mode == 'DRIVEALONE') & vot_2),1,0)"
,_distanceDrive,"_distanceDrive + odt_skims['HOV2_M_DIST'] * np.where(((trips.trip_mode == 'SHARED2') & vot_2),1,0)"
,_distanceDrive,"_distanceDrive + odt_skims['HOV3_M_DIST'] * np.where(((trips.trip_mode == 'SHARED3') & vot_2),1,0)"
,_distanceDrive,"_distanceDrive + odt_skims['SOV_NT_H_DIST'] * np.where(((trips.trip_mode == 'DRIVEALONE') & vot_3),1,0)"
,_distanceDrive,"_distanceDrive + odt_skims['HOV2_H_DIST'] * np.where(((trips.trip_mode == 'SHARED2') & vot_3),1,0)"
,distanceDrive,"_distanceDrive + odt_skims['HOV3_H_DIST'] * np.where(((trips.trip_mode == 'SHARED3') & vot_3),1,0)"
,_costTollDrive,"odt_skims['SOV_NT_L_TOLLCOST'] * np.where(((trips.trip_mode == 'DRIVEALONE') & vot_1),1,0)"
,_costTollDrive,"_costTollDrive + odt_skims['HOV2_L_TOLLCOST'] * np.where(((trips.trip_mode == 'SHARED2') & vot_1),1,0)"
,_costTollDrive,"_costTollDrive + odt_skims['HOV3_L_TOLLCOST'] * np.where(((trips.trip_mode == 'SHARED3') & vot_1),1,0)"
,_costTollDrive,"_costTollDrive + odt_skims['SOV_NT_M_TOLLCOST'] * np.where(((trips.trip_mode == 'DRIVEALONE') & vot_2),1,0)"
,_costTollDrive,"_costTollDrive + odt_skims['HOV2_M_TOLLCOST'] * np.where(((trips.trip_mode == 'SHARED2') & vot_2),1,0)"
,_costTollDrive,"_costTollDrive + odt_skims['HOV3_M_TOLLCOST'] * np.where(((trips.trip_mode == 'SHARED3') & vot_2),1,0)"
,_costTollDrive,"_costTollDrive + odt_skims['SOV_NT_H_TOLLCOST'] * np.where(((trips.trip_mode == 'DRIVEALONE') & vot_3),1,0)"
,_costTollDrive,"_costTollDrive + odt_skims['HOV2_H_TOLLCOST'] * np.where(((trips.trip_mode == 'SHARED2') & vot_3),1,0)"
,costTollDrive,"_costTollDrive + odt_skims['HOV3_H_TOLLCOST'] * np.where(((trips.trip_mode == 'SHARED3') & vot_3),1,0)"
#transit skims,,
,_timeTransitInVehicle,"odt_skims['WALK_LOC_TOTALIVTT'] * np.where(trips.trip_mode == 'WALK_LOC',1,0)"
,_timeTransitInVehicle,"_timeTransitInVehicle + odt_skims['WALK_PRM_TOTALIVTT'] * np.where(trips.trip_mode == 'WALK_PRM',1,0)"
,_timeTransitInVehicle,"_timeTransitInVehicle + odt_skims['WALK_MIX_TOTALIVTT'] * np.where(trips.trip_mode == 'WALK_MIX',1,0)"
,_timeTransitInVehicle,"_timeTransitInVehicle + odt_skims['PNROUT_LOC_TOTALIVTT'] * np.where(trips.trip_mode == 'PNR_LOC',1,0) * np.where(trips.outbound,1,0)"
,_timeTransitInVehicle,"_timeTransitInVehicle + odt_skims['PNROUT_PRM_TOTALIVTT'] * np.where(trips.trip_mode == 'PNR_PRM',1,0) * np.where(trips.outbound,1,0)"
,_timeTransitInVehicle,"_timeTransitInVehicle + odt_skims['PNROUT_MIX_TOTALIVTT'] * np.where(trips.trip_mode == 'PNR_MIX',1,0) * np.where(trips.outbound,1,0)"
,_timeTransitInVehicle,"_timeTransitInVehicle + odt_skims['KNROUT_LOC_TOTALIVTT'] * np.where(trips.trip_mode == 'KNR_LOC',1,0) * np.where(trips.outbound,1,0)"
,_timeTransitInVehicle,"_timeTransitInVehicle + odt_skims['KNROUT_PRM_TOTALIVTT'] * np.where(trips.trip_mode == 'KNR_PRM',1,0) * np.where(trips.outbound,1,0)"
,_timeTransitInVehicle,"_timeTransitInVehicle + odt_skims['KNROUT_MIX_TOTALIVTT'] * np.where(trips.trip_mode == 'KNR_MIX',1,0) * np.where(trips.outbound,1,0)"
,_timeTransitInVehicle,"_timeTransitInVehicle + odt_skims['TNCOUT_LOC_TOTALIVTT'] * np.where(trips.trip_mode == 'TNC_LOC',1,0) * np.where(trips.outbound,1,0)"
,_timeTransitInVehicle,"_timeTransitInVehicle + odt_skims['TNCOUT_PRM_TOTALIVTT'] * np.where(trips.trip_mode == 'TNC_PRM',1,0) * np.where(trips.outbound,1,0)"
,_timeTransitInVehicle,"_timeTransitInVehicle + odt_skims['TNCOUT_MIX_TOTALIVTT'] * np.where(trips.trip_mode == 'TNC_MIX',1,0) * np.where(trips.outbound,1,0)"
,_timeTransitInVehicle,"_timeTransitInVehicle + odt_skims['PNRIN_LOC_TOTALIVTT'] * np.where(trips.trip_mode == 'PNR_LOC',1,0) * np.where(~trips.outbound,1,0)"
,_timeTransitInVehicle,"_timeTransitInVehicle + odt_skims['PNRIN_PRM_TOTALIVTT'] * np.where(trips.trip_mode == 'PNR_PRM',1,0) * np.where(~trips.outbound,1,0)"
,_timeTransitInVehicle,"_timeTransitInVehicle + odt_skims['PNRIN_MIX_TOTALIVTT'] * np.where(trips.trip_mode == 'PNR_MIX',1,0) * np.where(~trips.outbound,1,0)"
,_timeTransitInVehicle,"_timeTransitInVehicle + odt_skims['KNRIN_LOC_TOTALIVTT'] * np.where(trips.trip_mode == 'KNR_LOC',1,0) * np.where(~trips.outbound,1,0)"
,_timeTransitInVehicle,"_timeTransitInVehicle + odt_skims['KNRIN_PRM_TOTALIVTT'] * np.where(trips.trip_mode == 'KNR_PRM',1,0) * np.where(~trips.outbound,1,0)"
,_timeTransitInVehicle,"_timeTransitInVehicle + odt_skims['KNRIN_MIX_TOTALIVTT'] * np.where(trips.trip_mode == 'KNR_MIX',1,0) * np.where(~trips.outbound,1,0)"
,_timeTransitInVehicle,"_timeTransitInVehicle + odt_skims['TNCIN_LOC_TOTALIVTT'] * np.where(trips.trip_mode == 'TNC_LOC',1,0) * np.where(~trips.outbound,1,0)"
,_timeTransitInVehicle,"_timeTransitInVehicle + odt_skims['TNCIN_PRM_TOTALIVTT'] * np.where(trips.trip_mode == 'TNC_PRM',1,0) * np.where(~trips.outbound,1,0)"
,timeTransitInVehicle,"_timeTransitInVehicle + odt_skims['TNCIN_MIX_TOTALIVTT'] * np.where(trips.trip_mode == 'TNC_MIX',1,0) * np.where(~trips.outbound,1,0)"
#,,
,_timeRapidTransitInVehicle,"odt_skims['WALK_PRM_BRTIVTT'] * np.where(trips.trip_mode == 'WALK_PRM',1,0)"
,_timeRapidTransitInVehicle,"_timeRapidTransitInVehicle + odt_skims['WALK_MIX_BRTIVTT'] * np.where(trips.trip_mode == 'WALK_MIX',1,0)"
,_timeRapidTransitInVehicle,"_timeRapidTransitInVehicle + odt_skims['PNROUT_PRM_BRTIVTT'] * np.where(trips.trip_mode == 'PNR_PRM',1,0) * np.where(trips.outbound,1,0)"
,_timeRapidTransitInVehicle,"_timeRapidTransitInVehicle + odt_skims['PNROUT_MIX_BRTIVTT'] * np.where(trips.trip_mode == 'PNR_MIX',1,0) * np.where(trips.outbound,1,0)"
,_timeRapidTransitInVehicle,"_timeRapidTransitInVehicle + odt_skims['KNROUT_PRM_BRTIVTT'] * np.where(trips.trip_mode == 'KNR_PRM',1,0) * np.where(trips.outbound,1,0)"
,_timeRapidTransitInVehicle,"_timeRapidTransitInVehicle + odt_skims['KNROUT_MIX_BRTIVTT'] * np.where(trips.trip_mode == 'KNR_MIX',1,0) * np.where(trips.outbound,1,0)"
,_timeRapidTransitInVehicle,"_timeRapidTransitInVehicle + odt_skims['TNCOUT_PRM_BRTIVTT'] * np.where(trips.trip_mode == 'TNC_PRM',1,0) * np.where(trips.outbound,1,0)"
,_timeRapidTransitInVehicle,"_timeRapidTransitInVehicle + odt_skims['TNCOUT_MIX_BRTIVTT'] * np.where(trips.trip_mode == 'TNC_MIX',1,0) * np.where(trips.outbound,1,0)"
,_timeRapidTransitInVehicle,"_timeRapidTransitInVehicle + odt_skims['PNRIN_PRM_BRTIVTT'] * np.where(trips.trip_mode == 'PNR_PRM',1,0) * np.where(~trips.outbound,1,0)"
,_timeRapidTransitInVehicle,"_timeRapidTransitInVehicle + odt_skims['PNRIN_MIX_BRTIVTT'] * np.where(trips.trip_mode == 'PNR_MIX',1,0) * np.where(~trips.outbound,1,0)"
,_timeRapidTransitInVehicle,"_timeRapidTransitInVehicle + odt_skims['KNRIN_PRM_BRTIVTT'] * np.where(trips.trip_mode == 'KNR_PRM',1,0) * np.where(~trips.outbound,1,0)"
,_timeRapidTransitInVehicle,"_timeRapidTransitInVehicle + odt_skims['KNRIN_MIX_BRTIVTT'] * np.where(trips.trip_mode == 'KNR_MIX',1,0) * np.where(~trips.outbound,1,0)"
,_timeRapidTransitInVehicle,"_timeRapidTransitInVehicle + odt_skims['TNCIN_PRM_BRTIVTT'] * np.where(trips.trip_mode == 'TNC_PRM',1,0) * np.where(~trips.outbound,1,0)"
,timeRapidTransitInVehicle,"_timeRapidTransitInVehicle + odt_skims['TNCIN_MIX_BRTIVTT'] * np.where(trips.trip_mode == 'TNC_MIX',1,0) * np.where(~trips.outbound,1,0)"
#,,
,_timeExpressBusTransitInVehicle,"odt_skims['WALK_PRM_EXPIVTT'] * np.where(trips.trip_mode == 'WALK_PRM',1,0)"
,_timeExpressBusTransitInVehicle,"_timeExpressBusTransitInVehicle + odt_skims['WALK_MIX_EXPIVTT'] * np.where(trips.trip_mode == 'WALK_MIX',1,0)"
,_timeExpressBusTransitInVehicle,"_timeExpressBusTransitInVehicle + odt_skims['PNROUT_PRM_EXPIVTT'] * np.where(trips.trip_mode == 'PNR_PRM',1,0) * np.where(trips.outbound,1,0)"
,_timeExpressBusTransitInVehicle,"_timeExpressBusTransitInVehicle + odt_skims['PNROUT_MIX_EXPIVTT'] * np.where(trips.trip_mode == 'PNR_MIX',1,0) * np.where(trips.outbound,1,0)"
,_timeExpressBusTransitInVehicle,"_timeExpressBusTransitInVehicle + odt_skims['KNROUT_PRM_EXPIVTT'] * np.where(trips.trip_mode == 'KNR_PRM',1,0) * np.where(trips.outbound,1,0)"
,_timeExpressBusTransitInVehicle,"_timeExpressBusTransitInVehicle + odt_skims['KNROUT_MIX_EXPIVTT'] * np.where(trips.trip_mode == 'KNR_MIX',1,0) * np.where(trips.outbound,1,0)"
,_timeExpressBusTransitInVehicle,"_timeExpressBusTransitInVehicle + odt_skims['TNCOUT_PRM_EXPIVTT'] * np.where(trips.trip_mode == 'TNC_PRM',1,0) * np.where(trips.outbound,1,0)"
,_timeExpressBusTransitInVehicle,"_timeExpressBusTransitInVehicle + odt_skims['TNCOUT_MIX_EXPIVTT'] * np.where(trips.trip_mode == 'TNC_MIX',1,0) * np.where(trips.outbound,1,0)"
,_timeExpressBusTransitInVehicle,"_timeExpressBusTransitInVehicle + odt_skims['PNRIN_PRM_EXPIVTT'] * np.where(trips.trip_mode == 'PNR_PRM',1,0) * np.where(~trips.outbound,1,0)"
,_timeExpressBusTransitInVehicle,"_timeExpressBusTransitInVehicle + odt_skims['PNRIN_MIX_EXPIVTT'] * np.where(trips.trip_mode == 'PNR_MIX',1,0) * np.where(~trips.outbound,1,0)"
,_timeExpressBusTransitInVehicle,"_timeExpressBusTransitInVehicle + odt_skims['KNRIN_PRM_EXPIVTT'] * np.where(trips.trip_mode == 'KNR_PRM',1,0) * np.where(~trips.outbound,1,0)"
,_timeExpressBusTransitInVehicle,"_timeExpressBusTransitInVehicle + odt_skims['KNRIN_MIX_EXPIVTT'] * np.where(trips.trip_mode == 'KNR_MIX',1,0) * np.where(~trips.outbound,1,0)"
,_timeExpressBusTransitInVehicle,"_timeExpressBusTransitInVehicle + odt_skims['TNCIN_PRM_EXPIVTT'] * np.where(trips.trip_mode == 'TNC_PRM',1,0) * np.where(~trips.outbound,1,0)"
,timeExpressBusTransitInVehicle,"_timeExpressBusTransitInVehicle + odt_skims['TNCIN_MIX_EXPIVTT'] * np.where(trips.trip_mode == 'TNC_MIX',1,0) * np.where(~trips.outbound,1,0)"
#,,
,_timeLocalBusTransitInVehicle,"odt_skims['WALK_LOC_BUSIVTT'] * np.where(trips.trip_mode == 'WALK_LOC',1,0)"
,_timeLocalBusTransitInVehicle,"_timeLocalBusTransitInVehicle + odt_skims['WALK_MIX_BUSIVTT'] * np.where(trips.trip_mode == 'WALK_MIX',1,0)"
,_timeLocalBusTransitInVehicle,"_timeLocalBusTransitInVehicle + odt_skims['PNROUT_LOC_BUSIVTT'] * np.where(trips.trip_mode == 'PNR_LOC',1,0) * np.where(trips.outbound,1,0)"
,_timeLocalBusTransitInVehicle,"_timeLocalBusTransitInVehicle + odt_skims['PNROUT_MIX_BUSIVTT'] * np.where(trips.trip_mode == 'PNR_MIX',1,0) * np.where(trips.outbound,1,0)"
,_timeLocalBusTransitInVehicle,"_timeLocalBusTransitInVehicle + odt_skims['KNROUT_LOC_BUSIVTT'] * np.where(trips.trip_mode == 'KNR_LOC',1,0) * np.where(trips.outbound,1,0)"
,_timeLocalBusTransitInVehicle,"_timeLocalBusTransitInVehicle + odt_skims['KNROUT_MIX_BUSIVTT'] * np.where(trips.trip_mode == 'KNR_MIX',1,0) * np.where(trips.outbound,1,0)"
,_timeLocalBusTransitInVehicle,"_timeLocalBusTransitInVehicle + odt_skims['TNCOUT_LOC_BUSIVTT'] * np.where(trips.trip_mode == 'TNC_LOC',1,0) * np.where(trips.outbound,1,0)"
,_timeLocalBusTransitInVehicle,"_timeLocalBusTransitInVehicle + odt_skims['TNCOUT_MIX_BUSIVTT'] * np.where(trips.trip_mode == 'TNC_MIX',1,0) * np.where(trips.outbound,1,0)"
,_timeLocalBusTransitInVehicle,"_timeLocalBusTransitInVehicle + odt_skims['PNRIN_LOC_BUSIVTT'] * np.where(trips.trip_mode == 'PNR_LOC',1,0) * np.where(~trips.outbound,1,0)"
,_timeLocalBusTransitInVehicle,"_timeLocalBusTransitInVehicle + odt_skims['PNRIN_MIX_BUSIVTT'] * np.where(trips.trip_mode == 'PNR_MIX',1,0) * np.where(~trips.outbound,1,0)"
,_timeLocalBusTransitInVehicle,"_timeLocalBusTransitInVehicle + odt_skims['KNRIN_LOC_BUSIVTT'] * np.where(trips.trip_mode == 'KNR_LOC',1,0) * np.where(~trips.outbound,1,0)"
,_timeLocalBusTransitInVehicle,"_timeLocalBusTransitInVehicle + odt_skims['KNRIN_MIX_BUSIVTT'] * np.where(trips.trip_mode == 'KNR_MIX',1,0) * np.where(~trips.outbound,1,0)"
,_timeLocalBusTransitInVehicle,"_timeLocalBusTransitInVehicle + odt_skims['TNCIN_LOC_BUSIVTT'] * np.where(trips.trip_mode == 'TNC_LOC',1,0) * np.where(~trips.outbound,1,0)"
,timeLocalBusTransitInVehicle,"_timeLocalBusTransitInVehicle + odt_skims['TNCIN_MIX_BUSIVTT'] * np.where(trips.trip_mode == 'TNC_MIX',1,0) * np.where(~trips.outbound,1,0)"
#,,
,_timeLightRailTransitInVehicle,"odt_skims['WALK_PRM_LRTIVTT'] * np.where(trips.trip_mode == 'WALK_PRM',1,0)"
,_timeLightRailTransitInVehicle,"_timeLightRailTransitInVehicle + odt_skims['WALK_MIX_LRTIVTT'] * np.where(trips.trip_mode == 'WALK_MIX',1,0)"
,_timeLightRailTransitInVehicle,"_timeLightRailTransitInVehicle + odt_skims['PNROUT_PRM_LRTIVTT'] * np.where(trips.trip_mode == 'PNR_PRM',1,0) * np.where(trips.outbound,1,0)"
,_timeLightRailTransitInVehicle,"_timeLightRailTransitInVehicle + odt_skims['PNROUT_MIX_LRTIVTT'] * np.where(trips.trip_mode == 'PNR_MIX',1,0) * np.where(trips.outbound,1,0)"
,_timeLightRailTransitInVehicle,"_timeLightRailTransitInVehicle + odt_skims['KNROUT_PRM_LRTIVTT'] * np.where(trips.trip_mode == 'KNR_PRM',1,0) * np.where(trips.outbound,1,0)"
,_timeLightRailTransitInVehicle,"_timeLightRailTransitInVehicle + odt_skims['KNROUT_MIX_LRTIVTT'] * np.where(trips.trip_mode == 'KNR_MIX',1,0) * np.where(trips.outbound,1,0)"
,_timeLightRailTransitInVehicle,"_timeLightRailTransitInVehicle + odt_skims['TNCOUT_PRM_LRTIVTT'] * np.where(trips.trip_mode == 'TNC_PRM',1,0) * np.where(trips.outbound,1,0)"
,_timeLightRailTransitInVehicle,"_timeLightRailTransitInVehicle + odt_skims['TNCOUT_MIX_LRTIVTT'] * np.where(trips.trip_mode == 'TNC_MIX',1,0) * np.where(trips.outbound,1,0)"
,_timeLightRailTransitInVehicle,"_timeLightRailTransitInVehicle + odt_skims['PNRIN_PRM_LRTIVTT'] * np.where(trips.trip_mode == 'PNR_PRM',1,0) * np.where(~trips.outbound,1,0)"
,_timeLightRailTransitInVehicle,"_timeLightRailTransitInVehicle + odt_skims['PNRIN_MIX_LRTIVTT'] * np.where(trips.trip_mode == 'PNR_MIX',1,0) * np.where(~trips.outbound,1,0)"
,_timeLightRailTransitInVehicle,"_timeLightRailTransitInVehicle + odt_skims['KNRIN_PRM_LRTIVTT'] * np.where(trips.trip_mode == 'KNR_PRM',1,0) * np.where(~trips.outbound,1,0)"
,_timeLightRailTransitInVehicle,"_timeLightRailTransitInVehicle + odt_skims['KNRIN_MIX_LRTIVTT'] * np.where(trips.trip_mode == 'KNR_MIX',1,0) * np.where(~trips.outbound,1,0)"
,_timeLightRailTransitInVehicle,"_timeLightRailTransitInVehicle + odt_skims['TNCIN_PRM_LRTIVTT'] * np.where(trips.trip_mode == 'TNC_PRM',1,0) * np.where(~trips.outbound,1,0)"
,timeLightRailTransitInVehicle,"_timeLightRailTransitInVehicle + odt_skims['TNCIN_MIX_LRTIVTT'] * np.where(trips.trip_mode == 'TNC_MIX',1,0) * np.where(~trips.outbound,1,0)"
#,,
,_timeCommuterRailTransitInVehicle,"odt_skims['WALK_PRM_CMRIVTT'] * np.where(trips.trip_mode == 'WALK_PRM',1,0)"
,_timeCommuterRailTransitInVehicle,"_timeCommuterRailTransitInVehicle + odt_skims['WALK_MIX_CMRIVTT'] * np.where(trips.trip_mode == 'WALK_MIX',1,0)"
,_timeCommuterRailTransitInVehicle,"_timeCommuterRailTransitInVehicle + odt_skims['PNROUT_PRM_CMRIVTT'] * np.where(trips.trip_mode == 'PNR_PRM',1,0) * np.where(trips.outbound,1,0)"
,_timeCommuterRailTransitInVehicle,"_timeCommuterRailTransitInVehicle + odt_skims['PNROUT_MIX_CMRIVTT'] * np.where(trips.trip_mode == 'PNR_MIX',1,0) * np.where(trips.outbound,1,0)"
,_timeCommuterRailTransitInVehicle,"_timeCommuterRailTransitInVehicle + odt_skims['KNROUT_PRM_CMRIVTT'] * np.where(trips.trip_mode == 'KNR_PRM',1,0) * np.where(trips.outbound,1,0)"
,_timeCommuterRailTransitInVehicle,"_timeCommuterRailTransitInVehicle + odt_skims['KNROUT_MIX_CMRIVTT'] * np.where(trips.trip_mode == 'KNR_MIX',1,0) * np.where(trips.outbound,1,0)"
,_timeCommuterRailTransitInVehicle,"_timeCommuterRailTransitInVehicle + odt_skims['TNCOUT_PRM_CMRIVTT'] * np.where(trips.trip_mode == 'TNC_PRM',1,0) * np.where(trips.outbound,1,0)"
,_timeCommuterRailTransitInVehicle,"_timeCommuterRailTransitInVehicle + odt_skims['TNCOUT_MIX_CMRIVTT'] * np.where(trips.trip_mode == 'TNC_MIX',1,0) * np.where(trips.outbound,1,0)"
,_timeCommuterRailTransitInVehicle,"_timeCommuterRailTransitInVehicle + odt_skims['PNRIN_PRM_CMRIVTT'] * np.where(trips.trip_mode == 'PNR_PRM',1,0) * np.where(~trips.outbound,1,0)"
,_timeCommuterRailTransitInVehicle,"_timeCommuterRailTransitInVehicle + odt_skims['PNRIN_MIX_CMRIVTT'] * np.where(trips.trip_mode == 'PNR_MIX',1,0) * np.where(~trips.outbound,1,0)"
,_timeCommuterRailTransitInVehicle,"_timeCommuterRailTransitInVehicle + odt_skims['KNRIN_PRM_CMRIVTT'] * np.where(trips.trip_mode == 'KNR_PRM',1,0) * np.where(~trips.outbound,1,0)"
,_timeCommuterRailTransitInVehicle,"_timeCommuterRailTransitInVehicle + odt_skims['KNRIN_MIX_CMRIVTT'] * np.where(trips.trip_mode == 'KNR_MIX',1,0) * np.where(~trips.outbound,1,0)"
,_timeCommuterRailTransitInVehicle,"_timeCommuterRailTransitInVehicle + odt_skims['TNCIN_PRM_CMRIVTT'] * np.where(trips.trip_mode == 'TNC_PRM',1,0) * np.where(~trips.outbound,1,0)"
,timeCommuterRailTransitInVehicle,"_timeCommuterRailTransitInVehicle + odt_skims['TNCIN_MIX_CMRIVTT'] * np.where(trips.trip_mode == 'TNC_MIX',1,0) * np.where(~trips.outbound,1,0)"
#,,
,_timeTransitInitialWait,"odt_skims['WALK_LOC_FIRSTWAIT'] * np.where(trips.trip_mode == 'WALK_LOC',1,0)"
,_timeTransitInitialWait,"_timeTransitInitialWait + odt_skims['WALK_PRM_FIRSTWAIT'] * np.where(trips.trip_mode == 'WALK_PRM',1,0)"
,_timeTransitInitialWait,"_timeTransitInitialWait + odt_skims['WALK_MIX_FIRSTWAIT'] * np.where(trips.trip_mode == 'WALK_MIX',1,0)"
,_timeTransitInitialWait,"_timeTransitInitialWait + odt_skims['PNROUT_LOC_FIRSTWAIT'] * np.where(trips.trip_mode == 'PNR_LOC',1,0) * np.where(trips.outbound,1,0)"
,_timeTransitInitialWait,"_timeTransitInitialWait + odt_skims['PNROUT_PRM_FIRSTWAIT'] * np.where(trips.trip_mode == 'PNR_PRM',1,0) * np.where(trips.outbound,1,0)"
,_timeTransitInitialWait,"_timeTransitInitialWait + odt_skims['PNROUT_MIX_FIRSTWAIT'] * np.where(trips.trip_mode == 'PNR_MIX',1,0) * np.where(trips.outbound,1,0)"
,_timeTransitInitialWait,"_timeTransitInitialWait + odt_skims['KNROUT_LOC_FIRSTWAIT'] * np.where(trips.trip_mode == 'KNR_LOC',1,0) * np.where(trips.outbound,1,0)"
,_timeTransitInitialWait,"_timeTransitInitialWait + odt_skims['KNROUT_PRM_FIRSTWAIT'] * np.where(trips.trip_mode == 'KNR_PRM',1,0) * np.where(trips.outbound,1,0)"
,_timeTransitInitialWait,"_timeTransitInitialWait + odt_skims['KNROUT_MIX_FIRSTWAIT'] * np.where(trips.trip_mode == 'KNR_MIX',1,0) * np.where(trips.outbound,1,0)"
,_timeTransitInitialWait,"_timeTransitInitialWait + odt_skims['TNCOUT_LOC_FIRSTWAIT'] * np.where(trips.trip_mode == 'TNC_LOC',1,0) * np.where(trips.outbound,1,0)"
,_timeTransitInitialWait,"_timeTransitInitialWait + odt_skims['TNCOUT_PRM_FIRSTWAIT'] * np.where(trips.trip_mode == 'TNC_PRM',1,0) * np.where(trips.outbound,1,0)"
,_timeTransitInitialWait,"_timeTransitInitialWait + odt_skims['TNCOUT_MIX_FIRSTWAIT'] * np.where(trips.trip_mode == 'TNC_MIX',1,0) * np.where(trips.outbound,1,0)"
,_timeTransitInitialWait,"_timeTransitInitialWait + odt_skims['PNRIN_LOC_FIRSTWAIT'] * np.where(trips.trip_mode == 'PNR_LOC',1,0) * np.where(~trips.outbound,1,0)"
,_timeTransitInitialWait,"_timeTransitInitialWait + odt_skims['PNRIN_PRM_FIRSTWAIT'] * np.where(trips.trip_mode == 'PNR_PRM',1,0) * np.where(~trips.outbound,1,0)"
,_timeTransitInitialWait,"_timeTransitInitialWait + odt_skims['PNRIN_MIX_FIRSTWAIT'] * np.where(trips.trip_mode == 'PNR_MIX',1,0) * np.where(~trips.outbound,1,0)"
,_timeTransitInitialWait,"_timeTransitInitialWait + odt_skims['KNRIN_LOC_FIRSTWAIT'] * np.where(trips.trip_mode == 'KNR_LOC',1,0) * np.where(~trips.outbound,1,0)"
,_timeTransitInitialWait,"_timeTransitInitialWait + odt_skims['KNRIN_PRM_FIRSTWAIT'] * np.where(trips.trip_mode == 'KNR_PRM',1,0) * np.where(~trips.outbound,1,0)"
,_timeTransitInitialWait,"_timeTransitInitialWait + odt_skims['KNRIN_MIX_FIRSTWAIT'] * np.where(trips.trip_mode == 'KNR_MIX',1,0) * np.where(~trips.outbound,1,0)"
,_timeTransitInitialWait,"_timeTransitInitialWait + odt_skims['TNCIN_LOC_FIRSTWAIT'] * np.where(trips.trip_mode == 'TNC_LOC',1,0) * np.where(~trips.outbound,1,0)"
,_timeTransitInitialWait,"_timeTransitInitialWait + odt_skims['TNCIN_PRM_FIRSTWAIT'] * np.where(trips.trip_mode == 'TNC_PRM',1,0) * np.where(~trips.outbound,1,0)"
,timeTransitInitialWait,"_timeTransitInitialWait + odt_skims['TNCIN_MIX_FIRSTWAIT'] * np.where(trips.trip_mode == 'TNC_MIX',1,0) * np.where(~trips.outbound,1,0)"
#,,
,_costFareTransit,"odt_skims['WALK_LOC_FARE'] * np.where(trips.trip_mode == 'WALK_LOC',1,0)"
,_costFareTransit,"_costFareTransit + odt_skims['WALK_PRM_FARE'] * np.where(trips.trip_mode == 'WALK_PRM',1,0)"
,_costFareTransit,"_costFareTransit + odt_skims['WALK_MIX_FARE'] * np.where(trips.trip_mode == 'WALK_MIX',1,0)"
,_costFareTransit,"_costFareTransit + odt_skims['PNROUT_LOC_FARE'] * np.where(trips.trip_mode == 'PNR_LOC',1,0) * np.where(trips.outbound,1,0)"
,_costFareTransit,"_costFareTransit + odt_skims['PNROUT_PRM_FARE'] * np.where(trips.trip_mode == 'PNR_PRM',1,0) * np.where(trips.outbound,1,0)"
,_costFareTransit,"_costFareTransit + odt_skims['PNROUT_MIX_FARE'] * np.where(trips.trip_mode == 'PNR_MIX',1,0) * np.where(trips.outbound,1,0)"
,_costFareTransit,"_costFareTransit + odt_skims['KNROUT_LOC_FARE'] * np.where(trips.trip_mode == 'KNR_LOC',1,0) * np.where(trips.outbound,1,0)"
,_costFareTransit,"_costFareTransit + odt_skims['KNROUT_PRM_FARE'] * np.where(trips.trip_mode == 'KNR_PRM',1,0) * np.where(trips.outbound,1,0)"
,_costFareTransit,"_costFareTransit + odt_skims['KNROUT_MIX_FARE'] * np.where(trips.trip_mode == 'KNR_MIX',1,0) * np.where(trips.outbound,1,0)"
,_costFareTransit,"_costFareTransit + odt_skims['TNCOUT_LOC_FARE'] * np.where(trips.trip_mode == 'TNC_LOC',1,0) * np.where(trips.outbound,1,0)"
,_costFareTransit,"_costFareTransit + odt_skims['TNCOUT_PRM_FARE'] * np.where(trips.trip_mode == 'TNC_PRM',1,0) * np.where(trips.outbound,1,0)"
,_costFareTransit,"_costFareTransit + odt_skims['TNCOUT_MIX_FARE'] * np.where(trips.trip_mode == 'TNC_MIX',1,0) * np.where(trips.outbound,1,0)"
,_costFareTransit,"_costFareTransit + odt_skims['PNRIN_LOC_FARE'] * np.where(trips.trip_mode == 'PNR_LOC',1,0) * np.where(~trips.outbound,1,0)"
,_costFareTransit,"_costFareTransit + odt_skims['PNRIN_PRM_FARE'] * np.where(trips.trip_mode == 'PNR_PRM',1,0) * np.where(~trips.outbound,1,0)"
,_costFareTransit,"_costFareTransit + odt_skims['PNRIN_MIX_FARE'] * np.where(trips.trip_mode == 'PNR_MIX',1,0) * np.where(~trips.outbound,1,0)"
,_costFareTransit,"_costFareTransit + odt_skims['KNRIN_LOC_FARE'] * np.where(trips.trip_mode == 'KNR_LOC',1,0) * np.where(~trips.outbound,1,0)"
,_costFareTransit,"_costFareTransit + odt_skims['KNRIN_PRM_FARE'] * np.where(trips.trip_mode == 'KNR_PRM',1,0) * np.where(~trips.outbound,1,0)"
,_costFareTransit,"_costFareTransit + odt_skims['KNRIN_MIX_FARE'] * np.where(trips.trip_mode == 'KNR_MIX',1,0) * np.where(~trips.outbound,1,0)"
,_costFareTransit,"_costFareTransit + odt_skims['TNCIN_LOC_FARE'] * np.where(trips.trip_mode == 'TNC_LOC',1,0) * np.where(~trips.outbound,1,0)"
,_costFareTransit,"_costFareTransit + odt_skims['TNCIN_PRM_FARE'] * np.where(trips.trip_mode == 'TNC_PRM',1,0) * np.where(~trips.outbound,1,0)"
,costFareTransit,"_costFareTransit + odt_skims['TNCIN_MIX_FARE'] * np.where(trips.trip_mode == 'TNC_MIX',1,0) * np.where(~trips.outbound,1,0)"
#,,
,_transfersTransit,"odt_skims['WALK_LOC_XFERS'] * np.where(trips.trip_mode == 'WALK_LOC',1,0)"
,_transfersTransit,"_transfersTransit + odt_skims['WALK_PRM_XFERS'] * np.where(trips.trip_mode == 'WALK_PRM',1,0)"
,_transfersTransit,"_transfersTransit + odt_skims['WALK_MIX_XFERS'] * np.where(trips.trip_mode == 'WALK_MIX',1,0)"
,_transfersTransit,"_transfersTransit + odt_skims['PNROUT_LOC_XFERS'] * np.where(trips.trip_mode == 'PNR_LOC',1,0) * np.where(trips.outbound,1,0)"
,_transfersTransit,"_transfersTransit + odt_skims['PNROUT_PRM_XFERS'] * np.where(trips.trip_mode == 'PNR_PRM',1,0) * np.where(trips.outbound,1,0)"
,_transfersTransit,"_transfersTransit + odt_skims['PNROUT_MIX_XFERS'] * np.where(trips.trip_mode == 'PNR_MIX',1,0) * np.where(trips.outbound,1,0)"
,_transfersTransit,"_transfersTransit + odt_skims['KNROUT_LOC_XFERS'] * np.where(trips.trip_mode == 'KNR_LOC',1,0) * np.where(trips.outbound,1,0)"
,_transfersTransit,"_transfersTransit + odt_skims['KNROUT_PRM_XFERS'] * np.where(trips.trip_mode == 'KNR_PRM',1,0) * np.where(trips.outbound,1,0)"
,_transfersTransit,"_transfersTransit + odt_skims['KNROUT_MIX_XFERS'] * np.where(trips.trip_mode == 'KNR_MIX',1,0) * np.where(trips.outbound,1,0)"
,_transfersTransit,"_transfersTransit + odt_skims['TNCOUT_LOC_XFERS'] * np.where(trips.trip_mode == 'TNC_LOC',1,0) * np.where(trips.outbound,1,0)"
,_transfersTransit,"_transfersTransit + odt_skims['TNCOUT_PRM_XFERS'] * np.where(trips.trip_mode == 'TNC_PRM',1,0) * np.where(trips.outbound,1,0)"
,_transfersTransit,"_transfersTransit + odt_skims['TNCOUT_MIX_XFERS'] * np.where(trips.trip_mode == 'TNC_MIX',1,0) * np.where(trips.outbound,1,0)"
,_transfersTransit,"_transfersTransit + odt_skims['PNRIN_LOC_XFERS'] * np.where(trips.trip_mode == 'PNR_LOC',1,0) * np.where(~trips.outbound,1,0)"
,_transfersTransit,"_transfersTransit + odt_skims['PNRIN_PRM_XFERS'] * np.where(trips.trip_mode == 'PNR_PRM',1,0) * np.where(~trips.outbound,1,0)"
,_transfersTransit,"_transfersTransit + odt_skims['PNRIN_MIX_XFERS'] * np.where(trips.trip_mode == 'PNR_MIX',1,0) * np.where(~trips.outbound,1,0)"
,_transfersTransit,"_transfersTransit + odt_skims['KNRIN_LOC_XFERS'] * np.where(trips.trip_mode == 'KNR_LOC',1,0) * np.where(~trips.outbound,1,0)"
,_transfersTransit,"_transfersTransit + odt_skims['KNRIN_PRM_XFERS'] * np.where(trips.trip_mode == 'KNR_PRM',1,0) * np.where(~trips.outbound,1,0)"
,_transfersTransit,"_transfersTransit + odt_skims['KNRIN_MIX_XFERS'] * np.where(trips.trip_mode == 'KNR_MIX',1,0) * np.where(~trips.outbound,1,0)"
,_transfersTransit,"_transfersTransit + odt_skims['TNCIN_LOC_XFERS'] * np.where(trips.trip_mode == 'TNC_LOC',1,0) * np.where(~trips.outbound,1,0)"
,_transfersTransit,"_transfersTransit + odt_skims['TNCIN_PRM_XFERS'] * np.where(trips.trip_mode == 'TNC_PRM',1,0) * np.where(~trips.outbound,1,0)"
,transfersTransit,"_transfersTransit + odt_skims['TNCIN_MIX_XFERS'] * np.where(trips.trip_mode == 'TNC_MIX',1,0) * np.where(~trips.outbound,1,0)"
#bikeskim,,
,timeBike,"od_skims['BIKE_TIME'] * np.where(trips.trip_mode == 'BIKE',1,0)"
,timeWalk,"od_skims['walkTime'] * np.where(trips.trip_mode == 'WALK',1,0)"
# totals,,
,cost_total,costOperatingDrive + costTollDrive + costFareTransit
,time_total,timeDrive + timeBike + timeWalk + timeTransitInitialWait + timeTransitInVehicle + transfersTransit
#,,
,value_of_time_category_id,"np.where(vot_1,1,np.where(vot_2,2,3))"
#,,
,origin_micro_local_dist,"reindex(land_use.micro_dist_local_bus, origin)"
,origin_micro_prm_dist,"reindex(land_use.micro_dist_premium_transit, origin)"
,origin_micro_mix_dist,"np.minimum(origin_micro_local_dist, origin_micro_prm_dist)"
,dest_micro_local_dist,"reindex(land_use.micro_dist_local_bus, destination)"
,dest_micro_prm_dist,"reindex(land_use.micro_dist_premium_transit, destination)"
,dest_micro_mix_dist,"np.minimum(dest_micro_local_dist, dest_micro_prm_dist)"
microtransit available at origin,microtransit_orig,"reindex(land_use.microtransit, trips.origin)"
microtransit available at destination,microtransit_dest,"reindex(land_use.microtransit, trips.destination)"
microtransit available,microtransit_available,(microtransit_orig > 0) & (microtransit_orig == microtransit_dest) & (od_skims['DIST'] < microtransitMaxDist)
nev available at origin,nev_orig,"reindex(land_use.nev, trips.origin)"
nev available at destination,nev_dest,"reindex(land_use.nev, trips.destination)"
nev available,nev_available,(nev_orig > 0) & (nev_orig == nev_dest) & (od_skims['DIST'] < nevMaxDist)
outbound microtransit access available,microtransit_access_available_out,trips.outbound & (microtransit_orig>0) & (origin_micro_mix_dist<microtransitMaxDist)
outbound nev access available,nev_access_available_out,trips.outbound & (nev_orig>0) & (origin_micro_mix_dist<nevMaxDist)
outbound microtransit egress available,microtransit_egress_available_out,trips.outbound & (microtransit_dest>0) & (dest_micro_mix_dist>maxWalkIfMTAccessAvailable) & (dest_micro_mix_dist<microtransitMaxDist)
outbound nev egress available,nev_egress_available_out,trips.outbound & (nev_dest>0) & (dest_micro_mix_dist>maxWalkIfMTAccessAvailable) & (dest_micro_mix_dist<nevMaxDist)
inbound microtransit access available,microtransit_access_available_in,~trips.outbound & (microtransit_orig>0) & (origin_micro_mix_dist>maxWalkIfMTAccessAvailable) & (origin_micro_mix_dist<microtransitMaxDist)
inbound nev access available,nev_access_available_in,~trips.outbound & (nev_orig>0) & (origin_micro_mix_dist>maxWalkIfMTAccessAvailable) & (origin_micro_mix_dist<nevMaxDist)
inbound microtransit egress available,microtransit_egress_available_in,~trips.outbound & (microtransit_dest>0) & (dest_micro_mix_dist<microtransitMaxDist)
inbound nev egress available,nev_egress_available_in,~trips.outbound & (nev_dest>0) & (dest_micro_mix_dist<nevMaxDist)
Description,Target,Expression
,_origin_local_dist,"reindex(land_use.walk_dist_local_bus, df.origin)"
,_origin_prm_dist,"reindex(land_use.walk_dist_premium_transit, df.origin)"
,_origin_mix_dist,"np.minimum(_origin_local_dist, _origin_prm_dist)"
,_dest_local_dist,"reindex(land_use.walk_dist_local_bus, df.destination)"
,_dest_prm_dist,"reindex(land_use.walk_dist_premium_transit, df.destination)"
,_dest_mix_dist,"np.minimum(_dest_local_dist, _dest_prm_dist)"
,_origin_local_time,_origin_local_dist * 60/walkSpeed
,_origin_prm_time,_origin_prm_dist * 60/walkSpeed
,_origin_mix_time,_origin_mix_dist * 60/walkSpeed
,_dest_local_time,_dest_local_dist * 60/walkSpeed
,_dest_prm_time,_dest_prm_dist * 60/walkSpeed
,_dest_mix_time,_dest_mix_dist * 60/walkSpeed
,_MicroAccessTime,"reindex(land_use.MicroAccessTime,df.origin)"
Origin Terminal Time,_oTermTime,"reindex(land_use.terminal_time,df.origin)"
Destination Terminal Time,_dTermTime,"reindex(land_use.terminal_time,df.destination)"
,_tour_participants,df.tour_id.map(tours.number_of_participants)
,_tour_mode,df.tour_id.map(tours.tour_mode)
,_tourEbike,(_tour_mode == 'EBIKE')
,_is_joint,(_tour_participants > 1)
#,,
,_time_drive_terminal,0
,time_drive_terminal,"_time_drive_terminal + df.trip_mode.isin(['DRIVEALONE','SHARED2','SHARED3']) * (_oTermTime + _dTermTime) * df.autoTermTimeFactor"
#,,
,_cost_parking,0
,_cost_parking,"_cost_parking + df.trip_mode.isin(['DRIVEALONE']) * (df.parkingCost * df.autoParkingCostFactor)"
,_cost_parking,"_cost_parking + df.trip_mode.isin(['SHARED2']) * (df.parkingCost * df.autoParkingCostFactor)/np.where(_is_joint,_tour_participants,OCC_SHARED2)"
,cost_parking,"_cost_parking + df.trip_mode.isin(['SHARED3']) * (df.parkingCost * df.autoParkingCostFactor)/np.where(_is_joint,_tour_participants,OCC_SHARED3)"
#,,
,_costOperatingDrive,0
,_costOperatingDrive,"_costOperatingDrive + (df.trip_mode.isin(['DRIVEALONE'])) * df.auto_op_cost * df.autoCPMFactor * df.da_dist_skims"
,_costOperatingDrive,"_costOperatingDrive + (df.trip_mode.isin(['SHARED2'])) * (df.auto_op_cost * df.autoCPMFactor * df.s2_dist_skims)/np.where(_is_joint,_tour_participants,OCC_SHARED2)"
,_costOperatingDrive,"_costOperatingDrive + (df.trip_mode.isin(['SHARED3'])) * (df.auto_op_cost * df.s3_dist_skims * df.autoCPMFactor)/np.where(_is_joint,_tour_participants,OCC_SHARED3)"
,_costOperatingDrive,"_costOperatingDrive + (df.trip_mode.isin(['PNR_LOC'])) * (df.auto_op_cost * (odt_skims['PNROUT_LOC_ACC']/60) *driveSpeed)* df.outbound / _tour_participants"
,_costOperatingDrive,"_costOperatingDrive + (df.trip_mode.isin(['PNR_LOC'])) * (df.auto_op_cost * (odt_skims['PNRIN_LOC_EGR']/60) *driveSpeed) * ~df.outbound / _tour_participants"
,_costOperatingDrive,"_costOperatingDrive + (df.trip_mode.isin(['PNR_PRM'])) * (df.auto_op_cost * (odt_skims['PNROUT_PRM_ACC']/60) *driveSpeed) * df.outbound / _tour_participants"
,_costOperatingDrive,"_costOperatingDrive + (df.trip_mode.isin(['PNR_PRM'])) * (df.auto_op_cost * (odt_skims['PNRIN_PRM_EGR']/60) *driveSpeed)*~df.outbound / _tour_participants"
,_costOperatingDrive,"_costOperatingDrive + (df.trip_mode.isin(['PNR_MIX'])) * (df.auto_op_cost * (odt_skims['PNROUT_MIX_ACC']/60) *driveSpeed) * df.outbound / _tour_participants"
,_costOperatingDrive,"_costOperatingDrive + (df.trip_mode.isin(['PNR_MIX'])) * (df.auto_op_cost * (odt_skims['PNRIN_MIX_EGR']/60) *driveSpeed)*~df.outbound / _tour_participants"
,_costOperatingDrive,"_costOperatingDrive + (df.trip_mode.isin(['KNR_LOC'])) * (df.auto_op_cost * df.autoCPMFactor * (odt_skims['KNROUT_LOC_ACC']/60) *driveSpeed )*df.outbound / _tour_participants"
,_costOperatingDrive,"_costOperatingDrive + (df.trip_mode.isin(['KNR_LOC'])) * (df.auto_op_cost * df.autoCPMFactor * (odt_skims['KNRIN_LOC_EGR']/60) *driveSpeed)*~df.outbound / _tour_participants"
,_costOperatingDrive,"_costOperatingDrive + (df.trip_mode.isin(['KNR_PRM'])) * (df.auto_op_cost * df.autoCPMFactor * (odt_skims['KNROUT_PRM_ACC']/60) *driveSpeed)*df.outbound / _tour_participants"
,_costOperatingDrive,"_costOperatingDrive + (df.trip_mode.isin(['KNR_PRM'])) * (df.auto_op_cost * df.autoCPMFactor * (odt_skims['KNRIN_PRM_EGR']/60) *driveSpeed)*~df.outbound / _tour_participants"
,_costOperatingDrive,"_costOperatingDrive + (df.trip_mode.isin(['KNR_MIX'])) * (df.auto_op_cost * df.autoCPMFactor * (odt_skims['KNROUT_MIX_ACC']/60) *driveSpeed)*df.outbound / _tour_participants"
,costOperatingDrive,"_costOperatingDrive + (df.trip_mode.isin(['KNR_MIX'])) * (df.auto_op_cost * df.autoCPMFactor * (odt_skims['KNRIN_MIX_EGR']/60) *driveSpeed)*~df.outbound / _tour_participants"
#,,
,_cost_fare_drive,0
,_cost_fare_drive,"_cost_fare_drive + np.where(df.trip_mode == 'TAXI',1,0) * ((Taxi_baseFare + df.s2_dist_skims * Taxi_costPerMile + df.s2_time_skims * Taxi_costPerMinute) * 100 + df.s2_cost_skims) / _tour_participants"
,_cost_fare_drive,"_cost_fare_drive + np.where(df.trip_mode=='TNC_SINGLE',1,0)*(np.maximum(TNC_single_baseFare + df.s2_dist_skims * TNC_single_costPerMile + df.s2_time_skims * TNC_single_costPerMinute, TNC_single_costMinimum) * 100 + df.s2_cost_skims) / _tour_participants"
,_cost_fare_drive,"_cost_fare_drive + np.where(df.trip_mode=='TNC_SHARED',1,0)*np.where(df.nev_available, 0, np.where(df.microtransit_available, 0, (np.maximum(TNC_shared_baseFare + df.s3_dist_skims * TNC_shared_costPerMile + df.s3_time_skims * TNC_shared_costPerMinute, TNC_shared_costMinimum) * 100 + df.s3_cost_skims))) / _tour_participants"
,_cost_fare_drive,"_cost_fare_drive + df.trip_mode.isin(['TNC_LOC']) * (~df.nev_local_access_available_out) * (~df.microtransit_local_access_available_out) * (df.outbound) * ((np.maximum(TNC_single_baseFare + (odt_skims['KNROUT_LOC_ACC']/60 * driveSpeed) * TNC_single_costPerMile + odt_skims['KNROUT_LOC_ACC'] * TNC_single_costPerMinute, TNC_single_costMinimum) * 100)) / _tour_participants"
,_cost_fare_drive,"_cost_fare_drive + df.trip_mode.isin(['TNC_PRM']) * (~df.nev_prm_access_available_out) * (~df.microtransit_prm_access_available_out) * (df.outbound) * ((np.maximum(TNC_single_baseFare + (odt_skims['KNROUT_PRM_ACC']/60 * driveSpeed) * TNC_single_costPerMile + odt_skims['KNROUT_PRM_ACC'] * TNC_single_costPerMinute, TNC_single_costMinimum) * 100)) / _tour_participants"
,_cost_fare_drive,"_cost_fare_drive + df.trip_mode.isin(['TNC_MIX']) * (~df.nev_mix_access_available_out) * (~df.microtransit_mix_access_available_out) * (df.outbound) * ((np.maximum(TNC_single_baseFare + (odt_skims['KNROUT_MIX_ACC']/60 * driveSpeed) * TNC_single_costPerMile + odt_skims['KNROUT_MIX_ACC'] * TNC_single_costPerMinute, TNC_single_costMinimum) * 100)) / _tour_participants"
,_cost_fare_drive,"_cost_fare_drive + df.trip_mode.isin(['TNC_LOC']) * (~df.nev_local_egress_available_in) * (~df.microtransit_local_egress_available_in) * (~df.outbound) * ((np.maximum(TNC_single_baseFare + (odt_skims['KNRIN_LOC_EGR']/60 * driveSpeed) * TNC_single_costPerMile + odt_skims['KNRIN_LOC_EGR'] * TNC_single_costPerMinute, TNC_single_costMinimum) * 100)) / _tour_participants"
,_cost_fare_drive,"_cost_fare_drive + df.trip_mode.isin(['TNC_PRM']) * (~df.nev_prm_egress_available_in) * (~df.microtransit_prm_egress_available_in) * (~df.outbound) * ((np.maximum(TNC_single_baseFare + (odt_skims['KNRIN_PRM_EGR']/60 * driveSpeed) * TNC_single_costPerMile + odt_skims['KNRIN_PRM_EGR'] * TNC_single_costPerMinute, TNC_single_costMinimum) * 100)) / _tour_participants"
,cost_fare_drive,"_cost_fare_drive + df.trip_mode.isin(['TNC_MIX']) * (~df.nev_mix_egress_available_in) * (~df.microtransit_mix_egress_available_in) * (~df.outbound) * ((np.maximum(TNC_single_baseFare + (odt_skims['KNRIN_MIX_EGR']/60 * driveSpeed) * TNC_single_costPerMile + odt_skims['KNRIN_MIX_EGR'] * TNC_single_costPerMinute, TNC_single_costMinimum) * 100)) / _tour_participants"
#,,
,_time_transit_drive,0
,_time_transit_drive,"_time_transit_drive + (df.trip_mode.isin(['PNR_LOC'])) * odt_skims['PNROUT_LOC_ACC'] * df.outbound"
,_time_transit_drive,"_time_transit_drive + (df.trip_mode.isin(['PNR_LOC'])) * odt_skims['PNRIN_LOC_EGR'] * ~df.outbound"
,_time_transit_drive,"_time_transit_drive + (df.trip_mode.isin(['KNR_LOC'])) * odt_skims['KNROUT_LOC_ACC'] * df.outbound"
,_time_transit_drive,"_time_transit_drive + (df.trip_mode.isin(['KNR_LOC'])) * odt_skims['KNRIN_LOC_EGR'] * ~df.outbound"
,_time_transit_drive,"_time_transit_drive + (df.trip_mode.isin(['TNC_LOC'])) * odt_skims['KNROUT_LOC_ACC'] * df.outbound * ~df.nev_local_access_available_out * ~df.microtransit_local_access_available_out"
,_time_transit_drive,"_time_transit_drive + (df.trip_mode.isin(['TNC_LOC'])) * odt_skims['KNRIN_LOC_EGR'] * ~df.outbound * ~df.nev_local_egress_available_in * ~df.microtransit_local_egress_available_in"
,_time_transit_drive,"_time_transit_drive + (df.trip_mode.isin(['PNR_PRM'])) * odt_skims['PNROUT_PRM_ACC'] * df.outbound"
,_time_transit_drive,"_time_transit_drive + (df.trip_mode.isin(['PNR_PRM'])) * odt_skims['PNRIN_PRM_EGR'] * ~df.outbound"
,_time_transit_drive,"_time_transit_drive + (df.trip_mode.isin(['KNR_PRM'])) * odt_skims['KNROUT_PRM_ACC'] * df.outbound"
,_time_transit_drive,"_time_transit_drive + (df.trip_mode.isin(['KNR_PRM'])) * odt_skims['KNRIN_PRM_EGR'] * ~df.outbound"
,_time_transit_drive,"_time_transit_drive + (df.trip_mode.isin(['TNC_PRM'])) * odt_skims['KNROUT_PRM_ACC'] * df.outbound * ~df.nev_prm_access_available_out * ~df.microtransit_prm_access_available_out"
,_time_transit_drive,"_time_transit_drive + (df.trip_mode.isin(['TNC_PRM'])) * odt_skims['KNRIN_PRM_EGR'] * ~df.outbound * ~df.nev_prm_egress_available_in * ~df.microtransit_prm_egress_available_in"
,_time_transit_drive,"_time_transit_drive + (df.trip_mode.isin(['PNR_MIX'])) * odt_skims['PNROUT_MIX_ACC'] * df.outbound"
,_time_transit_drive,"_time_transit_drive + (df.trip_mode.isin(['PNR_MIX'])) * odt_skims['PNRIN_MIX_EGR'] * ~df.outbound"
,_time_transit_drive,"_time_transit_drive + (df.trip_mode.isin(['KNR_MIX'])) * odt_skims['KNROUT_MIX_ACC'] * df.outbound"
,_time_transit_drive,"_time_transit_drive + (df.trip_mode.isin(['KNR_MIX'])) * odt_skims['KNRIN_MIX_EGR'] * ~df.outbound"
,_time_transit_drive,"_time_transit_drive + (df.trip_mode.isin(['TNC_MIX'])) * odt_skims['KNROUT_MIX_ACC'] * df.outbound * ~df.nev_mix_access_available_out * ~df.microtransit_mix_access_available_out"
,time_transit_drive,"_time_transit_drive + (df.trip_mode.isin(['TNC_MIX'])) * odt_skims['KNRIN_MIX_EGR'] * ~df.outbound * ~df.nev_mix_egress_available_in * ~df.microtransit_mix_egress_available_in"
#,,
,_time_sch_bus_in_vehicle,0
,time_sch_bus_in_vehicle,"_time_sch_bus_in_vehicle + (df.trip_mode=='SCH_BUS') * df.da_dist_skims * 3"
#,,
,_time_nev_in_vehicle,0
,_time_nev_in_vehicle,"_time_nev_in_vehicle + (df.trip_mode=='TNC_SHARED') * df.nev_available * df.nev_time"
,_time_nev_in_vehicle,"_time_nev_in_vehicle + (df.trip_mode.isin(['WALK_LOC','PNR_LOC','KNR_LOC','TNC_LOC'])) * df.nev_local_access_available_in * (df.nev_local_access_time_in)"
,_time_nev_in_vehicle,"_time_nev_in_vehicle + (df.trip_mode.isin(['WALK_LOC','PNR_LOC','KNR_LOC','TNC_LOC'])) * df.nev_local_egress_available_out * (df.nev_local_egress_time_out)"
,_time_nev_in_vehicle,"_time_nev_in_vehicle + (df.trip_mode.isin(['WALK_PRM','PNR_PRM','KNR_PRM','TNC_PRM'])) * df.nev_prm_access_available_in * (df.nev_prm_access_time_in)"
,_time_nev_in_vehicle,"_time_nev_in_vehicle + (df.trip_mode.isin(['WALK_PRM','PNR_PRM','KNR_PRM','TNC_PRM'])) * df.nev_prm_egress_available_out * (df.nev_prm_egress_time_out)"
,_time_nev_in_vehicle,"_time_nev_in_vehicle + (df.trip_mode.isin(['WALK_MIX','PNR_MIX','KNR_MIX','TNC_MIX'])) * df.nev_mix_access_available_in * (df.nev_mix_access_time_in)"
,_time_nev_in_vehicle,"_time_nev_in_vehicle + (df.trip_mode.isin(['WALK_MIX','PNR_MIX','KNR_MIX','TNC_MIX'])) * df.nev_mix_egress_available_out * (df.nev_mix_egress_time_out)"
,_time_nev_in_vehicle,"_time_nev_in_vehicle + (df.trip_mode.isin(['TNC_LOC'])) * df.nev_local_access_available_out * (df.nev_local_access_time_out)"
,_time_nev_in_vehicle,"_time_nev_in_vehicle + (df.trip_mode.isin(['TNC_LOC'])) * df.nev_local_egress_available_in * (df.nev_local_egress_time_in)"
,_time_nev_in_vehicle,"_time_nev_in_vehicle + (df.trip_mode.isin(['TNC_PRM'])) * df.nev_prm_access_available_out * (df.nev_prm_access_time_out)"
,_time_nev_in_vehicle,"_time_nev_in_vehicle + (df.trip_mode.isin(['TNC_PRM'])) * df.nev_prm_egress_available_in * (df.nev_prm_egress_time_in)"
,_time_nev_in_vehicle,"_time_nev_in_vehicle + (df.trip_mode.isin(['TNC_MIX'])) * df.nev_mix_access_available_out * (df.nev_mix_access_time_out)"
,time_nev_in_vehicle,"_time_nev_in_vehicle + (df.trip_mode.isin(['TNC_MIX'])) * df.nev_mix_egress_available_in * (df.nev_mix_egress_time_in)"
#,,
,_time_microtransit_in_vehicle,0
,_time_microtransit_in_vehicle,"_time_microtransit_in_vehicle + (df.trip_mode=='TNC_SHARED') * ~df.nev_available * df.microtransit_available * df.microtransit_time"
,_time_microtransit_in_vehicle,"_time_microtransit_in_vehicle + (df.trip_mode.isin(['WALK_LOC','PNR_LOC','KNR_LOC','TNC_LOC'])) * ~df.nev_local_access_available_in * df.microtransit_local_access_available_in * (df.microtransit_local_access_time_in)"
,_time_microtransit_in_vehicle,"_time_microtransit_in_vehicle + (df.trip_mode.isin(['WALK_LOC','PNR_LOC','KNR_LOC','TNC_LOC'])) * ~df.nev_local_egress_available_out * df.microtransit_local_egress_available_out * (df.microtransit_local_egress_time_out)"
,_time_microtransit_in_vehicle,"_time_microtransit_in_vehicle + (df.trip_mode.isin(['WALK_PRM','PNR_PRM','KNR_PRM','TNC_PRM'])) * ~df.nev_prm_access_available_in * df.microtransit_prm_access_available_in * (df.microtransit_prm_access_time_in)"
,_time_microtransit_in_vehicle,"_time_microtransit_in_vehicle + (df.trip_mode.isin(['WALK_PRM','PNR_PRM','KNR_PRM','TNC_PRM'])) * ~df.nev_prm_egress_available_out * df.microtransit_prm_egress_available_out * (df.microtransit_prm_egress_time_out)"
,_time_microtransit_in_vehicle,"_time_microtransit_in_vehicle + (df.trip_mode.isin(['WALK_MIX','PNR_MIX','KNR_MIX','TNC_MIX'])) * ~df.nev_mix_access_available_in * df.microtransit_mix_access_available_in * (df.microtransit_mix_access_time_in)"
,_time_microtransit_in_vehicle,"_time_microtransit_in_vehicle + (df.trip_mode.isin(['WALK_MIX','PNR_MIX','KNR_MIX','TNC_MIX'])) * ~df.nev_mix_egress_available_out * df.microtransit_mix_egress_available_out * (df.microtransit_mix_egress_time_out)"
,_time_microtransit_in_vehicle,"_time_microtransit_in_vehicle + (df.trip_mode.isin(['TNC_LOC'])) * ~df.nev_local_access_available_out * df.microtransit_local_access_available_out * (df.microtransit_local_access_time_out)"
,_time_microtransit_in_vehicle,"_time_microtransit_in_vehicle + (df.trip_mode.isin(['TNC_LOC'])) * ~df.nev_local_egress_available_in * df.microtransit_local_egress_available_in * (df.microtransit_local_egress_time_in)"
,_time_microtransit_in_vehicle,"_time_microtransit_in_vehicle + (df.trip_mode.isin(['TNC_PRM'])) * ~df.nev_prm_access_available_out * df.microtransit_prm_access_available_out * (df.microtransit_prm_access_time_out)"
,_time_microtransit_in_vehicle,"_time_microtransit_in_vehicle + (df.trip_mode.isin(['TNC_PRM'])) * ~df.nev_prm_egress_available_in * df.microtransit_prm_egress_available_in * (df.microtransit_prm_egress_time_in)"
,_time_microtransit_in_vehicle,"_time_microtransit_in_vehicle + (df.trip_mode.isin(['TNC_MIX'])) * ~df.nev_mix_access_available_out * df.microtransit_mix_access_available_out * (df.microtransit_mix_access_time_out)"
,time_microtransit_in_vehicle,"_time_microtransit_in_vehicle + (df.trip_mode.isin(['TNC_MIX'])) * ~df.nev_mix_egress_available_in * df.microtransit_mix_egress_available_in * (df.microtransit_mix_egress_time_in)"
#,,
,_time_nev_mt_wait,0
,_time_nev_mt_wait,"_time_nev_mt_wait + (df.trip_mode=='TNC_SHARED') * df.nev_available * nevWaitTime"
,_time_nev_mt_wait,"_time_nev_mt_wait + (df.trip_mode.isin(['WALK_LOC','PNR_LOC','KNR_LOC','TNC_LOC'])) * df.nev_local_access_available_in * nevWaitTime"
,_time_nev_mt_wait,"_time_nev_mt_wait + (df.trip_mode.isin(['WALK_LOC','PNR_LOC','KNR_LOC','TNC_LOC'])) * df.nev_local_egress_available_out * nevWaitTime"
,_time_nev_mt_wait,"_time_nev_mt_wait + (df.trip_mode.isin(['WALK_PRM','PNR_PRM','KNR_PRM','TNC_PRM'])) * df.nev_prm_access_available_in * nevWaitTime"
,_time_nev_mt_wait,"_time_nev_mt_wait + (df.trip_mode.isin(['WALK_PRM','PNR_PRM','KNR_PRM','TNC_PRM'])) * df.nev_prm_egress_available_out * nevWaitTime"
,_time_nev_mt_wait,"_time_nev_mt_wait + (df.trip_mode.isin(['WALK_MIX','PNR_MIX','KNR_MIX','TNC_MIX'])) * df.nev_mix_access_available_in * nevWaitTime"
,_time_nev_mt_wait,"_time_nev_mt_wait + (df.trip_mode.isin(['WALK_MIX','PNR_MIX','KNR_MIX','TNC_MIX'])) * df.nev_mix_egress_available_out * nevWaitTime"
,_time_nev_mt_wait,"_time_nev_mt_wait + (df.trip_mode.isin(['TNC_LOC'])) * df.nev_local_access_available_out * nevWaitTime"
,_time_nev_mt_wait,"_time_nev_mt_wait + (df.trip_mode.isin(['TNC_LOC'])) * df.nev_local_egress_available_in * nevWaitTime"
,_time_nev_mt_wait,"_time_nev_mt_wait + (df.trip_mode.isin(['TNC_PRM'])) * df.nev_prm_access_available_out * nevWaitTime"
,_time_nev_mt_wait,"_time_nev_mt_wait + (df.trip_mode.isin(['TNC_PRM'])) * df.nev_prm_egress_available_in * nevWaitTime"
,_time_nev_mt_wait,"_time_nev_mt_wait + (df.trip_mode.isin(['TNC_MIX'])) * df.nev_mix_access_available_out * nevWaitTime"
,_time_nev_mt_wait,"_time_nev_mt_wait + (df.trip_mode.isin(['TNC_MIX'])) * df.nev_mix_egress_available_in * nevWaitTime"
,_time_nev_mt_wait,"_time_nev_mt_wait + (df.trip_mode=='TNC_SHARED') * ~df.nev_available * df.microtransit_available * microtransitWaitTime"
,_time_nev_mt_wait,"_time_nev_mt_wait + (df.trip_mode.isin(['WALK_LOC','PNR_LOC','KNR_LOC','TNC_LOC'])) * ~df.nev_local_access_available_in * df.microtransit_local_access_available_in * microtransitWaitTime"
,_time_nev_mt_wait,"_time_nev_mt_wait + (df.trip_mode.isin(['WALK_LOC','PNR_LOC','KNR_LOC','TNC_LOC'])) * ~df.nev_local_egress_available_out * df.microtransit_local_egress_available_out * microtransitWaitTime"
,_time_nev_mt_wait,"_time_nev_mt_wait + (df.trip_mode.isin(['WALK_PRM','PNR_PRM','KNR_PRM','TNC_PRM'])) * ~df.nev_prm_access_available_in * df.microtransit_prm_access_available_in * microtransitWaitTime"
,_time_nev_mt_wait,"_time_nev_mt_wait + (df.trip_mode.isin(['WALK_PRM','PNR_PRM','KNR_PRM','TNC_PRM'])) * ~df.nev_prm_egress_available_out * df.microtransit_prm_egress_available_out * microtransitWaitTime"
,_time_nev_mt_wait,"_time_nev_mt_wait + (df.trip_mode.isin(['WALK_MIX','PNR_MIX','KNR_MIX','TNC_MIX'])) * ~df.nev_mix_access_available_in * df.microtransit_mix_access_available_in * microtransitWaitTime"
,_time_nev_mt_wait,"_time_nev_mt_wait + (df.trip_mode.isin(['WALK_MIX','PNR_MIX','KNR_MIX','TNC_MIX'])) * ~df.nev_mix_egress_available_out * df.microtransit_mix_egress_available_out * microtransitWaitTime"
,_time_nev_mt_wait,"_time_nev_mt_wait + (df.trip_mode.isin(['TNC_LOC'])) * ~df.nev_local_access_available_out * df.microtransit_local_access_available_out * microtransitWaitTime"
,_time_nev_mt_wait,"_time_nev_mt_wait + (df.trip_mode.isin(['TNC_LOC'])) * ~df.nev_local_egress_available_in * df.microtransit_local_egress_available_in * microtransitWaitTime"
,_time_nev_mt_wait,"_time_nev_mt_wait + (df.trip_mode.isin(['TNC_PRM'])) * ~df.nev_prm_access_available_out * df.microtransit_prm_access_available_out * microtransitWaitTime"
,_time_nev_mt_wait,"_time_nev_mt_wait + (df.trip_mode.isin(['TNC_PRM'])) * ~df.nev_prm_egress_available_in * df.microtransit_prm_egress_available_in * microtransitWaitTime"
,_time_nev_mt_wait,"_time_nev_mt_wait + (df.trip_mode.isin(['TNC_MIX'])) * ~df.nev_mix_access_available_out * df.microtransit_mix_access_available_out * microtransitWaitTime"
,time_nev_mt_wait,"_time_nev_mt_wait + (df.trip_mode.isin(['TNC_MIX'])) * ~df.nev_mix_egress_available_in * df.microtransit_mix_egress_available_in * microtransitWaitTime"
#,,
,_time_walk,0
,_time_walk,"_time_walk + (df.trip_mode=='WALK') * od_skims['walkTime']"
,_time_walk,"_time_walk + (df.trip_mode=='EBIKE') * np.where(((~df.ebike_owner) | (~_tourEbike)),1,0) * (microRentTime + _MicroAccessTime)"
,_time_walk,"_time_walk + (df.trip_mode=='ESCOOTER') * (microRentTime + _MicroAccessTime)"
,_time_walk,"_time_walk + (df.trip_mode=='SCH_BUS') * 10"
,_time_walk,"_time_walk + (df.trip_mode=='WALK_LOC') * ~df.nev_local_access_available_in * ~df.microtransit_local_access_available_in * _origin_local_time"
,_time_walk,"_time_walk + (df.trip_mode=='WALK_LOC') * ~df.nev_local_egress_available_out * ~df.microtransit_local_egress_available_out * _dest_local_time"
,_time_walk,"_time_walk + (df.trip_mode=='WALK_LOC') * odt_skims['WALK_LOC_XFERWALK']"
,_time_walk,"_time_walk + (df.trip_mode=='WALK_PRM') * ~df.nev_prm_access_available_in * ~df.microtransit_prm_access_available_in * _origin_prm_time"
,_time_walk,"_time_walk + (df.trip_mode=='WALK_PRM') * ~df.nev_prm_egress_available_out * ~df.microtransit_prm_egress_available_out * _dest_prm_time"
,_time_walk,"_time_walk + (df.trip_mode=='WALK_PRM') * odt_skims['WALK_PRM_XFERWALK']"
,_time_walk,"_time_walk + (df.trip_mode=='WALK_MIX') * ~df.nev_mix_access_available_in * ~df.microtransit_mix_access_available_in * _origin_mix_time"
,_time_walk,"_time_walk + (df.trip_mode=='WALK_MIX') * ~df.nev_mix_egress_available_out * ~df.microtransit_mix_egress_available_out * _dest_mix_time"
,_time_walk,"_time_walk + (df.trip_mode=='WALK_MIX') * odt_skims['WALK_MIX_XFERWALK']"
,_time_walk,"_time_walk + (df.trip_mode.isin(['PNR_LOC','KNR_LOC','TNC_LOC'])) * df.outbound * ~df.nev_local_egress_available_out * ~df.microtransit_local_egress_available_out * _dest_local_time"
,_time_walk,"_time_walk + (df.trip_mode.isin(['PNR_LOC','KNR_LOC','TNC_LOC'])) * ~df.outbound * ~df.nev_local_access_available_in * ~df.microtransit_local_access_available_in * _origin_local_time"
,_time_walk,"_time_walk + (df.trip_mode=='PNR_LOC') * odt_skims['PNROUT_LOC_XFERWALK'] * df.outbound"
,_time_walk,"_time_walk + (df.trip_mode=='PNR_LOC') * odt_skims['PNRIN_LOC_XFERWALK'] * ~df.outbound"
,_time_walk,"_time_walk + (df.trip_mode=='KNR_LOC') * odt_skims['KNROUT_LOC_XFERWALK'] * df.outbound"
,_time_walk,"_time_walk + (df.trip_mode=='KNR_LOC') * odt_skims['KNRIN_LOC_XFERWALK'] * ~df.outbound"
,_time_walk,"_time_walk + (df.trip_mode=='TNC_LOC') * odt_skims['KNROUT_LOC_XFERWALK'] * df.outbound"
,_time_walk,"_time_walk + (df.trip_mode=='TNC_LOC') * odt_skims['KNRIN_LOC_XFERWALK'] * ~df.outbound"
,_time_walk,"_time_walk + (df.trip_mode.isin(['PNR_PRM','KNR_PRM','TNC_PRM'])) * df.outbound * ~df.nev_prm_egress_available_out * ~df.microtransit_prm_egress_available_out * _dest_prm_time"
,_time_walk,"_time_walk + (df.trip_mode.isin(['PNR_PRM','KNR_PRM','TNC_PRM'])) * ~df.outbound * ~df.nev_prm_access_available_in * ~df.microtransit_prm_access_available_in * _origin_prm_time"
,_time_walk,"_time_walk + (df.trip_mode=='PNR_PRM') * odt_skims['PNROUT_PRM_XFERWALK'] * df.outbound"
,_time_walk,"_time_walk + (df.trip_mode=='PNR_PRM') * odt_skims['PNRIN_PRM_XFERWALK'] * ~df.outbound"
,_time_walk,"_time_walk + (df.trip_mode=='KNR_PRM') * odt_skims['KNROUT_PRM_XFERWALK'] * df.outbound"
,_time_walk,"_time_walk + (df.trip_mode=='KNR_PRM') * odt_skims['KNRIN_PRM_XFERWALK'] * ~df.outbound"
,_time_walk,"_time_walk + (df.trip_mode=='TNC_PRM') * odt_skims['KNROUT_PRM_XFERWALK'] * df.outbound"
,_time_walk,"_time_walk + (df.trip_mode=='TNC_PRM') * odt_skims['KNRIN_PRM_XFERWALK'] * ~df.outbound"
,_time_walk,"_time_walk + (df.trip_mode.isin(['PNR_MIX','KNR_MIX','TNC_MIX'])) * df.outbound * ~df.nev_mix_egress_available_out * ~df.microtransit_mix_egress_available_out * _dest_mix_time"
,_time_walk,"_time_walk + (df.trip_mode.isin(['PNR_MIX','KNR_MIX','TNC_MIX'])) * ~df.outbound * ~df.nev_mix_access_available_in * ~df.microtransit_mix_access_available_in * _origin_mix_time"
,_time_walk,"_time_walk + (df.trip_mode=='PNR_MIX') * odt_skims['PNROUT_MIX_XFERWALK'] * df.outbound"
,_time_walk,"_time_walk + (df.trip_mode=='PNR_MIX') * odt_skims['PNRIN_MIX_XFERWALK'] * ~df.outbound"
,_time_walk,"_time_walk + (df.trip_mode=='KNR_MIX') * odt_skims['KNROUT_MIX_XFERWALK'] * df.outbound"
,_time_walk,"_time_walk + (df.trip_mode=='KNR_MIX') * odt_skims['KNRIN_MIX_XFERWALK'] * ~df.outbound"
,_time_walk,"_time_walk + (df.trip_mode=='TNC_MIX') * odt_skims['KNROUT_MIX_XFERWALK'] * df.outbound"
,time_walk,"_time_walk + (df.trip_mode=='TNC_MIX') * odt_skims['KNRIN_MIX_XFERWALK'] * ~df.outbound"
#,,
,_distance_walk,0
,_distance_walk,"_distance_walk + (df.trip_mode=='WALK') * od_skims['walkTime']/60 * walkSpeed"
,_distance_walk,"_distance_walk + (df.trip_mode=='EBIKE') * np.where(((~df.ebike_owner) | (~_tourEbike)),1,0) * _MicroAccessTime/60 * walkSpeed"
,_distance_walk,"_distance_walk + (df.trip_mode=='ESCOOTER') * _MicroAccessTime/60 * walkSpeed"
,_distance_walk,"_distance_walk + (df.trip_mode=='SCH_BUS') * 10/60 * walkSpeed"
,_distance_walk,"_distance_walk + (df.trip_mode=='WALK_LOC') * ~df.nev_local_access_available_in * ~df.microtransit_local_access_available_in * _origin_local_dist"
,_distance_walk,"_distance_walk + (df.trip_mode=='WALK_LOC') * ~df.nev_local_egress_available_out * ~df.microtransit_local_egress_available_out * _dest_local_dist"
,_distance_walk,"_distance_walk + (df.trip_mode=='WALK_LOC') * odt_skims['WALK_LOC_XFERWALK']/60 * walkSpeed"
,_distance_walk,"_distance_walk + (df.trip_mode=='WALK_PRM') * ~df.nev_prm_access_available_in * ~df.microtransit_prm_access_available_in * _origin_prm_dist"
,_distance_walk,"_distance_walk + (df.trip_mode=='WALK_PRM') * ~df.nev_prm_egress_available_out * ~df.microtransit_prm_egress_available_out * _dest_prm_dist"
,_distance_walk,"_distance_walk + (df.trip_mode=='WALK_PRM') * odt_skims['WALK_PRM_XFERWALK']/60 * walkSpeed"
,_distance_walk,"_distance_walk + (df.trip_mode=='WALK_MIX') * ~df.nev_mix_access_available_in * ~df.microtransit_mix_access_available_in * _origin_mix_dist"
,_distance_walk,"_distance_walk + (df.trip_mode=='WALK_MIX') * ~df.nev_mix_egress_available_out * ~df.microtransit_mix_egress_available_out * _dest_mix_dist"
,_distance_walk,"_distance_walk + (df.trip_mode=='WALK_MIX') * odt_skims['WALK_MIX_XFERWALK']/60 * walkSpeed"
,_distance_walk,"_distance_walk + (df.trip_mode.isin(['PNR_LOC','KNR_LOC','TNC_LOC'])) * df.outbound * ~df.nev_local_egress_available_out * ~df.microtransit_local_egress_available_out * _dest_local_dist"
,_distance_walk,"_distance_walk + (df.trip_mode.isin(['PNR_LOC','KNR_LOC','TNC_LOC'])) * ~df.outbound * ~df.nev_local_access_available_in * ~df.microtransit_local_access_available_in * _origin_local_dist"
,_distance_walk,"_distance_walk + (df.trip_mode=='PNR_LOC') * odt_skims['PNROUT_LOC_XFERWALK']/60 * walkSpeed * df.outbound"
,_distance_walk,"_distance_walk + (df.trip_mode=='PNR_LOC') * odt_skims['PNRIN_LOC_XFERWALK']/60 * walkSpeed * ~df.outbound"
,_distance_walk,"_distance_walk + (df.trip_mode=='KNR_LOC') * odt_skims['KNROUT_LOC_XFERWALK']/60 * walkSpeed * df.outbound"
,_distance_walk,"_distance_walk + (df.trip_mode=='KNR_LOC') * odt_skims['KNRIN_LOC_XFERWALK']/60 * walkSpeed * ~df.outbound"
,_distance_walk,"_distance_walk + (df.trip_mode=='TNC_LOC') * odt_skims['KNROUT_LOC_XFERWALK']/60 * walkSpeed * df.outbound"
,_distance_walk,"_distance_walk + (df.trip_mode=='TNC_LOC') * odt_skims['KNRIN_LOC_XFERWALK']/60 * walkSpeed * ~df.outbound"
,_distance_walk,"_distance_walk + (df.trip_mode.isin(['PNR_PRM','KNR_PRM','TNC_PRM'])) * df.outbound * ~df.nev_prm_egress_available_out * ~df.microtransit_prm_egress_available_out * _dest_prm_dist"
,_distance_walk,"_distance_walk + (df.trip_mode.isin(['PNR_PRM','KNR_PRM','TNC_PRM'])) * ~df.outbound * ~df.nev_prm_access_available_in * ~df.microtransit_prm_access_available_in * _origin_prm_dist"
,_distance_walk,"_distance_walk + (df.trip_mode=='PNR_PRM') * odt_skims['PNROUT_PRM_XFERWALK']/60 * walkSpeed * df.outbound"
,_distance_walk,"_distance_walk + (df.trip_mode=='PNR_PRM') * odt_skims['PNRIN_PRM_XFERWALK']/60 * walkSpeed * ~df.outbound"
,_distance_walk,"_distance_walk + (df.trip_mode=='KNR_PRM') * odt_skims['KNROUT_PRM_XFERWALK']/60 * walkSpeed * df.outbound"
,_distance_walk,"_distance_walk + (df.trip_mode=='KNR_PRM') * odt_skims['KNRIN_PRM_XFERWALK']/60 * walkSpeed * ~df.outbound"
,_distance_walk,"_distance_walk + (df.trip_mode=='TNC_PRM') * odt_skims['KNROUT_PRM_XFERWALK']/60 * walkSpeed * df.outbound"
,_distance_walk,"_distance_walk + (df.trip_mode=='TNC_PRM') * odt_skims['KNRIN_PRM_XFERWALK']/60 * walkSpeed * ~df.outbound"
,_distance_walk,"_distance_walk + (df.trip_mode.isin(['PNR_MIX','KNR_MIX','TNC_MIX'])) * df.outbound * ~df.nev_mix_egress_available_out * ~df.microtransit_mix_egress_available_out * _dest_mix_dist"
,_distance_walk,"_distance_walk + (df.trip_mode.isin(['PNR_MIX','KNR_MIX','TNC_MIX'])) * ~df.outbound * ~df.nev_mix_access_available_in * ~df.microtransit_mix_access_available_in * _origin_mix_dist"
,_distance_walk,"_distance_walk + (df.trip_mode=='PNR_MIX') * odt_skims['PNROUT_MIX_XFERWALK']/60 * walkSpeed * df.outbound"
,_distance_walk,"_distance_walk + (df.trip_mode=='PNR_MIX') * odt_skims['PNRIN_MIX_XFERWALK']/60 * walkSpeed * ~df.outbound"
,_distance_walk,"_distance_walk + (df.trip_mode=='KNR_MIX') * odt_skims['KNROUT_MIX_XFERWALK']/60 * walkSpeed * df.outbound"
,_distance_walk,"_distance_walk + (df.trip_mode=='KNR_MIX') * odt_skims['KNRIN_MIX_XFERWALK']/60 * walkSpeed * ~df.outbound"
,_distance_walk,"_distance_walk + (df.trip_mode=='TNC_MIX') * odt_skims['KNROUT_MIX_XFERWALK']/60 * walkSpeed * df.outbound"
,distance_walk,"_distance_walk + (df.trip_mode=='TNC_MIX') * odt_skims['KNRIN_MIX_XFERWALK']/60 * walkSpeed * ~df.outbound"
#,,
,_time_mm,0
,_time_mm,"_time_mm + df.trip_mode.isin(['EBIKE'])* df.ebike_time"
,time_mm,"_time_mm + df.trip_mode.isin(['ESCOOTER'])* df.escooter_time"
,_distance_mm,0
,_distance_mm,"_distance_mm + df.trip_mode.isin(['EBIKE'])*od_skims['BIKE_TIME'] * (bikeSpeed/ebikeSpeed)/60 * ebikeSpeed"
,distance_mm,"_distance_mm + df.trip_mode.isin(['ESCOOTER'])*od_skims['BIKE_TIME'] * (bikeSpeed/escooterSpeed)/60 * escooterSpeed"
,_cost_fare_mm,0
,_cost_fare_mm,"_cost_fare_mm + df.trip_mode.isin(['EBIKE'])*np.where(((~df.ebike_owner) | (~_tourEbike)),1,0)*(microFixedCost + microVarCost*time_mm)"
,cost_fare_mm,"_cost_fare_mm + df.trip_mode.isin(['ESCOOTER'])*(microFixedCost + microVarCost*time_mm)"
,_distance_bike,0
,distance_bike,"_distance_bike + df.trip_mode.isin(['BIKE'])*od_skims['BIKE_TIME']/60 * bikeSpeed"
#,,
,_time_wait_drive,0
,_time_wait_drive,"_time_wait_drive + df.trip_mode.isin(['TAXI']) * df.origTaxiWaitTime"
,_time_wait_drive,"_time_wait_drive + df.trip_mode.isin(['TNC_SINGLE']) * df.origSingleTNCWaitTime"
,_time_wait_drive,"_time_wait_drive + df.trip_mode.isin(['TNC_SHARED']) * np.where(df.nev_available, 0, np.where(df.microtransit_available, 0, df.origSharedTNCWaitTime))"
,_time_wait_drive,"_time_wait_drive + df.trip_mode.isin(['TNC_LOC']) * np.where(df.nev_local_access_available_out, 0, np.where(df.microtransit_local_access_available_out, 0, df.origSingleTNCWaitTime)) * df.outbound"
,_time_wait_drive,"_time_wait_drive + df.trip_mode.isin(['TNC_LOC']) * np.where(df.nev_local_egress_available_in, 0, np.where(df.microtransit_local_egress_available_in, 0, df.destSingleTNCWaitTime)) * ~df.outbound"
,_time_wait_drive,"_time_wait_drive + df.trip_mode.isin(['TNC_PRM']) * np.where(df.nev_prm_access_available_out, 0, np.where(df.microtransit_prm_access_available_out, 0, df.origSingleTNCWaitTime)) * df.outbound"
,_time_wait_drive,"_time_wait_drive + df.trip_mode.isin(['TNC_PRM']) * np.where(df.nev_prm_egress_available_in, 0, np.where(df.microtransit_prm_egress_available_in, 0, df.destSingleTNCWaitTime)) * ~df.outbound"
,_time_wait_drive,"_time_wait_drive + df.trip_mode.isin(['TNC_MIX']) * np.where(df.nev_mix_access_available_out, 0, np.where(df.microtransit_mix_access_available_out, 0, df.origSingleTNCWaitTime)) * df.outbound"
,time_wait_drive,"_time_wait_drive + df.trip_mode.isin(['TNC_MIX']) * np.where(df.nev_mix_egress_available_in, 0, np.where(df.microtransit_mix_egress_available_in, 0, df.destSingleTNCWaitTime)) * ~df.outbound"
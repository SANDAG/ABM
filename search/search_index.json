{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"index.html","title":"SANDAG ABM3","text":"<p>Welcome to the SANDAG Activity-Based Travel Model documentation site!</p>"},{"location":"index.html#introduction","title":"Introduction","text":"<p>This website describes the travel demand modeling system developed by the San Diego Association of Governments (SANDAG). SANDAG plans for many complex mobility issues facing the San Diego region, including development of the Regional Plan. Transportation models are complex analysis tools used to provide transportation planners and policymakers with information to help allocate scarce resources fairly and equitably. As we plan for the future, models are used to forecast potential future scenarios of where people will live and how they will travel. They are the principal tool used for alternatives analysis.  </p> <p>The SANDAG transportation model is an activity-based model (ABM). It simulates individual and household transportation decisions that make up their daily travel. This includes all trips people make on a daily basis, such as to work, school, shopping, healthcare, and recreation. An ABM provides a controlled, analytical platform so that different inputs and alternatives can be evaluated to predict whether, when, and how this travel occurs. SANDAG ABM accounts for a variety of different weekday travel markets in the region, including San Diego region resident travel, travel by Mexico residents and other travelers crossing San Diego County\u2019s borders, visitor travel, airport passengers at both the San Diego International Airport and the Cross Border Xpress bridge to the Tijuana International Airport, and commercial travel. </p> <p>The most recent version of the SANDAG ABM is referred to as \u201cABM3\u201d, and was developed for use in the 2025 Regional Plan. ABM3 is a significant enhancement from ABM2+ which was used for the 2021 Regional Plan. All of the passenger demand models in ABM2+ were converted from CT-RAMP to ActivitySim, including resident travel, cross-border travel, visitor travel, and airport travel. The internal-external travel component is now fully integrated with the resident model. The model was also enhanced to improve the representation of household and person-based mobility, vehicle fleet ownership, transit, shared and private micro-mobility, and micro-transit. Many of the model components were re-estimated using household survey data collected in 2022, and all model components were re-calibrated to base-year 2023 conditions. A new disaggregate commercial vehicle model was developed based upon a 2020 commercial vehicle survey, and implemented in ActivitySim.</p> <p>This website includes a description of the model system, how to set up and run the models, and a description of model inputs and outputs. Some aspects of the site are a work-in-progress, so we recommend that you check in often, and share your thoughts on ways to improve the site with SANDAG Transportation Modeling staff. Thank you!</p>"},{"location":"applying.html","title":"Applying the model","text":"<p>This page contains information needed to apply the model.</p>"},{"location":"applying.html#network-coding","title":"Network Coding","text":"<p>//TODO: Describe network attributes, how to code network</p>"},{"location":"applying.html#population-synthesis","title":"Population Synthesis","text":"<p>//TODO: Describe population synthesis procedure, how to modify inputs and construct new future-year synthetic population</p>"},{"location":"applying.html#land-use-data-preparation","title":"Land-Use Data Preparation","text":"<p>//TODO: Describe how to prepare land-use data.</p> <p>Describe how to update parking costs, enrollment data.</p>"},{"location":"applying.html#micromobility","title":"Micromobility","text":"<p>//TODO: Describe how to run micromobility policy tests</p> <p>etc.</p>"},{"location":"cvm.html","title":"Commercial Vehicle Model","text":""},{"location":"cvm.html#design","title":"Design","text":""},{"location":"cvm.html#inputs","title":"Inputs","text":""},{"location":"cvm.html#outputs","title":"Outputs","text":""},{"location":"design.html","title":"Model Design","text":"<p>The ABM3 model system is primarily based on the ActivitySim platform; ActivitySim is used to model resident travel, cross-border travel, overnight visitor travel, airport ground access travel, and commercial vehicle travel including light, medium, and heavy commercial vehicles. Aggregate models are used to model external-internal travel (from external stations other than the U.S./Mexico border crossing) and through travel. The model system relies on EMME software for network processing, skimming, and assignment. Models are mostly implemented in Python, and some models are implemented in [Java] (https://www.java.com/en/).</p> <p>The overall design of the model is shown in the figure below.</p> <p></p> <p>The system starts by performing initial input processing in EMME. This includes building transport networks and scenarios for skimming and assignment. An initial set of skims are created based on input trip tables (e.g. warm start). Then disaggregate choice models in ActivitySIm are run, including the resident model, the crossborder travel model, two airport ground access models, the overnight visitor model, and the commercial vehicle model. Next auxiliary models are run; the taxi/TNC routing model and the autonomous vehicle intra-household allocation model are run in Java. Aggregate external-internal and through travel models are run in Python. After all models are run, trip tables are built from the result and assigned to transport networks. A check is made to determine whether the model has reached convergence (currently this is set to three feedback iterations). If convergence is reached, outputs are processed for export to the SANDAG Datalake for reporting summaries. If not, speeds from assignment are averaged using method of successive averages, and skims are rebuilt for the next iteration. The model system is then re-run with the updated skims.</p> <p>ActivitySim is used to represent all internal travel and internal-external made by residents of the SANDAG region (modeled area).  The decision-makers in the model system include both persons and households. These decision-makers are created (synthesized) for each simulation year and land-use scenario, based on Census data and forecasted distributions of households and persons by key socio-economic categories. A similar but simplified method is used to generate disaggregate populations for cross-border, airport ground access, and overnight visitor models. The decision-makers are used in the subsequent discrete-choice models in a microsimulation framework where a single alternative is selected from a list of available alternatives according to a probability distribution.  The probability distribution is generated from a logit model which considers the attributes of the decision-maker and the attributes of the various alternatives. The application paradigm is referred to as Monte Carlo simulation, since a random number draw is used to select an alternative from the probability distribution. The decision-making unit is an important element of model estimation and implementation and is explicitly identified for each model specified in the following sections.</p> <p>A key advantage of using the micro-simulation approach is that there are essentially no computational constraints on the number of explanatory variables that can be included in a model specification.  However, even with this flexibility, the model system will include some segmentation of decision-makers.  Segmentation is a useful tool to both structure models (for example, each person type segment could have their own model for certain choices) and to characterize person roles within a household.  Segments can be created for persons as well as households.</p>"},{"location":"design.html#resident-model","title":"Resident Model","text":"<p>The resident model structure is based on the Coordinated Travel Regional Activity-based Modeling Platform (CT-RAMP). The figure below shows the resident model structure. In order to understand the flow chart, some definitions are required. These are described in more detail below.</p> <ul> <li>Tour: A sequence of trips that start and end at an anchor location. In ActivitySim, anchors are home or work.</li> <li>Primary destination: The \u201cmain\u201d activity of the tour; this activity determines the tour purpose. It also divides the tour into two \u201clegs\u201d; the sequence of trips from the anchor location to the primary destination is the outbound leg, and the sequence of trips from the primary destination back to the anchor location is the inbound or return leg.</li> <li>Mandatory activity: Work or school</li> <li>Non-mandatory activity: Any out of home activity that is not work or school, including maintenance activities such as shopping as well as discretionary activities such as out-of-home recreation and eating out.</li> <li>Fully joint tour: A tour in which two or more household members travel together to all out-of-home activity locations and return home together. In other words, no household member is picked-up or dropped-off en route.</li> <li>Intermediate stop: An out-of-home activity location on the tour other than the anchor location or the primary destination. Intermediate stops are made on the way from the anchor location to the primary destination (outbound) or on the way from the primary destination back to the anchor location (inbound).</li> <li>Tour mode: The \u201cmain mode\u201d or \u201cpreferred mode\u201d of the tour. This is an abstract concept used categorize the tour with respect to accessibility and constrain the availability of modes for trips on the tour to ensure some consistency of modes used for each trip.</li> </ul> <p>The resident model design is shown below.</p> <p></p> <p>The first model in the sequence is disaggregate accessibilities. This is a recent addition to ActivitySim in which the tour destination choice model is run for a prototypical sample population covering key market segments and destination choice logsums from the model are written out for each tour in the population. These destination choice logsums are then merged with the actual synthetic population and used as accessibility variables in downstream models such as auto ownership, coordinated daily activity patterns, and tour frequency. are mandatory location choice; this model is run for all workers and students regardless of whether they attend work or school on the simulated day.</p> <p>Next a set of long-term and mobility models are run. The first model in the sequence predicts whether an autonomous vehicle is owned by the household. This model conditions the next model, which predicts the number of autos owned. If an autonomous vehicle is owned, multiple cars are less likely. Next, the mandatory (work and school) location choice models are run. The work location choice models includes a model to predict whether the worker has a usual out-of-home work location or exclusively works from home. If the worker chooses to work from home, they will not generate a work tour. An external worker identification model determines whether each worker with an out-of-home workplace location works within the region or external to the region. If they work external to the region, the external station is identified. Any primary destination of any work tours generated by the worker will be the external station chosen by this model. A work location choice model predicts the internal work location of each internal worker, and a school location choice model predicts the school location of each student.</p> <p>Next, a set of models predicts whether workers and students have subsidized transit fares and if so, the percent of transit fare that is subsidized, and whether each person in the household owns a transit pass. A vehicle type choice model then runs, which predicts the body type, fuel type, and age of each vehicle owned by the household; this model was extended to predict whether each vehicle is autonomous, conditioned by the autonomous vehicle ownership model.</p> <p>Next, we predict whether each household has access to a vehicle transponder which can be used for managed lane use. We assume that all vehicles built after a certain year (configurable by the user) are equipped with transponders. Next we predict whether each worker has subsidized parking available at work. Finally we predict the telecommute frequency of each worker, which affects downstream models including the daily activity pattern model, the non-mandatory tour frequency model, and stop frequency models.</p> <p>Next the daily and tour level models are run. The first daily model is the daily activity pattern model is run, which predicts the general activity pattern type for every household member. Then Mandatory tours are generated for workers and students, the tours are scheduled (their location is already predicted by the work/school location choice model), a vehicle availability model is run that predicts which household vehicle would be used for the tour, and the tour mode is chosen. After mandatory tours are generated, a school pickup/dropoff model forms half-tours where children are dropped off and/or picked up at school. The model assigns chaperones to drive or ride with children, groups children together into \u201cbundles\u201d for ride-sharing, and assigns the chaperone task to either a generated work tour or generates a new tour for the purpose of ridesharing. Fully joint tours \u2013 tours where two or more household members travel together for the entire tour - are generated at a household level, their composition is predicted (adults, children or both), the participants are determined, the vehicle availability model is run, and a tour mode is chosen. The primary destination of fully joint tours is predicted, the tours are scheduled, the vehicle availability model is run, and a tour mode is chosen. Next, non-mandatory tours are generated, their primary destination is chosen, they are scheduled, the vehicle availability model is run, and a tour mode is chosen for each. At-work subtours are tours that start and end at the workplace. These are generated, scheduled (with constraints that the start and end times must nest within the start and end time of the parent work tour), a primary destination is selected, the vehicle availability model is run, and a tour mode is chosen.</p> <p>At this point, all tours are generated, scheduled, have a primary destination, and a selected tour mode. The next set of models fills in details about the tours - number of intermediate stops, location of each stop, the departure time of each stop, and the mode of each trip on the tour. Finally, the parking location of each auto trip to the central business district (CBD) is determined. After the model is run, the output files listed above are created. The trip lists are then summarized into origin-destination matrices by time period and vehicle class or transit mode and assigned to the transport network.</p>"},{"location":"design.html#crossborder-model","title":"Crossborder Model","text":"<p>The Cross-Border Travel Model predicts travel made by residents of Mexico within San Diego County. It predicts the border crossing point of entry as well as all trips made within the county. The model is limited to simulating travel made by Mexican residents who return to Mexico within the simulation day. Cross-border travel not captured by the Cross-Border Model includes:</p> <ul> <li>Residents of San Diego County who travel to/from Mexico. This travel is represented by the resident travel model.</li> <li>Residents of Mexico (including U.S. citizens) who travel into San Diego County and who do not return to Mexico at the end of the day. This travel is represented in the overnight visitor travel model.</li> <li>Travel between points of entry through San Diego County to other U.S. destinations. This travel is represented by the external-external travel model.</li> <li>Commercial vehicle travel to/from points of entry. This travel is represented by the commercial vehicle model.</li> </ul> <p>The overall design of the model is shown in the figure below.</p> <p></p>"},{"location":"design.html#crossborder-model-purpose-definitions","title":"Crossborder Model Purpose Definitions","text":"<p>There are five activity purposes in the cross-border travel demand model. * Work: Any activity involving work for pay. * School: Pre-k school, K-12, college/university, or trade school. * Shop: Shopping at retail, wholesale, etc. * Visit: Visiting friends or family * Other: A broad category including eating out, medical appointments, recreational activities, etc.</p> <p>Note that home activities are not listed, since we do not model activities south of the border.</p>"},{"location":"design.html#crossborder-model-mode-definitions","title":"Crossborder Model Mode Definitions","text":"<p>The model has the following mode types at the trip level: * Drive-alone: Single occupant private vehicle * Shared 2: A private vehicle with exactly two passengers * Shared 3+: A private vehicle with three or more passengers * Walk: Walk mode * Bike: Bike mode * Walk-transit: Walk access to transit. There are three sub-types of transit: Local only, premium only, local + premium (which includes both local and premium services in the transit path) * Taxi: Door-to-door taxi trip * Single-pay TNC: Door-to-door TNC trip with a single payer (e.g. UberX) * Shared-pay TNC: Stop-to-stop TNC trip with potentially multiple payers (e.g. UberPool)</p> <p>We also model tour mode, which is the mode used to cross the border. These modes include drive-alone, shared 2, shared 3+ and walk. We assume that anyone crossing by bus or taxi is similar to walk, since they do not have access to a personal vehicle for the rest of their travel in San Diego County.</p> <p>We also classify border crossings by lane type: general purpose, SENTRI, and Ready. We assume that the use of these lanes is related to the border crossing party; we attribute each party with SENTRI or Ready availability. The proportion of total border crossing parties with access to SENTRI and Ready lanes are based on observed survey data, pooled across all stations. This data is used to simulate the availability of the lane to the travel party. Each lane crossing type is related to the wait time that the travel party experiences at each border crossing station by mode.</p> <p>Below is a general description of the model structure.</p> <ol> <li>Tour Enumeration: A list of person-tours is created by first cross-multiplying the input total person tours with the share of tours by pass type, then expanding tours by pass type to tours by pass type and purpose.</li> <li>Tour Level Models 2.1 Time-of-day Choice: Each person-tour is assigned an outbound and return half-hour period. 2.2 Primary Destination and Station Choice: Each border crossing person-tour chooses a primary destination MGRA and border crossing station. 2.3 Border Crossing Mode Choice: Each person-tour chooses a border crossing tour mode.</li> <li>Wait Time Model 3.1. Wait time model: Calculate wait time based on demand at each POE from model 2.2 3.2. Convergence check: If max iterations reached (currently 3), goto Stop and Trip level models, else goto Model 2.2</li> <li>Stop and Trip Level Models 4.1 Stop Frequency Choice: Each person-tour is assigned number of stops by half-tour (outbound, return). 4.2 Stop Purpose Choice: Each stop is assigned a stop purpose (consistent with the tour purposes). 4.3 Trip Departure Choice: Each trip is assigned a half-hourly time period. 4.4 Stop Location Choice: Each stop chooses an MGRA location. 4.5 Trip Mode Choice: Each trip is assigned a trip mode. 4.6 Trip Assignments: Trips are assigned to networks, along with resident and other special market trip tables, and skims are created for the next iteration of the model.</li> </ol> <p>For more information on the Crossborder Travel Model see technical documentation.</p>"},{"location":"design.html#airport-ground-access-models","title":"Airport Ground Access Models","text":"<p>There are two airport ground access models - one for San Diego International Airport and one for the Crossborder Express terminal which provides access to Tijuana International Airport from the United States. Both models use the same structure and software code, though the parameters that control the total number of airport travel parties, off-airport destination, mode, arrival and departure times, and other characteristics, vary for each airport according to survey and airport-specific data. The airport ground access model simulates trips to and from the airport for residents, visitors, and external travelers. These trips are generated by arriving or departing passengers and are modeled as tours within the ActivitySim framework. A post processing script also generates trips to serve passengers who require a pickup or dropoff at the airport. For example, a passenger who is picked up at the airport generates two trips; one trip to the airport by the driver to pick up the air passenger(s), and another trip from the airport with the driver and the air passenger(s). It is important to note that, to work within the ActivitySim framework, the airport trips must be modeled as tours, rather than being generated directly as in the previous model. These tours are assigned an origin at the airport MGRA. During the stop frequency step of ActivitySim, a trip is assigned to the appropriate leg of the tour (either to or from the airport) while the opposite leg is not assigned any trips (referred to as the \u2018dummy leg\u2019). Passengers who are leaving on a departing flight and traveling to the airport are considered \u201cinbound,\u201d while arriving passengers are considered \u201coutbound\u201d.</p> <p>The overall design of the model is shown in the figure below.</p> <p></p> <ol> <li>Tour Enumeration: A list of airport travel parties is generated from input enplanements and transferring passenger rates, as well as distributions that describe the share of travel parties by purpose (business versus personal), household income, and party size.</li> <li>Tour Level Models 2.1 Tour Scheduling Probabilistic: The tour scheduling model uses a probabilistic draw of the scheduling distribution. This model assigns start and end times to the tour. This is important because it will also serve as the schedule model for the final airport trips. In ActivitySim, trips are scheduled based on the tour schedule. If there is only one trip per leg on the tour (such as our case here) the trip is assigned the tour start/end time. 2.2 Tour Destination Choice: The destination choice model chooses the non-airport end of the airport trips. Each tour is set with an origin at the airport MGRA. The tour destination model of ActivitySim is used to choose the non-airport end of the trip. The utility equation includes the travel distance, and the destination size terms. ActivitySim destination choice framework requires a mode choice log sum. A dummy tour mode choice log sum was created which generates a value of zero for every destination using the \u2018tour_mode_choice.csv\u2019 and \u2018tour_mode_choice.yml\u2019 file. This is a work around to prevent ActivitySim from crashing and not having to include the tour mode choice log sum in the destination choice model. 2.3 Stop Frequency Choice: The stop frequency model is where the trip table is first created. The pre-processor tags each tour with a direction of \u2018inbound\u2019 or \u2018outbound\u2019 according to whether the tour is a departing or arriving passenger. For the Airport Ground Access model, inbound tours are tagged with zero outbound trips and -1 inbound trips (and the opposite is true for outbound tours: -1 outbound trips and 0 inbound trips). The 0 signifies that no intermediate stops are made; this leg of the tour will only have one trip. The -1 signifies that no trip is made at all on that leg. Using the -1 allows us to create \u2018half-tours\u2019 where only one leg of the tour is recorded as a trip.</li> <li>Trip Level Models 3.1 Trip Departure Choice: The trip scheduling model assigns depart times for each trip on a tour. ActivitySim requires trip scheduling probabilities; however, these are not used in this implementation since there is only one trip on any given tour leg. This means the trips will be assigned the tour scheduling times which were determined in the tour scheduling model. The trip scheduling probabilities file is just a dummy file. 3.2 Trip Mode Choice: Each trip is assigned a trip mode; in the Airport Ground Access Model, trip mode refers to the airport arrival mode which simultaneously predicts the arrival mode and the location which the passenger uses to access that model. The arrival modes are shown in the table below.  The trip mode choice yaml file contains detailed variables associated with each trip mode. For example, each parking location is given an MGRA location, a walk time, a wait-time, and a cost. If a parking location MGRA is set to -999 it is assumed to be unavailable and will not be in the choice set. The pre-processor in this step stores all values of skims from the trip origin to each of the access modes destinations along with any associated costs. Costs include parking fees per day, access fees, fares, and rental car charges. Employees are not fed into the trip mode choice model. Instead, if a transit share is specified in the employee park file, that percentage of employees will be assigned \u2018Walk Premium\u2019 mode in the pre-processor. Otherwise, employees are all assigned \u2018Walk\u2019 mode from the employee parking lot to the terminal. 3.3 Airport Returns: Airport trips where the party is dropped of curbside or parked and escorted are assumed to also have the driver make a return trip to the non-airport location. This procedure is done as a post-processing step after mode choice and before trip tables are written out. An \u2018airport_returns.yml\u2019 file takes a user setting to determine which trip modes will include a return trip. These trips records are flagged and duplicated. The duplicated trips swap the origin and destination of the original trip and are assigned a unique trip id. These trips are tagged with \u2018trip_num =2\u2019 so they are easily sorted in any additional processing (such as for writing trip matrices). 3.4 Write trip matrices: The write trip matrices step converts the trip lists into vehicle trip matrices. The matrices are segmented by trip mode and value of time bins. The vehicle trip modes in the matrices include SOV, HOV2, HOV3+, Taxi, and TNC-single. Value of time segmentation is either low, medium, or high bins based on the thresholds set in the model settings.</li> </ol>"},{"location":"design.html#airport-ground-access-model-trip-arrival-modes","title":"Airport Ground Access Model Trip Arrival Modes","text":"Arrival Mode Description Park Location 1 Party parks personal vehicle at parking location 1. Park Location 2 Party parks personal vehicle at parking location 2. Park Location 3 Party parks personal vehicle at parking location 3. Park Location 4 Party parks personal vehicle at parking location 4. Park Location 5 Party parks personal vehicle at parking location 5. Curb Location 1 Party is dropped off or picked up by another driver at curbside location 1. Curb Location 2 Party is dropped off or picked up by another driver at curbside location 2. Curb Location 3 Party is dropped off or picked up by another driver at curbside location 3. Curb Location 4 Party is dropped off or picked up by another driver at curbside location 4. Curb Location 5 Party is dropped off or picked up by another driver at curbside location 5 Park and Escort Party is driven in personal vehicle, parks on-site at the airport and is escorted to/from airport. Rental Car Party arrives/departs by rental car. Shuttle Van Party takes shuttle van. Hotel Courtesy Party takes hotel courtesy transportation. Ridehail Location 1 Party arrives\\departs using ridehail at ridehail location 1 Ridehail Location 2 Party arrives\\departs using ridehail at ridehail location 2 Taxi Location 1 Party arrives\\departs using taxi at taxi location 1 Taxi Location 2 Party arrives\\departs using taxi at taxi location 2 Walk Local Party arrives\\departs using walk-local bus Walk Premium Party arrives\\departs using walk-premium transit Walk Mix Party arrives\\departs using walk-local plus premium transit KNR Local Party arrives\\departs using KNR-local bus KNR Premium Party arrives\\departs using KNR-premium transit KNR Mix Party arrives\\departs using KNR-local plus premium transit TNC Local Party arrives\\departs using TNC-local bus TNC Premium Party arrives\\departs using TNC-premium transit TNC Mix Party arrives\\departs using TNC-local plus premium transit Walk Party arrives\\departs using walk <p>For more information on the Air Ground Access Travel Model see technical documentation.</p>"},{"location":"design.html#overnight-visitor-model","title":"Overnight Visitor Model","text":"<p>The Overnight Visitor Model simulates trips of visitors staying overnight in hotels, motels, short-term vacation rentals, and with friends and family. The trips are modeled as part of tours that begin and end at the place of lodging. However, unlike the resident model, the Overnight Visitor Model does not utilize a 24-hour activity schedule. Therefore it can be thought of as a simpler, tour-based model. Once each tour is generated, it is scheduled independently. The model uses the same time periods and modes as the resident model. The overall design of the model is shown in the figure below.</p> <p></p> <ol> <li> <p>Tour Enumeration: A list of visitor parties is generated from the input household data and hotel room inventory at the MGRA level. Visitor travel parties by segment (business versus personal) are calculated based on separate rates for hotels and for households. Visitor parties are generated by purpose based on tour rates by segment, then attributed with household income and party size based on input distributions. There are three purposes in the Overnight Visitor model:</p> </li> <li> <p>Work:  Business travel made by business visitors.</p> </li> <li>Dining: Travel to food establishments for both business and personal visitors.</li> <li> <p>Recreational: All other non-work non-food related activities.</p> </li> <li> <p>Tour Level Models 2.1 Tour Scheduling Probabilistic: The tour scheduling model uses a probabilistic draw of the scheduling distribution. This model assigns start and end times to the tour. If there is only one trip per leg on the tour, the trip is assigned the tour start/end time. 2.2 Tour Destination Choice: The destination choice model chooses the MGRA of the primary activity location on the tour. 2.3 Tour Mode Choice: The tour mode choice model determines the primary mode of the tour. 3 Stop Level Models 3.1 Stop Frequency Choice: The stop frequency model predicts the number of stops by direction based on input distributions that vary by tour purpose. 3.2 Stop Purpose: The stop purpose model chooses the activity purpose of each intermediate stop based on input distributions that vary according to tour purpose. 3.3 Stop Location Choice: The location choice model chooses the MGRA for each intermediate stop on the tour.</p> </li> <li>Trip Level Models 4.1 Trip Departure Choice: The trip scheduling model assigns depart times for each trip on a tour based on input distributions that vary by direction (inbound versus outbound), stop number, and number of periods remaining on the tour. 4.2 Trip Mode Choice: Each trip is assigned a trip mode, consistent with the modes in the resident model. 4.3 Trip Assignment: Trips are aggregated by time of day, mode occupancy, value-of-time, and origin-destination TAZ and assigned simultaneously with other trips.</li> </ol> <p>For more information on the Overnight Visitor Travel Model see technical documentation.</p>"},{"location":"faq.html","title":"FAQs","text":""},{"location":"faq.html#how-many-abm-versions-does-sandag-maintain","title":"How many ABM versions does SANDAG maintain?","text":"<p>There are four released ABM versions - ABM1, ABM2, ABM2+, and ABM3.</p>"},{"location":"faq.html#who-uses-the-sandag-abm-and-what-for","title":"Who uses the SANDAG ABM and what for?","text":"<p>The SANDAG ABM is used by SANDAG and many other public and private entities in the San Diego region. These entities include the City of San Diego and other local jurisdictions, Caltrans District 11, San Diego Metropolitan Transit System, North County Transit District, and private developers. Typical ABM applications include analysis for regional planning, air quality conformity, corridor studies, and land use development impact studies.</p>"},{"location":"faq.html#what-model-components-does-the-sandag-abm-have","title":"What model components does the SANDAG ABM have?","text":"<p>The SANDAG ABM is a suite of models covering various travel demand markets in the San Diego region. The microsimulation model components include a San Diego resident model, a commercial vehicle model, a Mexican resident crossborder model, a visitor model, a San Diego International Airport ground access model, a Cross-Border Express model serving Tijuana International Airport, and a special event model. The aggregate model components include an external heavy truck model and external trip models.</p>"},{"location":"faq.html#what-is-the-base-year-of-the-sandag-abm","title":"What is the base year of the SANDAG ABM?","text":"<p>ABM2 has a base year of 2022. ABM1 base year was 2012 and both ABM2 and ABM2+ have a base year of 2016.</p>"},{"location":"inputsandoutputs.html","title":"Inputs and Outputs","text":"<p>The main inputs to ABM3 include the transportation network, land-use data, synthetic population data, parameters files, and model specifications. Outputs include a set of files that describe travel decisions made by all travel markets considered by the model (residents, overnight visitors, airport ground access trips, commercial vehicles and trucks, Mexico residents traveling in San Diego County, and travel made by all other non-residents into and through San Diego County.</p>"},{"location":"inputsandoutputs.html#file-types","title":"File Types","text":"<p>There are several file types used for model inputs and outputs. They are denoted by their extension, as listed in the table below.</p> Extension Format .log, .txt Text files created during a model run containing logging results. .yaml Text files used for setting properties that control ActivitySim or some other process. .csv Comma-separated value files used to store model parameters, input or output data. .omx Open matrix format files used to store input or output trip tables or skims .h5 HDF5 files, used to store pipeline for restarting ActivitySim .shp (along with other files - .cpg, .dbf, .prj, .shx) ArcGIS shapefiles and associated files .html Hypertext markup language files, open in web browser .png Portable network graphics file, open in web browser, Microsoft photos, or third-party graphics editor"},{"location":"inputsandoutputs.html#model-inputs","title":"Model Inputs","text":"<p>//TODO List here</p>"},{"location":"inputsandoutputs.html#model-outputs","title":"Model Outputs","text":"<p>Model outputs are stored in the .\\outputs directory. The contents of the directory are listed in the table below.</p>"},{"location":"inputsandoutputs.html#output-directory-output","title":"Output Directory (.\\output)","text":"Directory\\File Name Description airport.CBX (directory) Outputs for Cross-Border Express Airport Ground Access Model airport.SAN (directory) Outputs for San Diego International Airport Ground Access Model assignment (directory) Assignment outputs crossborder (directory) Crossborder Travel Model outputs cvm (directory) Commercial Vehicle Model outputs parking (directory) Parking model outputs resident (directory) Resident model outputs skims (directory) Skim outputs visitor (directory) Visitor Model outputs bikeMgraLogsum.csv Bike logsum file for close-together MGRAs bikeTazLogsum.csv Bike logsum file for TAZs datalake_metadata.yaml Metadata file for datalake reporting system derivedBikeEdges.csv Derived bike network edge file derivedBikeNodes.csv Derived bike network node file derivedBikeTraversals.csv Derived bike network traversals file microMgraEquivMinutes.csv Equivalent minutes for using micromobility between close-together MGRAs (not used) runtime_summary.csv Summary of model runtime temp_tazdata_cvm.csv TAZ data for commercial vehicle model transponderModelAccessibilities.csv Transponder model accessibilities (not used) trip_(period).omx Trips for each time period, for assignment walkMgraEquivMinutes.csv Equivalent minutes for walking between close-together MGRAs"},{"location":"inputsandoutputs.html#activitysim-log-files","title":"ActivitySim log files","text":"<p>ActivitySim writes out various log files when it runs; these have standard names for each model component. Therefore we list them separately, but copies of these files may be in each model\u2019s output directory depending upon the settings used to run ActivitySim for that model component.</p> **File ** Description activitysim.log ActivitySim log file for model breadcrumbs.yaml Breadcrumbs provides a record of steps that have been run for use when resuming a model run final_checkpoints.csv ActivitySim checkpoint file final_pipeline.h5 ActivitySim pipeline file mem.csv ActivitySim memory use log file mem_mp_households.csv Memory logs for ActivitySim model steps running with the same num_processes (all except accessibility, initialize, and summarize) mem_mp_initialize.csv Memory logs for ActivitySim model step initialize mem_mp_summarize.csv Memory logs for ActivitySim model step summarize mp_households_(processnumber)-activitysim.log ActivitySim log file for processnumber. This logfile is created if model is run in multiprocess mode mp_households_(processnumber)-mem.csv Memory log file for processnumber mp_households_apportion-activitysim.log ActivitySim log file for apportioning data between multiple processes mp_households_coalesce-activitysim.log ActivitySIm logfile for coalesing output from multiple processes into one mp_initialize-activitysim.log ActivitySim log file for the initialization steps mp_initialize-mem.csv Memory logs for ActivitySim model step summarize (similar to mp_initialize-mem.csv) mp_setup_skims-activitysim.log ActivitySim logfile for reading in skims mp_summarize-activitysim.log ActivitySim log file for summarizing model output (omx and csv trip table) mp_summarize-mem.csv Memory logs for ActivitySim model step summarize (similar to mem_mp_initialize.csv) mp_tasks_log.txt Log files of multiprocessed steps omnibus_mem.csv Memory log file of all model steps (similar to mem.csv) run_list.txt List of models that have been run timing_log.csv Model run time by steps"},{"location":"inputsandoutputs.html#airport-model-outputs-airportcbx-airportsan","title":"Airport model outputs (.\\airport.CBX, .\\airport.SAN)","text":"<p>There are two subdirectories containing outputs for each of the two airport models. airport.CBX contains output for the Cross-Border Express model, and airport.SAN contains output for the San Diego International Airport model. Each directory has identical files so we provide one generic output table below.</p> Filename Description final_(airport)accessibility.csv Accessibility file for airport (cbx, san) (not used, created by default) final_(airport)households.csv Household file for airport (cbx, san) final_(airport)land_use.csv Land-use file for airport (cbx, san) final_(airport)persons.csv Persons file for airport (cbx, san) final_(airport)tours.csv Tour file for airport (cbx, san) final_(airport)trips.csv Trip file for airport (cbx, san) model_metadata.yaml Datalake metadata file nmotairporttrips.(airport)_(period).omx Non-motorized trip table for airport (CBX, SAN) by period (EA, AM, MD, PM, EV)"},{"location":"inputsandoutputs.html#airport-model-household-file-final_airporthouseholdscsv","title":"Airport Model household file (final_(airport)households.csv)","text":"Field Description home_zone_id Airport MGRA sample_rate Sample rate household_id Household ID poverty Poverty indicator utilized for social equity reports. Percentage value where value &lt;= 2 (200% of the Federal Poverty Level) indicates household is classified under poverty."},{"location":"inputsandoutputs.html#airport-model-person-file-final_airportpersonscsv","title":"Airport Model person file (final_(airport)persons.csv)","text":"Field Description household_id Household ID person_id Person ID"},{"location":"inputsandoutputs.html#airport-model-tour-file-final_airporttourscsv","title":"Airport Model tour file (final_(airport)tours.csv)","text":"Field Description tour_id Tour ID purpose_id ? party_size Number of persons in airport travel party nights Number of nights away income Income group 0-7,  -99 if employee direction Direction of trip. String. outbound: airport to non-airport, inbound: non-airport to airport household_id Household ID person_id Person ID tour_category Tour category. String \u201cnon_mandatory\u201d tour_type Type of tour. String. \u201cEmp\u201d: Employee, \u201cext\u201d: External, \u201cres_busn\u201d: Resident business where n is?, \u201cres_pern\u201d: Resident personal where n is?, \u201cvis_bus\u201d: Visitor business, \u201cvis_per\u201d: Visitor personal origin Origin MGRA destination Destination MGRA number_of_participants Same as party_size outbound TRUE if outbound, else FALSE start Half-hour time period of departure from tour origin. Periods are number 1 through 48 where period 1 starts at 3:00 AM. end Half-hour time period of arrival back at tour origin. Periods are number 1 through 48 where period 1 starts at 3:00 AM. duration Duration of the tour in number of half-hour periods, including all activity episodes and travel destination_logsum Logsum from destination choice model? stop_frequency out_0in, 0out_in primary_purpose \u201cbusn\u201d, \u201cemp\u201d, \u201cextn\u201d, \u201cpern\u201d"},{"location":"inputsandoutputs.html#airport-model-trip-file-final_airporttripscsv","title":"Airport Model trip file (final_(airport)trips.csv)","text":"Field Description trip_id Trip ID person_id Person ID household_id Household ID primary_purpose Primary purpose of trip: \u201cbusn\u201d: Business, where n is\u2026, \u201cemp\u201d: Employee, \u201cextn\u201d: External, where n is\u2026, \u201cpern\u201d: Personal, where n is\u2026 trip_num 1 outbound TRUE if outbound, else FALSE trip_count 1 destination Destination MGRA origin Origin MGRA tour_id Tour ID depart Departure time period (1\u202648) trip_mode Trip mode (see trip mode table) mode_choice_logsum Mode choice logsum for trip vot Value of time in dollars per hour ($2023) arrival_mode Arrival mode from airport trip mode choice model cost_parking Cost of parking ($2023) cost_fare_drive Ridehail/Taxi fare on a trip distance_walk Distance walked on a trip (including access/egress for transit modes) time_mm Micromobility time distance_mm Micromobility distance cost_fare_mm Micromobility cost ($2023) distance_bike Bike distance time_wait_drive Ridehail/Taxi wait times for a trip trip_period A string indicating the skim period for the trip (\u201cEA\u201d,\u201dAM\u201d,\u201dMD\u201d,\u201dPM\u2019,\u201dEV\u201d) party Party size tour_participants Number of joint tour participants if joint tour, else 1 distance_total Trip distance add_driver TRUE if trip requires a driver based on airport mode (for example, TNC, or pickup), else FALSE weight_trip 1 weight_person_trip weight_trip * tour_participants cost_operating_drive Auto operating cost ($2023)? inbound TRUE if trip is from (origin) airport to (destination) non-airport zone, else FALSE time_drive Auto time distance_drive Auto distance cost_toll_drive Auto toll cost ($2023)? time_transit_in_vehicle Transit in-vehicle time time_rapid_transit_in_vehicle Rapid transit in-vehicle time time_express_bus_transit_in_vehicle Express bus in-vehicle time time_local_bus_transit_in_vehicle Local bus in-vehicle time time_light_rail_transit_in_vehicle Light rail transit in-vehicle time time_commuter_rail_transit_in_vehicle Commuter rail in-vehicle time time_transit_initial_wait Transit initial-wait time cost_fare_transit Transit fare ($2023) transfers_transit Number of transfers time_bike Bike time time_walk Walk mode time cost_total Sum of all costs a trip might incur (auto operating, toll, transit fare) time_total Total time (sum of ?) value_of_time_category_id Value of time bin. 1: Low, 2: Medium, 3: High sample_rate Sample rate otaz Origin TAZ dtaz Destination TAZ"},{"location":"inputsandoutputs.html#assignment-model-trip-tables-assignment","title":"Assignment model trip tables (.\\assignment)","text":"<p>This directory contains trip tables from auto and transit assignments.</p> **File ** Description autoairportTrips.(airport)(period(vot).omx Auto trip table for airport (CBX, SAN) by period (EA, AM, MD, PM, EV) and value of time (low, medium, high) autocrossborderTrips_(period)_(vot).omx Auto trip table for cross border model by period (EA, AM, MD, PM, EV) and value of time (low, medium, high) autoTrips_(period)_(vot).omx Auto trip table for resident model by period (EA, AM, MD, PM, EV) and value of time (low, medium, high) autovisitorTrips_(period)_(vot).omx Auto trip table for visitor model by period (EA, AM, MD, PM, EV) and value of time (low, medium, high) emptyAVTrips.omx Empty private autonomous vehicle trips householdAVTrips.csv All private autonomous vehicle trips TNCTrips.csv All TNC trips TNCVehicleTrips_(period).omx TNC vehicle trip table by period (EA, AM, MD, PM, EV) TranairportTrips.(airport)_(period).omx Transit trip tables for airport (CBX, SAN) by period (EA, AM, MD, PM, EV) TrancrossborderTrips_(period).omx Transit trip tables for cross-border model by period (EA, AM, MD, PM, EV) TranTrips_(period).omx Transit trip tables for resident model by period (EA, AM, MD, PM, EV) TranvisitorTrips_(period).omx Transit trip tables for visitor model by period (EA, AM, MD, PM, EV) TripMatrices.csv Disaggregate commercial vehicle trips"},{"location":"inputsandoutputs.html#crossborder-model-outputs-crossborder","title":"Crossborder model outputs (.\\crossborder)","text":"<p>This directory contains outputs from the Crossborder model, which represents all travel made by Mexico residents in San Diego County.</p> **File ** Description final_accessibility.csv Accessibility file for Crossborder Model (not used, created by default) final_households.csv Household file for Crossborder Model final_land_use.csv Land-use file for Crossborder Model final_persons.csv Persons file for Crossborder Model final_tours.csv Tour file for Crossborder Model final_trips.csv Tour file for Crossborder Model model_metadata.yaml Model run meta data for use in Datalake storage and reporting nmCrossborderTrips_AM.omx Non-motorized trip table for Crossborder Model by period (EA, AM, MD, PM, EV) othrCrossborderTrips_AM.omx Other trip table for Crossborder Model by period (EA, AM, MD, PM, EV)"},{"location":"inputsandoutputs.html#crossborder-model-household-file-final_householdscsv","title":"Crossborder Model household file (final_households.csv)","text":"Field Description sample_rate Sample Rate num_persons Number of persons in travel party origin Origin MGRA (Border crossing station) home_zone_id Home MGRA (Border crossing station) household_id Household ID poverty Poverty indicator utilized for social equity reports. Percentage value where value &lt;= 2 (200% of the Federal Poverty Level) indicates household is classified under poverty."},{"location":"inputsandoutputs.html#crossborder-model-person-file-final_personscsv","title":"Crossborder Model person file (final_persons.csv)","text":"Field Description household_id Household ID work_time_factor Travel time sensitivity factor for work tours non_work_time_factor Travel time sensitivity factor for non-work tours (Sampled in person preprocessor) origin Origin MGRA (Border crossing station) home_zone_id Home MGRA (Border crossing station) person_id Person ID"},{"location":"inputsandoutputs.html#crossborder-model-tour-file-final_tourscsv","title":"Crossborder Model tour file (final_tours.csv)","text":"Field Description tour_id Tour ID pass_type Type of border crossing pass. String. \u201cno_pass\u201d: Does not own a pass, \u201csentri\u201d: SENTRI pass, or \u201cready\u201d: READY pass tour_type Tour purpose. String. \u201cother\u201d, \u201cschool\u201d, \u201cshop\u201d, \u201cvisit\u201d, or \u201cwork\u201d purpose_id Tour purpose ID. 0: work, 1: school, 2: shop, 3: visit, 4: other tour_category Tour category. String. Mandatory: Work or school, Non-Mandatory: Shop, visit, other number_of_participants Number of participants in tour household_id Household ID person_id Person ID start Half-hour time period of departure from tour origin. Periods are number 1 through 48 where period 1 starts at 3:00 AM. end Half-hour time period of arrival back at tour origin. Periods are number 1 through 48 where period 1 starts at 3:00 AM. duration Duration of the tour in number of half-hour periods, including all activity episodes and travel origin Tour origin (Border Crossing) MGRA destination Tour primary destination MGRA tour_od_logsum Tour origin-crossing-destination logsum poe_id Number of border crossing station tour_mode Tour mode mode_choice_logsum Tour mode choice logsum stop_frequency Number of stops on tour by direction. String. xout_yin where x is number of stops in the outbound direction and y is the number of stops in the inbound direction primary_purpose will drop"},{"location":"inputsandoutputs.html#crossborder-model-trip-file-final_tripscsv","title":"Crossborder Model trip file (final_trips.csv)","text":"Field Description trip_id Trip ID person_id Person ID household_id Household ID primary_purpose Purpose at primary destination. String. \u201cother\u201d, \u201cschool\u201d, \u201cshop\u201d, \u201cvisit\u201d, or \u201cwork\u201d trip_num Sequential number of trip on half-tour from 1 to 4 outbound TRUE if outbound, else FALSE trip_count number of trips per tour. Will drop destination Destination MGRA origin Origin MGRA tour_id Tour ID purpose Purpose at trip destination. String. \u201cother\u201d, \u201cschool\u201d, \u201cshop\u201d, \u201cvisit\u201d, or \u201cwork\u201d depart Departure time period (1\u202648) trip_mode Trip mode (see trip mode table) trip_mode_choice_logsum Mode choice logsum for trip parking_cost Parking costs at trip origin and destination, calculated as one-half of the costs at each end, with subsidies considered. tnc_single_wait_time Wait time for single pay TNC tnc_shared_wait_time Wait time for shared\\pooled TNC taxi_wait_time Wait time for taxi cost_parking Cost of parking ($2023) cost_fare_drive ? distance_walk Walk mode distance? time_mm Micromobility time distance_mm Micromobility distance cost_fare_mm Micromobility cost ($2023) distance_bike Bike distance time_wait_drive ? trip_period A string indicating the skim period for the trip (\u201cEA\u201d,\u201dAM\u201d,\u201dMD\u201d,\u201dPM\u2019,\u201dEV\u201d) tour_participants Number of joint tour participants if joint tour, else 1 distance_total ? cost_operating_drive Auto operating cost ($2023)? weight_trip Trip weight defined as the ratio of number of particpants on a  trip to the assumed occupancy rate of a mode (SHARED2,3) weight_person_trip Person trip weight defined as the ratio of the number of participants on a trip to sample rate of the model run inbound TRUE if trip is in outbound direction, else FALSE time_drive Auto time distance_drive Auto distance cost_toll_drive Auto toll cost ($2023)? time_transit_in_vehicle Transit in-vehicle time time_rapid_transit_in_vehicle Rapid transit in-vehicle time time_express_bus_transit_in_vehicle Express bus in-vehicle time time_local_bus_transit_in_vehicle Local bus in-vehicle time time_light_rail_transit_in_vehicle Light rail transit in-vehicle time time_commuter_rail_transit_in_vehicle Commuter rail in-vehicle time time_transit_initial_wait Transit initial-wait time cost_fare_transit Transit fare ($2023) transfers_transit Number of transfers time_bike Bike time time_walk Walk mode time cost_total Sum of all costs a trip might incur (auto operating, toll, transit fare) time_total Total time (sum of ?) value_of_time_category_id Value of time bin. 1: Low, 2: Medium, 3: High origin_micro_prm_dist Distance from trip origin MGRA to closest premium transit stop by microtransit dest_micro_prm_dist Distance from trip destination MGRA to closest premium transit stop by microtransit microtransit_orig Distance from trip origin MGRA to closest local transit stop by microtransit? microtransit_dest Distance from trip destination MGRA to closest local transit stop by microtransit? microtransit_available TRUE if microtransit is available for trip, else FALSE nev_orig True if Neighborhood Electric Vehicle is available at origin nev_dest True if Neighborhood Electric Vehicle is available at destination nev_available TRUE if Neighborhood Electric Vehicle is available, else FALSE microtransit_access_available_out TRUE if microtransit is available from the origin, else FALSE nev_access_available_out TRUE if neighborhood electric vehicle is available from the origin, else FALSE microtransit_egress_available_out Availability of microtransit egress in the outbound direction nev_egress_available_out Availability of NEV egress in the outbound direction microtransit_access_available_in Availability of microtransit access in the inbound direction nev_access_available_in Availability of NEV egress in the inbound direction microtransit_egress_available_in Availability of microtransit egress in the inbound direction nev_egress_available_in Availability of microtransit egress in the outbound direction sample_rate Sample rate otaz Origin TAZ dtaz Destination TAZ"},{"location":"inputsandoutputs.html#commercial-vehicle-model-cvm","title":"Commercial Vehicle Model (.\\cvm)","text":"<p>//TODO Update with CVM results once model is updated</p>"},{"location":"inputsandoutputs.html#parking-cost-calculations-parking","title":"Parking cost calculations (.\\parking)","text":"<p>This directory contains intermediate files and final expected parking costs calculated from input parking supply data and walk distances between MGRAs.</p> **File ** Description aggregated_street_data.csv Street length and intersections aggregated to MGRA level, used to estimate free on-street parking spaces cache (directory) Directory containing intermediate calculations for expected parking costs distances.csv MGRA-MGRA distances used for expected parking cost calculations districts.csv Calculated parking districts at MGRA level used for expected parking cost calculations final_parking_data.csv Expected hourly, daily, and monthly parking costs, total spaces, and parking district at the MGRA level for use in travel models plots Directory containing plots of the parking model results shapefiles Directory containing shapefiles for parking model calculations"},{"location":"inputsandoutputs.html#resident-model-outputs-resident","title":"Resident model outputs (.\\resident)","text":"<p>This directory contains San Diego resident travel model outputs.</p> File Description cdap_joint_spec_(persons).csv Model specification file for coordinated daily activity pattern model joint tour alternative for (persons)-way interaction terms cdap_spec_(persons).csv Model specification file for coordinated daily activity pattern model for (persons)-way interaction terms. data_dict.csv Data dictionary for resident model, csv format data_dict.txt Data dictionary for resident model, text format final_accessibility.csv Resident model aggregate accessibility file final_disaggregate_accessibility.csv Resident model disaggregate accessibility file at MGRA level final_households.csv Resident model household file final_joint_tour_participants.csv Resident model joint tour participants file final_land_use.csv Resident model land-use file final_persons.csv Resident model persons file final_proto_disaggregate_accessibility.csv Resident model disaggregate accessibility file at person level final_tours.csv Resident model tour file final_trips.csv Resident model trip file final_vehicles.csv Resident model vehicle file log (directory) Directory for resident model logging output model_metadata.yaml Resident model Datalake metadata file nmottrips_period.omx Resident model non-motorized trip tables by period (EA, AM, MD, PM, EV) skim_usage.txt Skim usage file trace (directory) Directory for resident model trace output"},{"location":"inputsandoutputs.html#resident-model-household-file-final_householdscsv","title":"Resident Model household file (final_households.csv)","text":"Field Description home_zone_id Household MGRA - same as mgra income Household income in dollars ($2023) hhsize Number of persons in household HHT Household dwelling unit type. 0: N/A (GQ/vacant), 1: Married couple household, 2: Other family household: Male householder no spouse present, 3: Other family household: Female householder no spouse present, 4: Nonfamily household: Male householder living alone, 5: Nonfamily household: Male householder: Not living alone, 6: Nonfamily household: Female householder: Living alone, 7: Nonfamily household: Female householder: Not living alone auto_ownership (Model output) Auto ownership num_workers Number of workers in household building_category Units in structure. 0: N/A (GQ), 1: Mobile home or trailer, 2: One-family house detached, 3: One-family house attached, 4: 2 Apartments, 5: 3-4 Apartments, 6: 5-9 Apartments, 7: 10-19 Apartments, 8: 20-49 Apartments, 9: 50 or more apartments, 10: Boat, RV, van, etc. unittype Household unit type. 0: Non-GQ Household, 1: GQ Household (used in Visualizer) sample_rate Sample rate for household income_in_thousands Household income in thousands of dollars ($2023) income_segment Household income segment (1-4) num_non_workers Number of non-workers in household num_drivers Number of persons age 16+ num_adults Number of persons age 18+ ebike_owner TRUE if household owns an e-bike, else FALSE (output from e-bike owership simulation) av_ownership TRUE if household owns an autonomous vehicle, else FALSE (output from AV Ownership Model) workplace_location_accessibility Work location choice logsum (output from Disaggregate Accessibility Model) shopping_accessibility Shopping primary destination choice logsum (output from Disaggregate Accessibility Model) othdiscr_accessibility Other Discretionary primary destination choice logsum (output from Disaggregate Accessibility Model) numAVowned Number of autonomous vehicles owned by household (output from Vehicle Type Choice Model) transponder_ownership TRUE if household owns a transponder, else FALSE (output from Transponder Ownership Model) has_joint_tour 1 if household has at least one fully joint tour, else false (output from Coordinated Daily Activity Pattern Model) num_under16_not_at_school Number of persons age less than 16 who do not attend school (output from Coordinated Daily Activity Pattern Model) num_travel_active Number of persons in household who have an active (type M or N) travel pattern (output from Coordinated Daily Activity Pattern Model) num_travel_active_adults Number of adults in household who have an active (type M or N) travel pattern (output from Coordinated Daily Activity Pattern Model) num_travel_active_preschoolers Number of preschool children in household who have an active (type M or N) travel pattern (output from Coordinated Daily Activity Pattern Model) num_travel_active_children Number of children in household who have an active (type M or N) travel pattern (output from Coordinated Daily Activity Pattern Model) num_travel_active_non_preschoolers Number of non-preschoolers household in who have an active (type M or N) travel pattern (output from Coordinated Daily Activity Pattern Model) participates_in_jtf_model TRUE if household has a joint tour frequency model, else FALSE (output from Coordinated Daily Activity Pattern Model) school_escorting_outbound Alternative number for school escort model in the outbound direction (initial output from School Escort Model) school_escorting_inbound Alternative number for school escort model in the inbound direction (output from School Escort Model) school_escorting_outbound_cond Alternative number for school escort model in the outbound direction (final output from School Escort Model) auPkRetail Auto peak access to retail employment from household TAZ (aggregate accessibility output) auPkTotal Auto peak access to total employment from household TAZ (aggregate accessibility output) auOpRetail Auto offpeak access to retail employment from household TAZ (aggregate accessibility output) auOpTotal Auto offpeak access to total employment from household TAZ (aggregate accessibility output) trPkRetail Transit peak access to retail employment from household TAZ (aggregate accessibility output) trPkTotal Transit peak access to total employment from household TAZ (aggregate accessibility output) trPkHH Transit peak access to total employment from household (aggregate accessibility output) trOpRetail Transit offpeak access to retail employment from household TAZ (aggregate accessibility output) trOpTotal Transit offpeak access to total employment from household TAZ (aggregate accessibility output) nmRetail Walk access to retail employment from household TAZ (aggregate accessibility output) nmTotal Walk access to total employment from household TAZ (aggregate accessibility output) microtransit Microtransit access time in household MGRA nev Neighborhood electric vehicle access time in household MGRA mgra Household MGRA - same as home_zone_id TAZ Household TAZ micro_dist_local_bus Distance to closest local bus stop from household MGRA by microtransit, if available. 999999 if not available. micro_dist_premium_transit Distance to closest premium transit stop from household MGRA by microtransit, if available. 999999 if not available. joint_tour_frequency_composition Joint tour frequency and composition model choice (output from Joint Tour Frequency\\Composition Model) num_hh_joint_tours Number of fully joint tours at the household level (0, 1 or 2) (output from Coordinated Daily Activity Pattern Model and Joint Tour Frequency\\Composition Models) household_id Household ID poverty Poverty indicator utilized for social equity reports. Percentage value where value &lt;= 2 (200% of the Federal Poverty Level) indicates household is classified under poverty."},{"location":"inputsandoutputs.html#resident-model-person-file-final_personscsv","title":"Resident Model person file (final_persons.csv)","text":"Field Description household_id Household ID age Person age in years PNUM Person number in household (1\u2026n where n is number of persons in household) sex 1: Male, 2: Female pemploy Employment status of person. 1: Employed Full-Time, 2: Employed Part-Time, 3: Unemployed or Not in Labor Force, 4: Less than 16 Years Old pstudent Student status of person. 1: Pre K-12, 2: College Undergrad+Grad and Prof. School, 3: Not Attending School ptype Person type  1: Full-time worker 2: Part-time worker 3: College\\University Student 4: Non-Working Adult 5: Retired 6: Driving-age student 7: Non-driving age student 8: Pre-school\\Age &lt;=5 educ Educational attainment. 1: No schooling completed, 9: High school graduate, 13: Bacehlor\u2019s degree soc2 Two-digit Standard Occupational Classification (SOC) codes (https://www.bls.gov/oes/current/oes_stru.htm) is_student Person is a K12 or college student school_segment School location choice model\u2019s segment a student belongs to (preschool, grade school, high school, university) is_worker Person is a full-time or part-time worker is_internal_worker TRUE if worker works internal to region, else FALSE (output from Internal-External Worker Identification Model) is_external_worker TRUE if worker works external to region, else FALSE (output from Internal-External Worker Identification Model) home_zone_id Household MGRA time_factor_work Travel time sensitivity factor for work tours time_factor_nonwork Travel time sensitivity factor for non-work tours (Sampled in person preprocessor) naics_code Two-digit NAICS code (https://www.census.gov/naics/) occupation Occupation String work_from_home TRUE if worker and works from home, else FALSE (output from Work From Home Model) is_out_of_home_worker TRUE if worker has a usual out of home work location, else FALSE (output from Work From Home Model) external_workplace_zone_id MGRA number of external workplace if external worker, else -1 (output from External Workplace Location Choice Model) external_workplace_location_logsum Location choice logsum for external workplace location choice model (output from External Workplace Location Choice Model) external_workplace_modechoice_logsum Mode choice logsum for mode choice from external workplace location choice model (output from External Workplace Location Choice Model) school_zone_id MGRA number of school location, else -9  (output from School Location Choice Model) school_location_logsum Location choice logsum for school location choice model, else -9 (output from School Location Choice Model) school_modechoice_logsum Mode choice logsum for mode choice from school location choice model, else -9 (output from School Location Choice Model) distance_to_school Distance to school if student, else -9  (output from School Location Choice Model) roundtrip_auto_time_to_school Round trip offpeak auto time to school, else -9  (output from School Location Choice Model) workplace_zone_id MGRA number of internal work location, else -9  (output from Internal Work Location Choice Model) workplace_location_logsum Location choice logsum for work location choice model, else -9 (output from Internal Work Location Choice Model) workplace_modechoice_logsum Mode choice logsum for mode choice from work location choice model, else -9 (output from Internal Work Location Choice Model) distance_to_work Distance to work if internal worker with work location, else -9  (output from Internal Work Location Choice Model) work_zone_area_type Area type of work zone for worker if internal worker with work location, else -9 (output from Internal Work Location Choice Model) auto_time_home_to_work Peak auto time from home to work if internal worker with work location, else -9  (output from Internal Work Location Choice Model) roundtrip_auto_time_to_work Round trip auto travel time to and from work work_auto_savings Travel time savings as a result of  using auto vs. walk-transit mode exp_daily_work Expected daily cost of parking at work if internal worker with work location, else -9 (output from Internal Work Location Choice Model) non_toll_time_work Time from home to work for path without I-15, if worker with internal workplace, else -9 toll_time_work Time from home to work for path with I-15, if worker with internal workplace, else -9 toll_dist_work Travel distance for work using a tolled route toll_cost_work Toll cost for going to work toll_travel_time_savings_work Work travel time savings for using tolled vs. non-tolled routes transit_pass_subsidy 1 if person has subsidized transit from their employer or school, else 0 (Output from Transit Subsidy Model) transit_pass_ownership 1 if person owns a transit pass, else 0 (Output from Transit Pass Ownership Model) free_parking_at_work TRUE if person has free parking at work, else FALSE (Output from Free Parking Model) telecommute_frequency Telecommute frequency if worker who does not work from hom, else null (Output from Telecommute Frequency Model) String \u201cNo_Telecommute\u201d, \u201c1_day_week\u201d, \u201c2_3_days_week\u201d, \u201c4_days_week\u201d cdap_activity Coordinated daily activity pattern type (Output from Coordinated Daily Activity Pattern Model) String \u201cM\u201d: Mandatory pattern, \u201cN\u201d: Non-mandatory pattern, \u201cH\u201d: Home or out of region pattern travel_active TRUE if activity pattern is \u201cM\u201d or \u201cN\u201d, else FALSE  (Output from Coordinated Daily Activity Pattern Model) num_joint_tours Total number of fully joint tours (Output from Fully Joint Tour Participation Model) non_mandatory_tour_frequency Non-Mandatory Tour Frequency Model Choice (Output from Non-Mandatory Tour Frequency Chopice Model) num_non_mand Total number of non-mandatory tours (Output from School Escort Model, Non-Mandatory Tour Frequency Model, and At-Work Subtour Model) num_escort_tours Total number of escorting tours (Output from School Escort Model and Non-Mandatory Tour Frequency Model) num_eatout_tours Total number of eating out tours (Output from Non-Mandatory Tour Frequency Model) num_shop_tours Total number of shopping tours (Output from Non-Mandatory Tour Frequency Model) num_maint_tours Total number of other maintenance tours (Output from Non-Mandatory Tour Frequency Model) num_discr_tours Total number of discretionary tours (Output from Non-Mandatory Tour Frequency Model) num_social_tours Total number of social\\visiting tours (Output from Non-Mandatory Tour Frequency Model) num_add_shop_maint_tours Total number of additional shopping and maintenance tours (Output from Non-Mandatory Tour Frequency Extension Model) num_add_soc_discr_tours Total number of additional social\\visiting and other discretionary tours (Output from Non-Mandatory Tour Frequency Extension Model) person_id Person ID miltary 1 if serves in the military, else 0 grade School grade of person: 0 = N/A (not attending school), 2 = K to grade 8, 5 = Grade 9 to grade 12, 6 = College undergraduate weeks Weeks worked during past 12 months 0: N/A (less than 16 years old/did not work during the past 12 .months) 1: 50 to 52 weeks worked during past 12 months 2: 48 to 49 weeks worked during past 12 months 3: 40 to 47 weeks worked during past 12 months 4: 27 to 39 weeks worked during past 12 month 5: 14 to 26 weeks worked during past 12 months 6: 13 weeks or less worked during past 12 months hours Usual hours worked per week past 12 months 0: .N/A (less than 16 years old/did not work during the past .12 months), 1..98 .1 to 98 usual hours, 99 .99 or more usual hours race Recoded detailed race code 1: .White alone, 2: Black or African American alone, 3: American Indian alone, 4: Alaska Native alone, 5: American Indian and Alaska Native tribes specified; or .American Indian or Alaska Native, not specified and no other races, 6: Asian alone, 7: Native Hawaiian and Other Pacific Islander alone, 8: Some Other Race alone, 9: Two or More Races hispanic Hispanic flag: 1: Non-Hispanic, 2: Hispanic"},{"location":"inputsandoutputs.html#resident-model-vehicle-file-final_vehiclescsv","title":"Resident Model vehicle file (final_vehicles.csv)","text":"Field Description vehicle_id Vehicle ID household_id Household ID vehicle_num Vehicle number in household from 1\u2026n where n is total vehicles owned by household vehicle_type String bodytype_age_fueltype auto_operating_cost Auto operating cost for vehicle ($2023 cents/mile) Range Range if electric vehicle, else 0 MPG Miles per gallen for vehicle vehicle_year Year of vehicle vehicle_category String, Body type (Car, Motorcycle, Pickup, SUV, Van. Autonomous vehicles have _AV extension on body type) num_occupants Number of occupants in the vehicle fuel_type String. BEV: Battery electric vehicle, Diesel, Gas, Hybrid: Gas\\Electric non plug-in vehicle, PEV: Plug-in hybrid electric vehicle"},{"location":"inputsandoutputs.html#resident-model-joint-tour-participants-file-final_joint_tour_participantscsv","title":"Resident Model joint tour participants file (final_joint_tour_participants.csv)","text":"Field Description participant_id Participant ID tour_id Tour ID household_id Household ID person_id Person ID participant_num Sequent number of participant 1\u2026n where n is total number of participants in joint tour"},{"location":"inputsandoutputs.html#resident-model-tour-file-final_tourscsv","title":"Resident Model tour file (final_tours.csv)","text":"Field Description tour_id Tour ID person_id Person ID tour_type Purpose string of the primary activity on the tour: For home-based tours, the purposes are: \u201cwork\u201d, \u201cschool\u201d, \u201cescort\u201d, \u201cshopping\u201d, \u201cothmaint\u201d, \u201ceatout\u201d, \u201csocial\u201d, and \u201cothdiscr\u201d. For work-based subtours, the purposes are \u201cbusiness\u201d, \u201ceat\u201d, and \u201cmaint\u201d. tour_type_count The total number of tours within the tour_type tour_type_num The sequential number of the tour within the tour_category. In other words if a person has 3 tours; 1 work tour and 2 non-mandatory tours, the tour_type_num would be 1 for the work tour, 1 for the first non-mandatory tour and 2 for the second non-mandatory tour. tour_num ? tour_count ? tour_category The category string of the primary activity on the tour. \u201cmandatory\u201d, \u201cjoint\u201d, \u201cnon_mandatory\u201d, \u201catwork\u201d number_of_participants Number of participants on the tour for fully joint tours, else 1 destination MGRA number of primary destination origin MGRA number of tour origin household_id Household ID start Half-hour time period of departure from tour origin. Periods are number 1 through 48 where period 1 starts at 3:00 AM. end Half-hour time period of arrival back at tour origin. Periods are number 1 through 48 where period 1 starts at 3:00 AM. duration Duration of the tour in number of half-hour periods, including all activity episodes and travel school_esc_outbound For school tours where the child is being escorted according to the school pickup/dropoff model, this string field indicates the type of escorting in the outbound direction: \u201cpure_escort\u201d or \u201crideshare\u201d school_esc_inbound For school tours where the child is being escorted according to the school pickup/dropoff model, this string field indicates the type of escorting in the inbound direction: \u201cpure_escort\u201d or \u201crideshare\u201d num_escortees Number of children being escorted on this tour (max of outbound and inbound direction) tdd Tour departure and duration. Index of the tour departure and durarion alterntive configs composition Composition of tour if joint \u201cadults\u201d, \u201cchildren\u201d is_external_tour TRUE if primary destination activity is external to region, else FALSE is_internal_tour Whether tour is internal destination_logsum Logsum from tour destination choice model vehicle_occup_1 Tour vehicle with occupancy of 1 vehicle_occup_2 Tour vehicle with occupancy of 2 vehicle_occup_3_5 Tour vehicle with occupancy of 3+ tour_mode Tour mode string mode_choice_logsum Logsum from tour mode choice model selected_vehicle Selected vehicle from vehicle type choice model; a string field consisting of Body type[fuel type] and an optional extension \u201c_AV\u201d if the vehicle is an autonomous vehicle atwork_subtour_frequency At-work subtour frequency choice model result; a string field with the following values: \u201cno_subtours\u201d, \u201cbusiness1\u201d, \u201cbusiness2\u201d, \u201ceat\u201d, \u201ceat_business\u201d, \u201cmaint\u201d, or blank for non-work tours. parent_tour_id Parent tour ID if this is a work-based subtour, else 0 stop_frequency Stop frequency choice model result; a string value of the form [0\u2026n]out_[0\u2026n]in where the first number is the number of outbound stops and the second number is the number of inbound stops primary_purpose Recoding of tour_type where all atwork subtours are identified as \u201catwork\u201d regardless of destination purpose"},{"location":"inputsandoutputs.html#resident-model-trip-file-final_tripscsv","title":"Resident Model trip file (final_trips.csv)","text":"Field Description trip_id Trip ID person_id Person ID household_id Household ID primary_purpose Primary purpose of tour (see tour table) trip_num Sequential number of trip by direction (1\u2026n where n is maximum trips on half-tour, e.g. max stops + 1) outbound TRUE if trip is in the outbound direction, else FALSE destination MGRA of trip destination origin MGRA of trip origin tour_id Tour ID escort_participants Space delimited string field listing person IDs of other children escorted on this trip, else null school_escort_direction String field indicating whether child is being dropped off at school (\u201coutbound\u201d) or picked up from school (\u201cinbound\u201d). \u201cnull\u201d if not a child being picked up or dropped off. purpose Purpose at destination? destination_logsum Logsum from trip destination choice model. -9 if destination is tour origin or primary destination. depart Departure time period (1\u202648) trip_mode Trip mode string mode_choice_logsum Logsum from trip mode choice model vot Value of time for trip in dollars per hour ($2023) owns_transponder True if household owns transponder. Same as ownTrp totalWaitSingleTNC Wait time for single pay TNC totalWaitSharedTNC Wait time for shared\\pooled TNC s2_time_skims HOV2 travel time s2_dist_skims HOV3 travel distance s2_cost_skims HOV2 travel toll cost cost_parking Parking costs at trip origin and destination, calculated as one-half of the costs at each end, with subsidies considered. cost_fare_drive Taxi/TNC fare for any trip or trip portion taken on these modes distance_walk Walk mode distance? time_mm Micromobility time distance_mm Micromobility distance cost_fare_mm Micromobility cost ($2023) distance_bike Bike distance time_wait_drive Waiting time for a TNC/ Taxi modes parking_zone MGRA from parking location choice model at destination, else -1 trip_period A string indicating the skim period for the trip (\u201cEA\u201d,\u201dAM\u201d,\u201dMD\u201d,\u201dPM\u2019,\u201dEV\u201d) tour_participants Number of joint tour participants if joint tour, else 1 distance_total Trip distance in miles cost_operating_drive Auto operating cost ($2023)? weight_trip Trip weight defined as the ratio of number of particpants on a  trip to the assumed occupancy rate of a mode (SHARED2,3) weight_person_trip Person trip weigth defined as the ratio of the number of particpants on a trip to sample rate of the model run inbound TRUE if trip is in the inbound direction, else FALSE time_drive Auto time distance_drive Auto distance cost_toll_drive Auto toll cost ($2023)? time_transit_in_vehicle Transit in-vehicle time time_rapid_transit_in_vehicle Rapid transit in-vehicle time time_express_bus_transit_in_vehicle Express bus in-vehicle time time_local_bus_transit_in_vehicle Local bus in-vehicle time time_light_rail_transit_in_vehicle Light rail transit in-vehicle time time_commuter_rail_transit_in_vehicle Commuter rail in-vehicle time time_transit_initial_wait Transit initial-wait time cost_fare_transit Transit fare before subsidy ($2023) transfers_transit Number of transfers time_bike Bike time time_walk Walk mode time cost_total total cost of a trip (sum of auto operating, toll, transit fare) time_total Total time (sum of drive, bike, walk, initial transit wait, transit time, transit transfer)) time_transit_wait Transit total wait time? value_of_time_category_id Value of time bin. 1: Low, 2: Medium, 3: High origin_micro_prm_dist Distance from trip origin MGRA to closest premium transit stop by microtransit dest_micro_prm_dist Distance from trip destination MGRA to closest premium transit stop by microtransit microtransit_orig Distance from trip origin MGRA to closest local transit stop by microtransit? microtransit_dest Distance from trip destination MGRA to closest local transit stop by microtransit? microtransit_available TRUE if microtransit is available for trip, else FALSE nev_orig Availability of Neighborhood Electric vehicle at origin nev_dest Availability of Neighborhood Electric vehicle at destination nev_available TRUE if neighborhood electric vehicle is available, else FALSE microtransit_access_available_out TRUE if microtransit is available from the origin, else FALSE nev_access_available_out TRUE if neighborhood electric vehicle is available from the origin, else FALSE? microtransit_egress_available_out Availability of microtransit egress in the outbound direction nev_egress_available_out Availability of NEV egress in the outbound direction microtransit_access_available_in Availability of microtransit access in the inbound direction nev_access_available_in Availability of NEV egress in the inbound direction microtransit_egress_available_in Availability of microtransit egress in the inbound direction nev_egress_available_in Availability of microtransit egress in the outbound direction trip_veh_body Body type of vehicle used for trip, else \u201cnull\u201d trip_veh_age Age of vehicle used for trip, else \u201cnull\u201d trip_veh_fueltype Fuel type of vehicle used for trip, else \u201cnull\u201d origin_purpose Purpose at origin sample_rate Sample rate origin_parking_zone MGRA from parking location choice model at trip origin, else -1 otaz Origin TAZ dtaz Destination TAZ"},{"location":"inputsandoutputs.html#skims-skims","title":"Skims (.\\skims)","text":"<p>This directory contains auto, transit, and non-motorized level-of-service matrices, also known as skims. Each file is a collection of origin destination tables of times and costs, at the TAZ level.</p> File Description dest_pmsa.omx A matrix containing pseudo - metropolitan statistical area code for each destination TAZ dest_poi.omx A matrix containing point of interest code for each destination TAZ (currently zeros) dest_poi.omx.csv A csv file containing point of interest code for each destination TAZ (currently zeros) impm(truck type)(toll type)(period)(matrixtype).txt Truck impedance matrix for truck type (ld = Light duty, lhd = light heavy duty, mhd = medium heavy duty, hhd = heavy heavy duty), toll type (n = non-toll, t = toll) and matrixtype (DU = utility, dist = distance, time = time) maz_maz_bike.csv Bike logsums between close together MGRAs maz_maz_walk.csv Walk times between close together MGRAs maz_stop_walk.csv Walk times between MGRAs and transit stops taz_pmsa_xwalk.csv Crosswalk file between pseudo-metropolitan statistical areas and TAZs traffic_skims_(period).omx Auto skims by period (EA, AM, MD, PM, EV) transit_skims_(period).omx Transit skims by period (EA, AM, MD, PM, EV)"},{"location":"inputsandoutputs.html#visitor-model-outputs-visitor","title":"Visitor model outputs (.\\visitor)","text":"<p>This directory contains outputs from the overnight visitor model.</p> File Description final_households.csv Visitor model household file final_land_use.csv Visitor model land-use file final_persons.csv Visitor model person file final_tours.csv Visitor model tour file final_trips.csv Visitor model trip file model_metadata.yaml Visitor model Datalake metadata file nmotVisitortrips_(period).omx Visitor model non-motorized trips by period (EA, AM, MD, PM, EV)"},{"location":"inputsandoutputs.html#visitor-model-household-file-final_householdscsv","title":"Visitor Model household file (final_households.csv)","text":"Field Description home_zone_id Home MGRA sample_rate Sample rate household_id Household ID poverty Poverty indicator utilized for social equity reports. Percentage value where value &lt;= 2 (200% of the Federal Poverty Level) indicates household is classified under poverty."},{"location":"inputsandoutputs.html#visitor-model-person-file-final_personscsv","title":"Visitor Model person file (final_persons.csv)","text":"Field Description household_id Household ID home_zone_id Home MGRA person_id Person ID"},{"location":"inputsandoutputs.html#visitor-model-tour-file-final_tourscsv","title":"Visitor Model tour file (final_tours.csv)","text":"Field Description tour_id Tour ID tour_type Type of tour. String. \u201cdining\u201d, \u201crecreation\u201d, or \u201cwork\u201d purpose_id Type of tour. 0: work, 1: \u201cdining, 2: \u201crecreation\u201d visitor_travel_type Visitor purpose. String. \u201cbusiness\u201d or \u201cpersonal\u201d tour_category Tour category. All tour categories in the visitor model are \u201cnon-mandatory\u201d number_of_participants Number of participants on tour auto_available Auto availability indicator 0: not available, 1: available income Income 0 - 4 origin Tour origin MGRA tour_num Sequential number of tour 1 to n where n is total number of tours tour_count Number of tours per person household_id Household ID person_id Person ID start Half-hour time period of departure from tour origin. Periods are number 1 through 48 where period 1 starts at 3:00 AM. end Half-hour time period of arrival back at tour origin. Periods are number 1 through 48 where period 1 starts at 3:00 AM. duration Duration of the tour in number of half-hour periods, including all activity episodes and travel destination Tour primary destination MGRA destination_logsum Tour destination choice logsum tour_mode Tour mode mode_choice_logsum Tour mode choice logsum stop_frequency Number of stops on tour by direction. String. xout_yin where x is number of stops in the outbound direction and y is the number of stops in the inbound direction primary_purpose Primary purpose of a tour. String (recreation, dining, work)"},{"location":"inputsandoutputs.html#visitor-model-trip-file-final_tripscsv","title":"Visitor Model trip file ((final_trips.csv)","text":"Field Description trip_id Trip ID person_id Person ID household_id Household ID primary_purpose Purpose at primary destination of tour. String. \u201cdining\u201d, \u201crecreation\u201d, or \u201cwork\u201d trip_num Sequential number of trip on half-tour from 1 to 4 outbound TRUE if outbound, else FALSE trip_count Number of trips in a tour destination Destination MGRA origin Origin MGRA tour_id Tour ID purpose Destination purpose. String. \u201cdining\u201d, \u201crecreation\u201d, or \u201cwork\u201d destination_logsum Destination choice logsum depart Departure time period (1\u202648) trip_mode Trip mode (see trip mode table) trip_mode_choice_logsum Mode choice logsum for trip vot_da will drop vot_s2 will drop vot_s3 will drop parking_cost Parking costs at trip origin and destination, calculated as one-half of the costs at each end, with subsidies considered. tnc_single_wait_time Wait time for single pay TNC tnc_shared_wait_time Wait time for shared\\pooled TNC taxi_wait_time Wait time for taxi cost_parking Cost of parking ($2023) cost_fare_drive Taxi/TNC fare for any trip or trip portion taken on these modes distance_walk Walk mode distance? time_mm Micromobility time distance_mm Micromobility distance cost_fare_mm Micromobility cost ($2023) distance_bike Bike distance time_wait_drive Ridehail/Taxi wait times for a trip trip_period A string indicating the skim period for the trip (\u201cEA\u201d,\u201dAM\u201d,\u201dMD\u201d,\u201dPM\u2019,\u201dEV\u201d) tour_participants Number of tour participants distance_total Trip distance cost_operating_drive Auto operating cost ($2023)? weight_trip Trip weight defined as the ratio of number of particpants on a  trip to the assumed occupancy rate of a mode (SHARED2,3) weight_person_trip Person trip weigth defined as the ratio of the number of particpants on a trip to sample rate of the model run vot Value of time in dollars per hour ($2023) inbound TRUE if trip is in outbound direction, else FALSE time_drive Auto time distance_drive Auto distance cost_toll_drive Auto toll cost ($2023)? time_transit_in_vehicle Transit in-vehicle time time_rapid_transit_in_vehicle Rapid transit in-vehicle time time_express_bus_transit_in_vehicle Express bus in-vehicle time time_local_bus_transit_in_vehicle Local bus in-vehicle time time_light_rail_transit_in_vehicle Light rail transit in-vehicle time time_commuter_rail_transit_in_vehicle Commuter rail in-vehicle time time_transit_initial_wait Transit initial-wait time cost_fare_transit Transit fare ($2023) transfers_transit Number of transfers time_bike Bike time time_walk Walk mode time cost_total total cost of a trip (sum of auto operating, toll, transit fare) time_total Total time (sum of ?) value_of_time_category_id Value of time bin. 1: Low, 2: Medium, 3: High origin_micro_prm_dist Distance from trip origin MGRA to closest premium transit stop by microtransit dest_micro_prm_dist Distance from trip destination MGRA to closest premium transit stop by microtransit microtransit_orig Distance from trip origin MGRA to closest local transit stop by microtransit? microtransit_dest Distance from trip destination MGRA to closest local transit stop by microtransit? microtransit_available TRUE if microtransit is available for trip, else FALSE nev_orig True if Neghoborhood Electric Vehicle is available at origin nev_dest True if Neghoborhood Electric Vehicle is available at destination nev_available TRUE if neighborhood electric vehicle is available, else FALSE microtransit_access_available_out TRUE if microtransit is available from the origin, else FALSE nev_access_available_out TRUE if neighborhood electric vehicle is available from the origin, else FALSE microtransit_egress_available_out Availability of microtransit egress in the outbound direction nev_egress_available_out Availability of NEV egress in the outbound direction microtransit_access_available_in Availability of microtransit access in the inbound direction nev_access_available_in Availability of NEV egress in the inbound direction microtransit_egress_available_in Availability of microtransit egress in the inbound direction nev_egress_available_in Availability of microtransit egress in the outbound direction sample_rate Sample rate otaz Origin TAZ dtaz Destination TAZ"},{"location":"release-notes.html","title":"Release Notes","text":""},{"location":"release-notes.html#version-1501-june-12-2024","title":"Version 15.0.1 (June 12, 2024)","text":"<p>During the initial testing of the 2025 Regional Plan initial concept, some critical model issues were identified and fixed.</p>"},{"location":"release-notes.html#activitysim-version","title":"ActivitySim Version","text":"<p>No changes made to ActivitySim version.</p>"},{"location":"release-notes.html#features","title":"Features","text":"<ul> <li>PR 152: TNC_SHARED was not being properly disabled in 2022 due to misplaced parentheses.</li> <li>PR 148: Fixed TNC_SHARED mode choice to restrict to ride hail tours and help shares on joint tours.</li> <li>Issue 143: Added parameter to discount wait times for rapid bus.</li> </ul>"},{"location":"release-notes.html#bug-fixes","title":"Bug Fixes","text":"<ul> <li>PR 150: Updated EI inputs at interstate cordons to reflect 2022 counts.</li> <li>PR 149: Updated MAZ ID for Otay Mesa East Point of Entry from Series 13 to Series 15.</li> <li>PR 147: Updated MGRA references for external cordons in airport models from Series 13 to Series 15.</li> <li>PR 146: Removed suffix from labels in runtime summary.</li> <li>PR 145: Added parking location placeholder datasets needed to open calibration visualizer.</li> <li>Commit a825ae3: Updated CBX inputs to use number of enplanements.</li> <li>Commit 305cdcf: Updated reporting of airport transit costs to be in dollars instead of cents.</li> <li>Commit 363d05a: Removed addition of \u201cpoverty\u201d field when writing output tables as that had been added to reading of input table.</li> <li>Commit 34e4a1d: Set year after which vehicles must have transponders from 2035 to 2029.</li> <li>Commit dc07cc9: Increased default flexible fleet diversion constants.</li> <li>Commit 726f98a: Updated some future year signal factors and truck toll factors on SR-11.</li> </ul>"},{"location":"release-notes.html#version-1500-may-23-2024","title":"Version 15.0.0 (May 23, 2024)","text":"<p>For use in the 2025 Region Plan (RP), SANDAG has developed a new activity-based travel model, known as ABM3. The biggest change from SANDAG\u2019s previous ABM, ABM2+, is the transition from the Java-based CT-RAMP modeling platform to the open-source Python-based ActivitySim platform that has been developed by a consortium of public agencies (of which SANDAG is a founding member) for the past decade. ABM3 will be the first ActivitySim model to be used in production for planning purposes. While most of the model components from ABM3 were translated from ABM2+, there were several notable enhancements that were made, which are described below. Further, several models were either re-estimated and/or recalibrated to match 2022 data.</p>"},{"location":"release-notes.html#activitysim-version_1","title":"ActivitySim Version","text":"<ul> <li>SANDAG/activitysim v15.0.0: This is based on a fork of the ActivitySim consortium repo and customized code in BayDAG_estimation branch.</li> <li>SANDAG/activitysim-cvm v15.0.0: This specific version of ActivitySim is required to run the new Commercial Vehicle Model (CVM) in ABM3. It is based on a fork of the ActivitySim repo under CamSys and customized code in time-settings branch.</li> </ul>"},{"location":"release-notes.html#features_1","title":"Features","text":"<ul> <li>ABM PR 68: The base year was updated from 2016 to 2022, allowing the behavioral models to reflect changes in travel behavior derived from the onset of the COVID-19 pandemic.</li> <li>ABM PR 65: The zone system was transitioned from a 3-zone system (TAZ, MAZ, TAP) to a 2-zone system (TAZ, MAZ).</li> <li>ABM PR 66: E-bike and E-scooter were added as travel modes.</li> <li>ABM PR 64: A new commercial vehicle model (CVM) was implemented using ActivitySim, that includes firm synthesis, commercial vehicle tours, and TNC services such as food delivery.</li> <li>ABM PR 133: Network editing was changed from the ArcInfo-based TCOVED to TNED, a new network editing system.</li> <li>ABM PR 104: Flexible fleet services were added for full trips along with first-mile access to and last-mile egress from fixed-route transit.</li> <li>ABM PR 9: The airport model has been updated with new access options, including the proposed automated people-mover.</li> <li>ABM PR 53: The cross-border model was updated, including a new wait time model.</li> <li>Asim PR 635: A new disaggregate accessibility calculation step was introduced to improve the precision of accessibilities used by modeling components.</li> <li>ABM PR 82: Transit assignment for different time periods is now run in parallel.</li> <li>ABM Configs: The auto ownership model has been moved before work and school location.</li> <li>Asim PR 613: The shadow pricing algorithm was updated to constrain mandatory tour locations to availability instead of traditional shadow pricing.</li> <li>ABM PR 86: Model results are automatically written to a database stored in the cloud via Microsoft Azure Services.</li> </ul>"},{"location":"release-notes.html#new-resident-model-components","title":"New Resident Model Components","text":"<ul> <li>Autonomous Vehicle Ownership</li> <li>External Worker Identification</li> <li>External Workplace Location</li> <li>Transit Pass Subsidy</li> <li>Transit Pass Ownership</li> <li>Vehicle Type Choice</li> <li>Telecommute Frequency</li> <li>External Joint Tour Identification</li> <li>External Joint Tour Location</li> <li>External Nonmandatory Tour Identification</li> <li>External Nonmandatory Tour Destination</li> <li>Vehicle Allocation</li> </ul>"},{"location":"running.html","title":"Installing and Running ABM3","text":"<p>This page describes how to install and run ABM3, including hardware and software requirements. In general, a powerful server is required to run the model. The main software required for the model includes EMME, Python, and Java. EMME is a commercial transportation modeling platform that must be purchased separately and requires a computer with a Windows operating system. Python is an open-source cross-platform programming language that is currently one of the most popular programming languages. Python is the core language of ActivitySim. Java is an open-source programming language required for certain model components. </p>"},{"location":"running.html#system-requirements","title":"System Requirements","text":"<p>ABM3 runs on a Microsoft Windows workstation or server, with the minimum and recommended system specification as follows:</p> <p>Minimum specification:</p> <ul> <li>Operating System: 64-bit Windows 7, 64-bit Windows 8 (8.1), 64-bit Windows 10, 64-bit Windows Server 2019</li> <li>Processor: 24-core CPU processor</li> <li>Memory: 1 TB RAM</li> <li>Disk space: 600 GB</li> </ul> <p>Recommended specification:</p> <ul> <li>Operating System: 64-bit Windows 10</li> <li>Processor: Intel CPU Xeon Gold / AMD CPU Threadripper Pro (24+ cores)</li> <li>Memory: 1 TB RAM</li> <li>Disk space: 1200 GB</li> </ul> <p>In general, a higher CPU core count and RAM will result in faster run times as long as ActivitySim is configured to utilize the additional processors and RAM. Note that the model is unlikely to run on servers that have less than 1 TB of RAM.</p>"},{"location":"running.html#software-requirements","title":"Software Requirements","text":"<p>Three software applications, EMME, Python package manager Anaconda, and Java should be installed on the computer that will be used to run the model. The ABM3 model system is an integrated model that is controlled by and primarily runs in the EMME transportation planning software platform. EMME is used for network assignment and creating transportation skims, and the model\u2019s Graphical User Interface (GUI). The software also provides functionality for viewing and editing highway and transit network files and viewing of matrix files. The Bentley Connect Edition software (the license manager for EMME) will need to be logged in and activated prior to running the model. </p> <p>A Python package manager is software that creates an environment for an instance of Python. ActivitySim and related Python processes in the model are executed in an environment that is setup with a specific version of Python and specific library versions. This ensures that changes outside of the Python environment will not cause errors or change model results, and additionally ensure that the specific version of Python and specific libraries needed by the model do not cause errors or changes to other Python software installations on the server. The libraries needed by ActivitySim extend the base functionality of Python. Note that Anaconda requires a paid subscription for agencies larger than 200 users. To install Anaconda, follow the instructions here. </p> <p>Java is required in order to create bicycle logsums, run the taxi/TNC routing model, and run the intra-household autonomous vehicle routing model. The model has been tested against Java version 8 (e.g. 1.8) but should run in later versions as well. </p>"},{"location":"running.html#installing-abm3-model","title":"Installing ABM3 Model","text":"<p>As noted above, Anaconda will need to be installed. Once one of those two package managers is installed, a specific computer environment must be created to run ActivitySim. The environment is a configuration of Python that is for ActivitySim - this environment allows ActivitySim to use specific software libraries without interfering with the server\u2019s installed version of Python (if one exists, it is not required) and keeps other Python installations from interfering with ActivitySim. To create the environment, use the following commands from within the Anaconda PowerShell Prompt. </p> <p>First, change directories using cd /d to the model\u2019s ActivitySim config folder, which is /source/configs/activitysim (e.g., cd /d e:\\ABM3\\source\\configs\\activitysim) prior to running the command below.</p> <p>conda env create \u2013file environment.yml </p> <p>After installing the environment, do a quick test of it by activating it, using:</p> <p>conda activate asim_baydag</p>"},{"location":"running.html#the-abm3-gui","title":"The ABM3 GUI","text":"<p>//TODO</p> <p>Show the GUI and describe the options</p>"},{"location":"running.html#setting-up-your-machine-to-run-abm3","title":"Setting up your machine to run ABM3","text":"<ol> <li> <p>Add the following to System Properties &gt; Environment Variables</p> <ul> <li>Under System Variables<ul> <li>CONDA_PREFIX={path to Anaconda3}<ul> <li>e.g., CONDA_PREFIX=C:\\Anaconda3</li> </ul> </li> <li>CONDA_PREFIX_TWO={path to Anaconda2}<ul> <li>e.g., CONDA_TWO_PREFIX=C:\\ProgramData\\Anaconda2</li> </ul> </li> <li>Add the following to Path<ul> <li>{path to Anaconda2}</li> <li>{path to Anaconda2}\\Scripts</li> <li>{path to Anaconda2}\\Library\\bin\\</li> </ul> </li> </ul> </li> </ul> </li> <li> <p>Create a directory called python_virtualenv on your machine\u2019s C Drive and copy in the following files:</p> <ul> <li>add_python_virtualenv.bat</li> <li>requirements.txt</li> </ul> </li> <li> <p>Open up the Emme Shell as Administrator and launch add_python_virtualenv.bat</p> <ul> <li>If you have a Power User account, you can input the following code into the Emme Shell to run as both Administrator and as a Power User:     <code>runas /netonly /user:YourUser cmd.exe</code></li> <li>Ensure all relevant libraries were created under e.g., C:\\python_virtualenv\\abm14_2_0\\Lib\\site-packages</li> </ul> </li> <li> <p>Under e.g, C:\\Program Files\\INRO\\Emme\\Emme 4\\Emme-4.3.7\\Python27\\Lib\\site-packages copy in python_virtualenv.pth</p> </li> </ol>"}]}
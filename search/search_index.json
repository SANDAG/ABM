{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"index.html","title":"SANDAG ABM3","text":"<p>Welcome to the SANDAG Activity-Based Travel Model documentation site!</p>"},{"location":"index.html#introduction","title":"Introduction","text":"<p>This website describes the travel demand modeling system developed by the San Diego Association of Governments (SANDAG). SANDAG plans for many complex mobility issues facing the San Diego region, including development of the Regional Plan. Transportation models are complex analysis tools used to provide transportation planners and policymakers with information to help allocate scarce resources fairly and equitably. As we plan for the future, models are used to forecast potential future scenarios of where people will live and how they will travel. They are the principal tool used for alternatives analysis.  </p> <p>The SANDAG transportation model is an activity-based model (ABM). It simulates individual and household transportation decisions that make up their daily travel. This includes all trips people make on a daily basis, such as to work, school, shopping, healthcare, and recreation. An ABM provides a controlled, analytical platform so that different inputs and alternatives can be evaluated to predict whether, when, and how this travel occurs. SANDAG ABM accounts for a variety of different weekday travel markets in the region, including San Diego region resident travel, travel by Mexico residents and other travelers crossing San Diego County\u2019s borders, visitor travel, airport passengers at both the San Diego International Airport and the Cross Border Xpress bridge to the Tijuana International Airport, and commercial travel. </p> <p>The most recent version of the SANDAG ABM is referred to as \u201cABM3\u201d, and was developed for use in the 2025 Regional Plan. ABM3 is a significant enhancement from ABM2+ which was used for the 2021 Regional Plan. All of the passenger demand models in ABM2+ were converted from CT-RAMP to ActivitySim, including resident travel, cross-border travel, visitor travel, and airport travel. The internal-external travel component is now fully integrated with the resident model. The model was also enhanced to improve the representation of household and person-based mobility, vehicle fleet ownership, transit, shared and private micro-mobility, and micro-transit. Many of the model components were re-estimated using household survey data collected in 2022, and all model components were re-calibrated to base-year 2023 conditions. A new disaggregate commercial vehicle model was developed based upon a 2020 commercial vehicle survey, and implemented in ActivitySim.</p> <p>This website includes a description of the model system, how to set up and run the models, and a description of model inputs and outputs. Some aspects of the site are a work-in-progress, so we recommend that you check in often, and share your thoughts on ways to improve the site with SANDAG Transportation Modeling staff. Thank you!</p>"},{"location":"faq.html","title":"FAQs","text":""},{"location":"faq.html#how-many-abm-versions-does-sandag-maintain","title":"How many ABM versions does SANDAG maintain?","text":"<p>There are four released ABM versions - ABM1, ABM2, ABM2+, and ABM3.</p>"},{"location":"faq.html#who-uses-the-sandag-abm-and-what-for","title":"Who uses the SANDAG ABM and what for?","text":"<p>The SANDAG ABM is used by SANDAG and many other public and private entities in the San Diego region. These entities include the City of San Diego and other local jurisdictions, Caltrans District 11, San Diego Metropolitan Transit System, North County Transit District, and private developers. Typical ABM applications include analysis for regional planning, air quality conformity, corridor studies, and land use development impact studies.</p>"},{"location":"faq.html#what-model-components-does-the-sandag-abm-have","title":"What model components does the SANDAG ABM have?","text":"<p>The SANDAG ABM is a suite of models covering various travel demand markets in the San Diego region. The microsimulation model components include a San Diego resident model, a commercial vehicle model, a Mexican resident crossborder model, a visitor model, a San Diego International Airport ground access model, a Cross-Border Express model serving Tijuana International Airport, and a special event model. The aggregate model components include an external heavy truck model and external trip models.</p>"},{"location":"faq.html#what-is-the-base-year-of-the-sandag-abm","title":"What is the base year of the SANDAG ABM?","text":"<p>ABM2 has a base year of 2022. ABM1 base year was 2012 and both ABM2 and ABM2+ have a base year of 2016.</p>"},{"location":"inputs.html","title":"ABM3 Model Inputs","text":"<p>The main inputs to ABM3 include the transportation network, land-use data, synthetic population data, parameters files, and model specifications. Outputs include a set of files that describe travel decisions made by all travel markets considered by the model (residents, overnight visitors, airport ground access trips, commercial vehicles and trucks, Mexico residents traveling in San Diego County, and travel made by all other non-residents into and through San Diego County).</p>"},{"location":"inputs.html#file-types","title":"File Types","text":"<p>There are several file types used for model inputs and outputs. They are denoted by their extension, as listed in the table below.</p> Extension Format .log, .txt Text files created during a model run containing logging results. .yaml Text files used for setting properties that control ActivitySim or some other process. .csv Comma-separated value files used to store model parameters, input or output data. .omx Open matrix format files used to store input or output trip tables or skims .h5 HDF5 files, used to store pipeline for restarting ActivitySim .shp (along with other files - .cpg, .dbf, .prj, .shx) ArcGIS shapefiles and associated files .html Hypertext markup language files, open in web browser .png Portable network graphics file, open in web browser, Microsoft photos, or third-party graphics editor"},{"location":"inputs.html#model-inputs","title":"Model Inputs","text":"<p>The table below contains brief descriptions of the input files required to execute the SANDAG ABM3.</p> File Name Purpose File Type Prepared By Land Use mgra_based_input{SCENARIO_YEAR}.csv Land use forecast of the size and structure of the region\u2019s economy and corresponding demographic forecast CSV Land Use Modelers, Transportation Modelers, and GIS Synthetic Population households.csv Synthetic households CSV Transportation Modelers persons.csv Synthetic persons CSV Transportation Modelers Network EmmeOutputs.gdb Network Input Files GDB Transportation Modelers transit_connectors Input Files vehicle_class_toll_factors.csv Relative toll values by six vehicle classes by Facility name. Used to identify \u201cfree for HOV\u201d type managed lane facilities. CSV Transportation Modelers trlink.csv Transit route with a list of links file CSV Transportation Modelers trrt.csv Transit route attribute file CSV Transportation Modelers trstop.csv Transit stop attribute file TCSV Transportation Modelers mode5tod.csv Transit mode parameters table CSV Transportation Modelers timexfer_XX.csv Transit timed transfers table between COASTER and feeder buses; XX is the TOD (EA, AM, MD, PM, and EV) CSV Transportation Modelers special_fares.txt Fares to coaster Text File Transportation Modelers mobilityHubMGRA.csv CSV Transportation Modelers SANDAG_Bike_Net.dbf Bike network links DBF GIS SANDAG_Bike_Node.dbf Bike network nodes DBF GIS bikeTazLogsum.csv (not saved in inputs, instead, run at the beginning of a model run) Bike TAZ logsum CSV Transportation Modelers bikeMgraLogsum.csv (not saved in inputs, instead, run at the beginning of a model run) Bike MGRA logsum CSV Transportation Modelers mgra15.shp SHP taz15.shp SHP Cross-Border Model (Derived from cross-border survey) crossBorder_tourPurpose_control.csv CSV crossBorder_tourPurpose_nonSENTRI.csv Cross Border Model tour purpose distribution for Non-SENTRI tours CSV Transportation Modelers crossBorder_tourPurpose_SENTRI.csv Cross Border Model tour purpose distribution for SENTRI tours CSV Transportation Modelers crossBorder_tourEntryAndReturn.csv Cross Border Model tour entry and return time-of-day distribution CSV Transportation Modelers crossBorder_supercolonia.csv Cross Border Model distance from Colonias to border crossing locations CSV Transportation Modelers crossBorder_pointOfEntryWaitTime.csv Cross Border Model wait times at border crossing locations table CSV GIS - Pat L vtsql crossBorder_stopFrequency.csv Cross Border Model stop frequency data CSV Transportation Modelers crossBorder_stopPurpose.csv Cross Border Model stop purpose distribution CSV Transportation Modelers crossBorder_outboundStopDuration.csv Cross Border Model time-of-day offsets for outbound stops CSV Transportation Modelers crossBorder_inboundStopDuration.csv Cross Border Model time-of-day offsets for inbound stops CSV Transportation Modelers closest_maz_to_external_tazs.csv CSV Transportation Modelers mazs_xborder.csv CSV Transportation Modelers External Models (Derived from SCAG survey) externalExternalTripsByYear.csv  (raw inputs have these by year)  External origin-destination station trip matrix CSV Transportation Modelers externalInternalControlTotalsByYear.csv  (raw inputs have these by year)  External Internal station control totals read by GISDK CSV Transportation Modelers internalExternal_tourTOD.csv Internal-External Model tour time-of-day frequency distribution CSV Transportation Modelers resident_ie_size_term.csv CSV Transportation Modelers Commercial Vehicle Model land_use(output from preprocessing step) MGRA based land use file CSV percent_of_establishments_by_luz_size_emp_cat.xlsx Percent of establishments in LUZ that belong in each size category by industry sector Excel Workbook CVM\\SynthEstablishments.csv Output from CVM establishment synthesis, similar description as previous part CSV CVM\\MGRAEmpByEstSize.csv MGRA Based synthetically generated establishments. Used for disgnostic purposes, not for simulation CSV CVM\\SummaryEstablishments.csv Contains information about synthetically generated establishments to be used as inputs to the commercial vehicle model CSV Heavy Truck Model ( HTM ) HTM\\inputs_sandag_htm_.xlsx Contains all the required inputs ( in different sheets) for the Heavy Truck Model Excel Workbook HTM\\FAF5_BaseAndFutureYears_Oct27_2023.csv FAF5 Data (filtered) containing FAF flows for required years CSV Other parametersByYears.csv Parameters by scenario years. Includes AOC, aiport enplanements, cross-border tours, cross-border sentri share. CSV Transportation Modelers filesByYears.csv File names by scenario years. CSV Transportation Modelers trip_XX.omx Warm start trip table; XX is the TOD (EA, AM, MD, PM, and EV) OMX Transportation Modelers zone_term.csv TAZ terminal times Space Delimited Text File Transportation Modelers all_vol_dfs.csv [to be updated] all_wait_times.csv [to be updated] specialEvents_() [to be updated]"},{"location":"inputs.html#land-use","title":"Land Use","text":""},{"location":"inputs.html#mgra_based_input_scenario_yearcsv","title":"MGRA_BASED_INPUT_SCENARIO_YEAR.CSV","text":"Column name Description mgra MGRANumber taz TAZ Number luz_id pop total population hhp total household population (exclude gq pop) hs housing structures hs_sf single family structures hs_mf multi family structures hs_mh mobile homes hh total number of households hh_sf number of households - single family hh_mf number of households - multi family hh_mh number of mobile homes hhs household size gq_civ GQ civilian gq_mil GQ military i1 Number of households with income less than \\(15,000 (\\)2010) i2 Number of households with income \\(15,000-\\)29,999 ($2010) i3 Number of households with income \\(30,000-\\)44,999 ($2010) i4 Number of households with income \\(45,000-\\)59,999 ($2010) i5 Number of households with income \\(60,000-\\)74,999 ($2010) i6 Number of households with income \\(75,000-\\)99,999 ($2010) i7 Number of households with income \\(100,000-\\)124,999 ($2010) i8 Number of households with income \\(125,000-\\)149,999 ($2010) i9 Number of households with income \\(150,000-\\)199,999 ($2010) i10 Number of households with income \\(200,000 or more (\\)2010) emp_gov Government employment emp_mil military employment emp_ag_min Agriculture and mining employment emp_bus_svcs Professional and Business Services employment emp_fin_res_mgm Financial and resource management employment emp_educ Education services employment emp_hlth Health services employment emp_ret Retail services employment emp_trn_wrh Transportation and Warehousing employment emp_con Construction employment emp_utl Utilities office support employment emp_mnf Manufacturing employment emp_whl Wholesale employment emp_ent Entertainment services employment emp_accm Hotel and accomodation services emp_food Food services employment emp_oth Other employment emp_non_ws_wfh Non-wage and salary work from home employments emp_non_ws_oth Non-wage and salary other employments emp_total Total employment pseudomsa Pseudo MSA1: Downtown2: Central3: North City4: South Suburban5: East Suburban6: North County West7: North County East8: East County zip09 2009 Zip Code enrollgradekto8 Grade School K-8 enrollment enrollgrade9to12 Grade School 9-12 enrollment collegeenroll Major College enrollment othercollegeenroll Other College enrollment hotelroomtotal Total number of hotel rooms parkactive Acres of Active Park openspaceparkpreserve Acres of Open Park or Preserve beachactive Acres of Active Beach district27 Special layer reg employer shuttle service around Sorrento Valley milestocoast Distance (miles) to the nearest coast acres Total acres in the mgra (used in CTM) land_acres Acres of land in the mgra (used in CTM) effective_acres Effective acres in the mgra (used in CTM) exp_hourly Expected hourly prking cost exp_daily Expected daily prking cost exp_monthly Expected monthly prking cost parking_type 1: parking constrained area: has cluster_id and district_id 2: buffer around parking constrained area which is used to include free spaces to average into parking cost calculation: has district_id but no cluster_id 3: no parking cost: Has neither cluster_id nor district_id parking_spaces MGRA estimated parking spaces ech_dist Elementary school district hch_dist High school district remoteAVParking Remote AV parking available at MGRA: 0 = Not available, 1 = Available refueling_stations Number of refueling stations at MGRA MicroAccessTime Micro-mobility access time (mins) microtransit microtransit access time (mins) nev Neighborhood Electric Vehicle access time (mins) totint Total intersections duden Dwelling unit density empden Employment density popden Population density retempden Retail employment density totintbin Total intersection bin empdenbin Employment density bin dudenbin Dwelling unit density bin PopEmpDenPerMi Population and employment density per mile"},{"location":"inputs.html#synthetic-population","title":"Synthetic Population","text":""},{"location":"inputs.html#population-synthesizer-household-data","title":"Population Synthesizer Household Data","text":""},{"location":"inputs.html#householdscsv","title":"<code>HOUSEHOLDS.CSV</code>","text":"Column Name Description hhid Unique Household ID household_serial_no Household serial number taz TAZ of household mgra MGRA of household hinccat1 Household income category:1 = &lt;$30k2 = $30-60k3 = $60-100k4 = $100-150k5 = $150k+ hinc Household income num_workers Number of workers in household veh Number of vehicles in household persons Number of persons in household hht Household/family type:0 = Not in universe (vacant or GQ)1 = Family household: married-couple2 = Family household: male householder, no wife present3 = Family household: female householder, no husband present4 = Nonfamily household: male householder, living alone5 = Nonfamily household: male householder, not living alone6 = Nonfamily household: female householder, living alone7 = Nonfamily household: female householder, not living alone bldgsz Building size - Number of Units in Structure &amp; Quality:1 = Mobile home or trailer2 = One-family house detached3 = One-family house attached8 = 20-49 Apartments9 = 50 or more apartments unittype Household unit type:0 = Non-GQ Household1 = GQ Household version Synthetic population run version. Presently set to 0. poverty Poverty indicator utilized for social equity reports. Percentage value where value &lt;= 2 (200% of the Federal Poverty Level) indicates household is classified under poverty."},{"location":"inputs.html#population-synthesizer-person-data","title":"Population Synthesizer Person Data","text":""},{"location":"inputs.html#personscsv","title":"<code>PERSONS.CSV</code>","text":"Column Name Description hhid Household ID perid Person ID Household_serial_no Household serial number pnum Person Number age Age of person sex Gender of person1 = Male2 = Female miltary Military status of person:0 = N/A Less than 17 Years Old1 = Yes, Now on Active Duty pemploy Employment status of person:1 = Employed Full-Time2 = Employed Part-Time3 = Unemployed or Not in Labor Force4 = Less than 16 Years Old pstudent Student status of person:1 = Pre K-122 = College Undergrad+Grad and Prof. School3 = Not Attending School ptype Person type:1 = Full-time Worker2 = Part-time Worker3 = College Student4 = Non-working Adult5 = Non-working Senior6 = Driving Age Student7 = Non-driving Student8 = Pre-school educ Educational attainment:1 = No schooling completed9 = High school graduate13 = Bachelor\u2019s degree grade School grade of person:0 = N/A (not attending school)2 = K to grade 85 = Grade 9 to grade 126 = College undergraduate occen5 Occupation:0 = Not in universe (Under 16 years or LAST-WRK = 2)1..997 = Legal census occupation code occsoc5 Detailed occupation codes defined by the Bureau of Labor Statistics indcen Industry code.0 = default9970 = NAICS2 is MIL weeks Weeks worked during past 12 months0 .N/A (less than 16 years old/did not work during the past 12 .months)1 .50 to 52 weeks worked during past 12 months2 .48 to 49 weeks worked during past 12 months3 .40 to 47 weeks worked during past 12 months4 .27 to 39 weeks worked during past 12 month5 .14 to 26 weeks worked during past 12 months6 .13 weeks or less worked during past 12 months hours Hours worked per week past 12 months0 .N/A (less than 16 years old/did not work during the past .12 months)1..98 .1 to 98 usual hours99 .99 or more usual hours rac1p Race:1 = White alone2 = Black or African American alone3 = American Indian alone4 = Alaska Native alone5 = American Indian and Alaska Native tribes specified; or .American Indian or Alaska Native, not specified and no other .races6 = Asian alone7 = Native Hawaiian and Other Pacific Islander alone8 = Some Other Race alone9 =Two or More Races hisp Hispanic origin:1 = Not Hispanic2 = Hispanic version Synthetic population run version. Presently set to 0. naics2_original_code 2 digit North American Industry Classification System (NAICS) soc2 2 digit Standard Occupational Classification"},{"location":"inputs.html#network","title":"Network","text":""},{"location":"inputs.html#highway-network-vehicle-class-toll-factors-file","title":"Highway Network Vehicle Class Toll Factors File","text":""},{"location":"inputs.html#vehicle_class_toll_factorscsv","title":"<code>vehicle_class_toll_factors.csv</code>","text":"<p>Required file. Used to specify the relative toll values by six vehicle classes by Facility name, scenario year and time of day. Can be used, for example, to identify \u201cfree for HOV\u201d type managed lane facilties. Used by the Import network Modeller tool.</p> <p>Example:</p> Facility_name Year Time_of_Day DA_Factor S2_Factor S3_Factor TRK_L_Factor TRK_M_Factor TRK_H_Factor I-15 2016 EA 1.0 0.0 0.0 1.0 1.03 2.33 SR-125 2016 ALL 1.0 1.0 1.0 1.0 1.03 2.33 I-5 2035 ALL 1.0 1.0 0.0 1.0 1.03 2.33 <p>The network links are matched to a record in this file based on the NM, FXNM or TXNM values (in that order). A simple substring matching is used, so the record with Facility_name \u201cI-15\u201d matches any link with name \u201cI-15 SB\u201d, \u201cI-15 NB\u201d, \u201cI-15/DEL LAGO DAR NB\u201d etc. The records should not be overlapping: if there are two records which match a given link it will be an arbitrary choice as to which one is used.</p> <p>Note that if a link does not match to a record in this file, the default factors (specified in the table below) will be applied to said link. It is OK if there are records for which there are no link tolls.</p> Column Name Description Facility_name Name of the facility, used in the substring matching with links by NM, FXNM or TXNM fields Year Scenario year Time_of_Day              Time of day period:             EA = Early morning (3am - 5:59am)             AM = AM peak (6am to 8:59am)             MD = Mid-day (9am to 3:29pm)             PM = PM peak (3:30pm to 6:59pm)             EV = Evening (7pm to 2:59am)             ALL = All time of day periods          DA_Factor Positive toll factor for Drive Alone (SOV) vehicle classes. The default value is 1.0 S2_Factor Positive toll factor for Shared 2 person (HOV2) vehicle classes. The default value is 1.0 S3_Factor Positive toll factor for Shared 3+ person (HOV3) vehicle classes. The default value is 1.0 TRK_L_Factor Positive toll factor for Light Truck (TRKL) vehicle classes. The default value is 1.0 TRK_M_Factor Positive toll factor for Medium Truck (TRKM) vehicle classes. The default value is 1.03 TRK_H_Factor Positive toll factor for Heavy Truck (TRKH) vehicle classes. The default value is 2.03"},{"location":"inputs.html#special_farestxt","title":"<code>special_fares.txt</code>","text":"<pre><code>boarding_cost:\n   base: \n       - {line: \"398104\", cost: 3.63}\n       - {line: \"398204\", cost: 3.63}\n   stop_increment:\n       - {line: \"398104\", stop: \"SORRENTO VALLEY\", cost: 0.46}\n       - {line: \"398204\", stop: \"SORRENTO VALLEY\", cost: 0.46}\nin_vehicle_cost: \n   - {line: \"398104\", from: \"SOLANA BEACH\", cost: 0.45}\n   - {line: \"398104\", from: \"SORRENTO VALLEY\", cost: 0.45}\n   - {line: \"398204\", from: \"OLD TOWN\",  cost: 0.45}\n   - {line: \"398204\", from: \"SORRENTO VALLEY\", cost: 0.45}\nday_pass: 4.54\nregional_pass: 10.90\n</code></pre>"},{"location":"inputs.html#mgras-at-mobility-hubs","title":"MGRAs at Mobility Hubs","text":""},{"location":"inputs.html#mobilityhubmgracsv","title":"<code>MOBILITYHUBMGRA.CSV</code>","text":"Column Name Decription MGRA MGRA ID MoHubName Mobility Hub name MoHubType              Mobility Hub type:             Suburban             Coastal             Gateway             Major Employment Center             Urban"},{"location":"inputs.html#transit-binary-stop-table","title":"Transit Binary Stop Table","text":""},{"location":"inputs.html#trstopcsv","title":"<code>TRSTOP.CSV</code>","text":"Column Name Description Stop_id Unique stop ID Route_id Sequential route number Link_id Link id associated with route Pass_count Number of times the route passes this stop. Most of value is one, some value is 2 Milepost Stop mile post Longitude Stop Longitude Latitude Stop Latitude NearNode Node number that stop is nearest to FareZone Zones defined in Fare System StopName Name of Stop MODE_NAME              Line haul mode name:             Transfer             Center City Walk             Walk Access             Commuter Rail             Light Rail             Regional BRT (Yellow)             Regional BRT (Red)             Limited Express             Express             Local          MODE_ID              Mode ID             1 = Transfer             2 = Center City Walk             3 = Walk Access             4 = Commuter Rail             5 = Light Rail             6 = Regional BRT (Yellow)             7 = Regional BRT (Red)             8 = Limited Express             9 = Express             10 = Local          PREMODE              Premium Transit mode             0 = No             1 = Yes          EXPBSMODE              Express bus mode             0 = No             1 = Yes          LOCMODE              Local bus mode             0 = No             1 = Yes          OP_TRNTIME              Off peak transcad matrix used by mode:             *oploctime             *oppretime          AM_TRNTIME              AM peak transcad matrix used by mode:             *amloctime             *ampretime          PM_TRNTIME              PM peak transcad matrix used by mode:             *pmloctime             *pmpretime          MODE_ACCES Mode of access (1) MODE_EGRES Mode of egress (1) WT_IVTPK Weight for peak in-vehicle time: 1, 1.5, or 1.8 WT_FWTPK Weight for peak first wait time: 1, 1.5 WT_XWTPK Weight for peak transfer wait time: 1, 3 WT_FAREPK Weight for peak fare: 0.46, 0.60, 0.63, 0.67, 1 WT_IVTOP Weight for off-peak in-vehicle time: 1, 1.5, or 1.6 WT_FWTOP Weight for off-peak first wait time: 1, 1.5 WT_XWTOP Weight for off-peak transfer wait time: 1, 3 WT_FAREOP Weight for off-peak fare: 0.23, 0.51, 0.52, 0.54, 0.58, 1 FARE Transit fare: $0, $1.25, $1.50, $2.50, $3.00, $3.50 DWELLTIME Dwell time: 0, 0.3, 0.5 FARETYPE              Fare Type:             1 = Bus             2 = Rail          FAREFIELD              Fare Field:             coaster fare             lightrail fare          CRMODE Boolean if Commuter rail available LRMODE Boolean if light rail available XFERPENTM Transfer Penalty time: 5 minutes WTXFERTM Transfer Wait time: 1 minute TRNTIME_EA Early AM transit time impedance TRNTIME_AM AM transit time impedance TRNTIME_MD Midday transit time impedance TRNTIME_PM PM transit time impedance TRNTIME_EV Evening transit time impedance"},{"location":"inputs.html#transit-timed-transfers-between-coaster-and-feeder-buses","title":"Transit Timed Transfers Between COASTER and Feeder Buses","text":""},{"location":"inputs.html#timexfer_xxcsv","title":"<code>TIMEXFER_XX.CSV</code>","text":"Column Name Description FROM_LINE From Route Number TO_LINE To Route Number WAIT_TIME Wait time in minutes"},{"location":"inputs.html#transit-stop-table","title":"Transit Stop Table","text":""},{"location":"inputs.html#trstopcsv_1","title":"<code>TRSTOP.CSV</code>","text":"Column Name Description Stop_id Unique stop ID Route_id Sequential route number Link_id Link id associated with route Pass_count Number of times the route passes this stop. Most of value is one, some value is 2 Milepost Stop mile post Longitude Stop Longitude Latitude Stop Latitude NearNode Node number that stop is nearest to FareZone Zones defined in Fare System StopName Name of Stop MODE_NAME Line haul mode name:TransferCenter City WalkWalk AccessCommuter RailLight RailRegional BRT (Yellow)Regional BRT (Red)Limited ExpressExpressLocal MODE_ID Mode ID1 = Transfer2 = Center City Walk3 = Walk Access4 = Commuter Rail5 = Light Rail6 = Regional BRT (Yellow)7 = Regional BRT (Red)8 = Limited Express9 = Express10 = Local PREMODE Premium Transit mode0 = No1 = Yes EXPBSMODE Express bus mode0 = No1 = Yes LOCMODE Local bus mode0 = No1 = Yes OP_TRNTIME Off peak transcad matrix used by mode:oploctimeoppretime AM_TRNTIME AM peak transcad matrix used by mode:amloctimeampretime PM_TRNTIME PM peak transcad matrix used by mode:pmloctimepmpretime MODE_ACCES Mode of access (1) MODE_EGRES Mode of egress (1) WT_IVTPK Weight for peak in-vehicle time: 1, 1.5, or 1.8 WT_FWTPK Weight for peak first wait time: 1, 1.5 WT_XWTPK Weight for peak transfer wait time: 1, 3 WT_FAREPK Weight for peak fare: 0.46, 0.60, 0.63, 0.67, 1 WT_IVTOP Weight for off-peak in-vehicle time: 1, 1.5, or 1.6 WT_FWTOP Weight for off-peak first wait time: 1, 1.5 WT_XWTOP Weight for off-peak transfer wait time: 1, 3 WT_FAREOP Weight for off-peak fare: 0.23, 0.51, 0.52, 0.54, 0.58, 1 FARE Transit fare: $0, $1.25, $1.50, $2.50, $3.00, $3.50 DWELLTIME Dwell time: 0, 0.3, 0.5 FARETYPE Fare Type:1 = Bus2 = Rail FAREFIELD Fare Field:coaster farelightrail fare CRMODE Boolean if Commuter rail available LRMODE Boolean if light rail available XFERPENTM Transfer Penalty time: 5 minutes WTXFERTM Transfer Wait time: 1 minute TRNTIME_EA Early AM transit time impedance TRNTIME_AM AM transit time impedance TRNTIME_MD Midday transit time impedance TRNTIME_PM PM transit time impedance TRNTIME_EV Evening transit time impedance"},{"location":"inputs.html#transit-link-file","title":"Transit Link File","text":""},{"location":"inputs.html#trlinkcsv","title":"<code>TRLINK.CSV</code>","text":"Column Name Description Route_id: Sequential route number Link_id Link id associated with route Direction + or -"},{"location":"inputs.html#bike-network-link-field-list","title":"Bike Network Link Field List","text":""},{"location":"inputs.html#sandag_bike_netdbf","title":"<code>SANDAG_BIKE_NET.DBF</code>","text":"Column Name Description ROADSEGID Road Segment ID RD20FULL Road/Street Name A Foreign key of first node B Foreign key of second node A_LEVEL Level of first node B_LEVEL Level of second node Distance Arc length of link (ft) AB_Gain Cumulative non-negative increase in elevation from A to B nodes (ft) BA_Gain Cumulative non-negative increase in elevation from B to A nodes (ft) ABBikeClas Type of Bike Classification in AB direction where:1 = Multi-Use Path2 = Bike Lane3 = Bike Route BABikeClas Type of Bike Classification in BA direction where:1 = Multi-Use Path2 = Bike Lane3 = Bike Route AB_Lanes Number of Lanes in AB direction BA_Lanes Number of Lanes in BA direction Func_Class Type of Road Functional Class where:1 = Freeway to Freeway Ramp2 = Light (2-lane) Collector Street3 = Rural Collector Road4 = Major Road/4-lane Major Road5 = Rural Light Collector/Local Road6 = Prime Arterial7 = Private Street8 = Recreational Parkway9 = Rural Mountain RoadA = AlleyB = Class I Bicycle PathC = Collector/4-lane Collector StreetD = Two-lane Major StreetE = ExpresswayF = FreewayL = Local Street/Cul-de-sacM = Military Street within BaseP = Paper StreetQ = UndocumentedR = Freeway/Expressway On/Off RampS = Six-lane Major StreetT = TransitwayU = Unpaved RoadW = Pedestrian Way/Bikeway Bike2Sep Separated Bike Lane Flag where:0 = No1 = Yes Bike3Blvd Bike Boulevard Lane Flag where:0 = No1 = Yes SPEED Road Speed A_Elev A Node Elevation B_Elev B Node Elevation ProjectID Project ID in the regional bike network Year Year built/opened to the public Scenicldx Scenic index represents the closeness to the ocean and parks Path Null Shape_Leng length of the link (ft)"},{"location":"inputs.html#bike-network-node-field-list","title":"Bike Network Node Field List","text":""},{"location":"inputs.html#sandag_bike_nodedbf","title":"<code>SANDAG_BIKE_NODE.DBF</code>","text":"Column Name Description NodeLev_ID Node Unique Identifier MGRA MGRA ID for Centroids TAZ TAZ ID for Centroids TAP TAP ID XCOORD X Coordinate of Node in NAD 1983 State Plane California Region VI FIPS: 0406 (ft) YCOORD Y Coordinate of Node in NAD 1983 State Plane California Region VI FIPS: 0406(ft) ZCOORD Elevation (ft) Signal              Traffic Signal Presence where:             0 = Absence             1 = Presence"},{"location":"inputs.html#bike-taz-logsum","title":"Bike TAZ Logsum","text":""},{"location":"inputs.html#biketazlogsumcsv","title":"<code>BIKETAZLOGSUM.CSV</code>","text":"Column Name Description i Origin TAZ j Destination TAZ Logsum Logsum - a measure of the closeness of the origin and the destination of the trip time Time (In minutes)"},{"location":"inputs.html#bike-mgra-logsum","title":"Bike MGRA Logsum","text":""},{"location":"inputs.html#bikemgralogsumcsv","title":"<code>BIKEMGRALOGSUM.CSV</code>","text":"Column Name Description i Origin of MGRA j Destination of MGRA Logsum Logsum - a measure of the closeness of the origin and the destination of the trip time Time (in minutes)"},{"location":"inputs.html#airport","title":"Airport","text":""},{"location":"inputs.html#airport-number-of-nights-by-purpose-distribution","title":"Airport Number of Nights by Purpose Distribution","text":""},{"location":"inputs.html#airport_nightssancsv-and-airport_nightscbxcsv","title":"<code>AIRPORT_NIGHTS.SAN.CSV AND AIRPORT_NIGHTS.CBX.CSV</code>","text":"Column Name Description Nights Number of Nights stayed (0 through 14+) purp1_perc Distribution for Resident Personal purpose purp2_perc Distribution for Visitor Business purpose purp3_perc Distribution for Visitor Personal purpose purp4_perc Distribution for External purpose"},{"location":"inputs.html#airport-income-by-purpose-distribution","title":"Airport Income by Purpose Distribution","text":""},{"location":"inputs.html#airport_incomesancsv-and-airport_incomecbxcsv","title":"<code>AIRPORT_INCOME.SAN.CSV AND AIRPORT_INCOME.CBX.CSV</code>","text":"Column Name Description Income group              Household income:             0 = Less than $25K             1 = $25K \u2013 $50K             2 = $50K \u2013 $75K             3 = $75K \u2013 $100K             4 = $100K \u2013 $125K             5 = $125K \u2013 $150K             6 = $150K \u2013 $200K             7 = $200K plus          purp1_perc Distribution for Resident Personal purpose purp2_perc Distribution for Visitor Business purpose purp3_perc Distribution for Visitor Personal purpose purp4_perc Distribution for External purpose"},{"location":"inputs.html#airport-departure-time-by-purpose-distribution","title":"Airport Departure Time by Purpose Distribution","text":""},{"location":"inputs.html#airport_departuresancsv-and-airport_departurecbxcsv","title":"<code>AIRPORT_DEPARTURE.SAN.CSV</code> and <code>AIRPORT_DEPARTURE.CBX.CSV</code>","text":"Column Name Description Period              Departure Period:             1 = Before 5:00AM             2 = 5:00AM-5:30AM             3 through 39 is every half hour time slots             40 = After 12:00AM          purp1_perc Distribution for Resident Personal purpose purp2_perc Distribution for Visitor Business purpose purp3_perc Distribution for Visitor Personal purpose purp4_perc Distribution for External purpose"},{"location":"inputs.html#airport-arrival-time-by-purpose-distribution","title":"Airport Arrival Time by Purpose Distribution","text":""},{"location":"inputs.html#airport_arrivalsancsv-and-airport_arrivalcbxcsv","title":"<code>AIRPORT_ARRIVAL.SAN.CSV</code> and <code>AIRPORT_ARRIVAL.CBX.CSV</code>","text":"Column Name Description Period              Arrival Period:             1 = Before 5:00AM             2 = 5:00AM-5:30AM             3 through 39 is every half hour time slots             40 = After 12:00AM          purp1_perc Distribution for Resident Personal purpose purp2_perc Distribution for Visitor Business purpose purp3_perc Distribution for Visitor Personal purpose purp4_perc Distribution for External purpose"},{"location":"inputs.html#commercial-vehicle-model","title":"Commercial Vehicle Model","text":""},{"location":"inputs.html#percent_of_establishments_by_luz_size_emp_catcsv","title":"<code>PERCENT_OF_ESTABLISHMENTS_BY_LUZ_SIZE_EMP_CAT.CSV</code>","text":"Column Name Description Info              Basic information of the data, and the size class definitions included          Data Detailed industry sector breakdown by size class and LUZ"},{"location":"inputs.html#cvmsynthestablishmentscsv","title":"<code>CVM/SYNTHESTABLISHMENTS.CSV</code>","text":"Column Name Description Establishment_ID              Unique establishment id ( index ) for each establishment          Industry_No The category of industry that the establishment belongs to (range: 1 - 12 ) Industry_Name The name of industry that the establishment belongs to ( EPO, AGM, CON etc.)/td&gt;      LUZ Land Use Zone ( Or the TAZ) to which the establishment belongs to MGRA The MGRA number to which establishment belongs to  Employees The number of employees in the establishment Size_Class The categorized size of the establishment based on the number of employees"},{"location":"inputs.html#cvmmgraempbyestsizecsv","title":"<code>CVM/MGRAEMPBYESTSIZE.CSV</code>","text":"Field       Description      mgra      MGRA id      taz      TAZ id      luz      Land use zone     emp_Sector_Size_Class      Employment numbers, where Sector is gov, mil, ag_min, bus_svcs,  fin_res_mgm, educ, hlth, ret, trn_wrh, con, utl, mnf, whl, ent, accm, food,  oth; where Size_Class ranges 1-7."},{"location":"inputs.html#cvm-establishment-synthesis-file-summarysynthestabscsv","title":"CVM Establishment Synthesis File ( SummarySynthEstabs.csv )","text":""},{"location":"inputs.html#summarysynthestabscsv","title":"<code>SummarySynthEstabs.csv</code>","text":"Field      Description      Industry_No      Industry No      Industry_Name      Industry name      Size_Class      Size class  Count      Total number    Industry No Industry Name Description 1              AGM          Agriculture, Forestry, Fishing, and Hunting, and Mining 2              MFG          Manufacturing 3              IUT          Industrial Utilities 4              RET          Retail Trade 5              WHL          Wholesale Trade 6              CON          Construction 7              TRN          Transportation and Warehousing 8              IFR          Information, Financial, Insurance, Real Estate, and Professional Services 9              EPO          Education, Public, and Other Services 10              MHS          Medical and Health Services 11              LAF          Leisure, Accomodations, and Food 12              MIL          Military"},{"location":"inputs.html#crossborder","title":"Crossborder","text":""},{"location":"inputs.html#cross-border-model-tour-entry-and-return-distribution","title":"Cross Border Model Tour Entry and Return Distribution","text":""},{"location":"inputs.html#crossborder_tourentryandreturncsv","title":"<code>CROSSBORDER_TOURENTRYANDRETURN.CSV</code>","text":"Column Name Description Purpose              Tour Purpose:             0 = Work             1 = School             2 = Cargo             3 = Shop             4 = Visit             5 = Other          EntryPeriod              Entry Period:             1 = Before 5:00AM             2 = 5:00AM-5:30AM             3 through 39 is every half hour time slots             40 = After 12:00AM          Return Period              Return Period:             1 = Before 5:00AM             2 = 5:00AM-5:30AM             3 through 39 is every half hour time slots             40 = After 12:00AM          Percent Distribution of tours in entry and return period time slots"},{"location":"inputs.html#cross-border-model-supercolonia","title":"Cross Border Model Supercolonia","text":""},{"location":"inputs.html#crossborder_supercoloniacsv","title":"<code>CROSSBORDER_SUPERCOLONIA.CSV</code>","text":"Column Name Description Supercolonia_ID Super colonia ID Population Population of the super colonia Distance_poe0 Distance from colonia to point of entry 0 (San Ysidro) Distance_poe1 Distance from colonia to point of entry 1 (Otay Mesa) Distance_poe2 Distance from colonia to point of entry 2 (Tecate)"},{"location":"inputs.html#cross-border-model-point-of-entry-wait-time","title":"Cross Border Model Point of Entry Wait Time","text":""},{"location":"inputs.html#crossborder_pointofentrywaittimecsv","title":"<code>CROSSBORDER_POINTOFENTRYWAITTIME.CSV</code>","text":"Column Name Description poe              Point of Entry number:             0 = San Ysidro             1 = Otay Mesa             2 = Tecate             3 = Otay Mesa East             4 = Jacumba          StartHour Start Hour (1 through 12) EndHour End Hour (1 through 12) StartPeriod              Start Period:             1 = Before 5:00AM             2 = 5:00AM-5:30AM             3 through 39 is every half hour time slots             40 = After 12:00AM          EndPeriod              End Period:             1 = Before 5:00AM             2 = 5:00AM-5:30AM             3 through 39 is every half hour time slots             40 = After 12:00AM          StandardWait Standard wait time SENTRIWait SENTRI users wait time PedestrianWait Pedestrian wait time"},{"location":"inputs.html#cross-border-model-stop-frequency","title":"Cross Border Model Stop Frequency","text":""},{"location":"inputs.html#crossborder_stopfrequencycsv","title":"<code>CROSSBORDER_STOPFREQUENCY.CSV</code>","text":"Column Name Description Purpose              Tour Purpose:             0 = Work             1 = School             2 = Cargo             3 = Shop             4 = Visit             5 = Other          DurationLo Lower bound of tour duration (0, 4, or 8) DurationHi Upper bound of tour duration (4, 8, or 24) Outbound Number of stops on the outbound (0, 1, 2, 3+) Inbound Number of stops on the inbound (0, 1, 2, 3+) Percent Distribution of tours by purpose, duration, number of outbound/inbound stops"},{"location":"inputs.html#cross-border-model-stop-purpose-distribution","title":"Cross Border Model Stop Purpose Distribution","text":""},{"location":"inputs.html#crossborder_stoppurposecsv","title":"<code>CROSSBORDER_STOPPURPOSE.CSV</code>","text":"Column Name Description TourPurp              Tour Purpose:             0 = Work             1 = School             2 = Cargo             3 = Shop             4 = Visit             5 = Other          Inbound Boolean for whether stop is inbound (0=No, 1=Yes) StopNum Stop number on tour (1, 2, or 3) Multiple Boolean for whether there are multiple stops on tour (0=No, 1=Yes) StopPurp0 Distribution of Work stops StopPurp1 Distribution of School stops StopPurp2 Distribution of Cargo stops StopPurp3 Distribution of Shopping stops StopPurp4 Distribution of Visiting stops StopPurp5 Distribution of Other stops"},{"location":"inputs.html#cross-border-model-outbound-stop-duration-distribution","title":"Cross Border Model Outbound Stop Duration Distribution","text":""},{"location":"inputs.html#crossborder_outboundstopdurationcsv","title":"<code>CROSSBORDER_OUTBOUNDSTOPDURATION.CSV</code>","text":"Column Name Description RemainingLow              Lower bound of remaining half hour periods after last scheduled trip:             1 = Before 5:00AM             2 = 5:00AM-5:30AM             3 through 39 is every half hour time slots             40 = After 12:00AM          RemainingHigh              Upper bound of remaining half hour periods after last scheduled trip:             1 = Before 5:00AM             2 = 5:00AM-5:30AM             3 through 39 is every half hour time slots             40 = After 12:00AM          Stop Stop number on tour (1, 2, or 3) 0 Probability that stop departure is in same period as last outbound trip 1 Probability that stop departure is in last outbound trip period + 1 2 Probability that stop departure is in last outbound trip period + 2 3 Probability that stop departure is in last outbound trip period + 3 4 Probability that stop departure is in last outbound trip period + 4 5 Probability that stop departure is in last outbound trip period + 5 6 Probability that stop departure is in last outbound trip period + 6 7 Probability that stop departure is in last outbound trip period + 7 8 Probability that stop departure is in last outbound trip period + 8 9 Probability that stop departure is in last outbound trip period + 9 10 Probability that stop departure is in last outbound trip period + 10 11 Probability that stop departure is in last outbound trip period + 11"},{"location":"inputs.html#cross-border-model-inbound-stop-duration-distribution","title":"Cross Border Model Inbound Stop Duration Distribution","text":""},{"location":"inputs.html#crossborder_inboundstopdurationcsv","title":"<code>CROSSBORDER_INBOUNDSTOPDURATION.CSV</code>","text":"Column Name Description RemainingLow              Lower bound of remaining half hour periods after last scheduled trip:             1 = Before 5:00AM             2 = 5:00AM-5:30AM             3 through 39 is every half hour time slots             40 = After 12:00AM          RemainingHigh              Upper bound of remaining half hour periods after last scheduled trip:             1 = Before 5:00AM             2 = 5:00AM-5:30AM             3 through 39 is every half hour time slots             40 = After 12:00AM          Stop Stop number on tour (1, 2, or 3) 0 Probability that stop departure period is same as tour arrival period -1 Probability that stop departure period is tour arrival period - 1 -2 Probability that stop departure period is tour arrival period \u2013 2 -3 Probability that stop departure period is tour arrival period \u2013 3 -4 Probability that stop departure period is tour arrival period \u2013 4 -5 Probability that stop departure period is tour arrival period \u2013 5 -6 Probability that stop departure period is tour arrival period \u2013 6 -7 Probability that stop departure period is tour arrival period - 7"},{"location":"inputs.html#external-models","title":"External Models","text":""},{"location":"inputs.html#externalexternaltripsbyyearcsv","title":"<code>EXTERNALEXTERNALTRIPSByYEAR.CSV</code>","text":"Column Name Description originTAZ External origin TAZ destinationTAZ External destination TAZ Trips Number of trips between external TAZs"},{"location":"inputs.html#external-internal-control-totals","title":"External Internal Control Totals","text":""},{"location":"inputs.html#externalinternalcontroltotalsbyyearcsv","title":"<code>EXTERNALINTERNALCONTROLTOTALSByYEAR.CSV</code>","text":"Column Name Description Taz External TAZ station Work Number of work vehicle trips Nonwork Number of non-work vehicle trips"},{"location":"inputs.html#internal-external-tours-time-of-day-distribution","title":"Internal External Tours Time of Day Distribution","text":""},{"location":"inputs.html#internalexternal_tourtodcsv","title":"<code>INTERNALEXTERNAL_TOURTOD.CSV</code>","text":"Column Name Description Purpose              Tour Purpose:             0 = All Purposes          EntryPeriod              Entry Period:             1 = Before 5:00AM             2 = 5:00AM-5:30AM             3 through 39 is every half hour time slots             40 = After 12:00AM          ReturnPeriod              Return Period:             1 = Before 5:00AM             2 = 5:00AM-5:30AM             3 through 39 is every half hour time slots             40 = After 12:00AM          Percent Distribution of tours by entry and return periods"},{"location":"inputs.html#heavy-truck-model-htm","title":"Heavy Truck Model (HTM)","text":""},{"location":"inputs.html#htminputs_sandag_htm_scenario_yearxlsx","title":"<code>HTM/INPUTS_SANDAG_HTM_&lt;SCENARIO_YEAR&gt;.XLSX</code>","text":"Sheet Name Description FAZ_County County-FAZ Mapping TAZ_FAZ Identifies in which FAZ, each TAZ is located OtherMode_Truck Determines what percentage of each mode belongs to trucks SD_Flows Identifies all OD pairs that have at least one end in SANDAG region or passes through the SANDAG region. FAZ_Gateway A look up table that corresponds FAF FAZ that are outside the SANDAG region to one/many SANDAG Gateways. This table also includes area code of each FAZ that is outside SANDAG region.  Commodity_Group Determines the commodity group (15 categories) to which each of the 43 commodities from the FAF data belongs. EMP_Calc Calculate the share of each of the 3 digits NAICS employee categories withing the 19 categories SANDAG ABM employee for each of the 5 FAZs in San Diego County EMP_Converter Provides a table that correlates SANDAG model employee categories with corresponding NAICS employee categories.  CG_Emp_P Establishes the relationship between each commodity group and the NAICS employee category for the production end. CG_Emp_A Establishes the relationship between each commodity group and the NAICS employee category for the attraction end. Annual_Factor Number of business days in a year. Truck_Dist Provides the percent distribution of truck type based on OD distance.  Payload Average pounds of load that each truck type can carry based on commodity groups.  Time_of_Day Provides distribution of trucks throughout the day. External_Count The Inbound and outbound truck counts by type at each of the 12 SANDAG gateways. For base year, this is the daily truck counts at the gateways.  SRA_Dist The overall distribution of trucks when they cross each of the gateway from/to each of the 63 SRAs. For base year this information is calculated from truck GPS data SRA_TAZ SRA-TAZ Mapping"},{"location":"inputs.html#htmfaf5_baseandfutureyears_oct27_2023csv","title":"<code>HTM/FAF5_BaseAndFutureYears_Oct27_2023.CSV</code>","text":"Column Name Description dms_orig FAF region or state where a freight movement begins the domestic portion of shipment. For imports, this is the US entry region where an import enters United States.  dms_dest FAF region or state where a freight movement ends the domestic portion of shipment. For exports, this is the US exit region where an export leaves United States.  Mode Mode used between domestic origins and destinations Commodity 2-digit level of the Standard Classification of Transported Goods ( SCTG)  Direction Trade Direction : II or XI  Trade Trade Type : Domestic or Foreign fr_orig Foreign region of shipment origin fr_dest Foreign region of shipment destination  fr_inmode Mode used between a foreign region and the US entry region for the imported goods fr_outmode Mode used between the US exit region and foreign region for the exported goods distons_year Total weight of commodities shipped (unit: Thousand Tons) in year disvalue_year Total value (in 2017 constant dollar) of commodities shipped (unit: Million Dollars) in year"},{"location":"inputs.html#mode-dictionary","title":"Mode Dictionary","text":"Numeric Label Description 1 Truck  2 Rail  3 Water 4 Air ( include truck-air)  5 Multiple modes &amp; mail  6 Pipeline 7 Other and unknown 8 No domestic mode"},{"location":"inputs.html#commodity-groups-dictionary","title":"Commodity Groups Dictionary","text":"Numeric Label Description 01 Live animals/fish  02 Cereal grains  03 Other ag prods. 04 Animal feed 05 Meat/seafood  06 Milled grain prods. 07 Other foodstuffs 08 Alcoholic Beverages  09 Tobacco prods  10 Building stone  11 Natural sands  12 Gravel  13 Nonmetallic minerals  14 Metallic ores  15 Coal  16 Crude Petroleum  17 Gasoline  18 Fuel oils  19 Natural gas and other fossil products  20 Basic chemicals  21 Pharmaceuticals  22 Fertilizers  23 Chemical prods.  24 Plastics/rubber  25 Logs  26 Wood prods  27 Newsprint/paper  28 Paper articles  29 Printed prods.  30 Textiles/leather  31 Nonmetal min. prods.  32 Base metals  33 Articles-base metal  34 Machinery  35 Electronics  36 Motorized Vehicles  37 Transport equip.  38 Precision instruments  39 Furniture  40 Misc. mfg. prods.  41 Waste/scrap  43 Mixed freight"},{"location":"inputs.html#others","title":"Others","text":""},{"location":"inputs.html#parameters-by-scenario-years","title":"Parameters by Scenario Years","text":""},{"location":"inputs.html#parametersbyyearscsv","title":"<code>PARAMETERSBYYEARS.CSV</code>","text":"Column Name Description year Scenario build year aoc.fuel Auto operating fuel cost aoc.maintenance Auto operating maitenance cost airport.SAN.enplanements San Diego International Airport enplanements airport.SAN.connecting San Diego International Airport connecting passengers airport.SAN.airportMgra MGRA San Diego International Airport is located in airport.CBX.enplanements Cross Border Express Terminal (Tijuana International Airport) enplanements airport.CBX.connecting Cross Border Express Terminal (Tijuana International Airport) connecting passengers airport.CBX.airportMgra MGRA Cross Border Express Terminal is located in crossBorder.tours Number of cross border tours crossBorders.sentriShare Share of cross border tours that are SENTRI taxi.baseFare Initial taxi fare taxi.costPerMile Taxi cost per mile taxi.cosPerMinute Taxi cost per minute TNC.single.baseFare Initial TNC fare for single ride TNC.single.costPerMile TNC cost per mile for single ride TNC.single.costPerMinute TNC cost per minute for single ride TNC.single.costMinimum TNC minimum cost for single ride TNC.shared.baseFare Initial TNC fare for shared ride TNC.shared.costPerMile TNC cost per mile for shared ride TNC.shared.costPerMinute TNC cost per minute for shared ride TNC.shared.costMinimum TNC minimum cost for shared ride Mobility.AV.RemoteParkingCostPerHour Remote parking cost per hour for autonomous vehicles active.micromobility.variableCost Variable cost for micromobility active.micromobility.fixedCost Fixed cost for micromobility active.microtransit.fixedCost Fixed cost for microtransit Mobility.AV.Share The share of vehicles assumed to be autonomous vehicles in the vehicle fleet smartSignal.factor.LC smartSignal.factor.MA smartSignal.factor.PA atdm.factor"},{"location":"inputs.html#files-by-scenario-years","title":"Files by Scenario Years","text":""},{"location":"inputs.html#filesbyyearscsv","title":"<code>FILESBYYEARS.CSV</code>","text":"Column Name Description year Scenario build year crossborder.dc.soa.alts.file Crossborder model destination choice alternatives file crossBorder.dc.uec.file Crossborder model destination choice UEC file uwsl.dc.uec.file Tour destination choice UEC file nmdc.uec.file Non-mandatory tour destination choice UEC file crossBorder.tour.mc.uec.file Crossborder model tour mode choice UEC file visualizer.reference.path Path to reference scenario for SANDAG ABM visualizer"},{"location":"inputs.html#zone-terminal-time","title":"Zone Terminal Time","text":""},{"location":"inputs.html#zone_termcsv","title":"<code>ZONE_TERM.CSV</code>","text":"Column Name Description Zone TAZ number Terminal time Terminal time (3, 4, 5, 7, 10 minutes) <p>Go To Top</p>"},{"location":"outputs.html","title":"Model Outputs","text":"<p>Model outputs are stored in the .\\outputs directory. The contents of the directory are listed in the table below.</p>"},{"location":"outputs.html#output-directory-output","title":"Output Directory (.\\output)","text":"Directory\\File Name Description airport.CBX (directory)     Outputs for Cross-Border Express Airport Ground Access Model     airport.SAN (directory)     Outputs for San Diego International Airport Ground Access Model     assignment (directory)     Assignment outputs     crossborder (directory)     Crossborder Travel Model outputs     cvm (directory)     Commercial Vehicle Model outputs     resident (directory)     Resident model outputs     skims (directory)     Skim outputs     visitor (directory)     Visitor Model outputs     bikeMgraLogsum.csv     Bike logsum file for close-together MGRAs     bikeTazLogsum.csv     Bike logsum file for TAZs     datalake_metadata.yaml     Metadata file for datalake reporting system     derivedBikeEdges.csv     Derived bike network edge file     derivedBikeNodes.csv     Derived bike network node file     derivedBikeTraversals.csv     Derived bike network traversals file     runtime_summary.csv     Summary of model runtime     transponderModelAccessibilities.csv     Transponder model accessibilities (not used)     trip_(period).omx Total Trip tables to assign to the highway network by 5 time periods (tod = EA, AM, MD, PM, EV)"},{"location":"outputs.html#total-vehicle-trips-assigned-to-the-highway-network-by-period","title":"Total Vehicle Trips Assigned to the Highway Network by period","text":"<p><code>TRIP_&lt;TIME PERIOD&gt;.OMX</code></p> Table Name     Description     &lt;time_period&gt;_HOV3_&lt;vot&gt;     Shared Ride 3 trips for time period and vot     &lt;time_period&gt;_TRK_&lt;vot&gt;     Truck trips for time period and vot     &lt;time_period&gt;_SOV_NT_&lt;vot&gt;     Drive Alone Non-Transponder trips for time period and vot     &lt;time_period&gt;_SOV_TR_&lt;vot&gt;     Drive Alone Transponder trips for time period and vot     &lt;time_period&gt;_HOV2_&lt;vot&gt;     Shared Ride 2 trips for time period and vot     vot = L (low), M (medium), and H (high)     *time period = EA, AM, MD, PM, EV"},{"location":"outputs.html#skims-skims","title":"Skims (.\\skims)","text":"<p>This directory contains auto, transit, and non-motorized level-of-service matrices, also known as skims. Each file is a collection of origin destination tables of times and costs, at the TAZ level.</p> File     Description     dest_pmsa.omx     A matrix containing pseudo - metropolitan statistical area code for each destination TAZ     dest_poi.omx     A matrix containing point of interest code for each destination TAZ (currently zeros)     dest_poi.omx.csv     A csv file containing point of interest code for each destination TAZ (currently zeros)     impm(truck type)(toll type)_(period)_(matrixtype).txt     Truck impedance matrix for truck type (ld = Light duty, lhd = light heavy duty, mhd = medium heavy duty, hhd = heavy heavy duty), toll type (n = non-toll, t = toll) and matrixtype (DU = utility, dist = distance, time = time)     maz_maz_bike.csv     Bike logsums between close together MGRAs     maz_maz_walk.csv     Walk times between close together MGRAs     maz_stop_walk.csv     Walk times between MGRAs and transit stops     taz_pmsa_xwalk.csv     Crosswalk file between pseudo-metropolitan statistical areas and TAZs     traffic_skims_(period).omx Auto skims by period (EA, AM, MD, PM, EV)     transit_skims_(period).omx Transit skims by period (EA, AM, MD, PM, EV)     <p></p>"},{"location":"outputs.html#auto-skims-by-period","title":"Auto skims by period","text":"<p><code>TRAFFIC_SKIMS_&lt;time period&gt;.OMX</code></p> Table Name     Description     &lt;time_period&gt;_&lt;traffic_class&gt;&lt;_vot&gt;_TIME     Travel time (minutes) for evaluation of volume-delay functions     &lt;time_period&gt;_&lt;traffic_class&gt;&lt;_vot&gt;_DIST     Travel distance (miles)     &lt;time_period&gt;_&lt;traffic_class&gt;&lt;_vot&gt;_REL     Impedance (cost/time) compared to other routes     &lt;time_period&gt;_&lt;traffic_class&gt;&lt;_vot&gt;_TOLLCOST     Total toll cost (only for TOLL traffic classes)     &lt;time_period&gt;_&lt;traffic_class&gt;&lt;_vot&gt;_TOLLDIST     Total distance (miles) on toll facilities (only for TOLL traffic classes)     &lt;time_period&gt;_&lt;traffic_class&gt;&lt;_vot&gt;_MLCOST     Total cost for managed lane facilities (only for TOLL traffic classes)     &lt;time_period&gt;_&lt;traffic_class&gt;&lt;_vot&gt;_HOVDIST     Distance (miles) on HOV facilities (only for HOV traffic classes)     *traffic class = SOV_TR, SOV_NT, HOV2, HOV3, TRK     vot = L (low), M (medium), and H (high)     <p></p>"},{"location":"outputs.html#transit-skims-by-period","title":"Transit skims by period","text":"<p><code>TRANSIT_SKIMS_&lt;time_period&gt;.OMX</code></p> Table Name     Description     &lt;time_period&gt;_&lt;transit_class&gt;_GENCOST     Total generalized cost which includes perception factors from assignment     &lt;time_period&gt;_&lt;transit_class&gt;_FIRSTWAIT     actual wait time (minutes) at initial boarding point     &lt;time_period&gt;_&lt;transit_class&gt;_XFERWAIT     actual wait time (minutes) at all transfer boarding points     &lt;time_period&gt;_&lt;transit_class&gt;_TOTALWAIT     total actual wait time (minutes)     &lt;time_period&gt;_&lt;transit_class&gt;_FARE     fare paid     &lt;time_period&gt;_&lt;transit_class&gt;_XFERS     number of transfers     &lt;time_period&gt;_&lt;transit_class&gt;_ACCWALK     access actual walk time (minutes) prior to initial boarding     &lt;time_period&gt;_&lt;transit_class&gt;_EGRWALK     egress actual walk time (minutes) after final alighting     &lt;time_period&gt;_&lt;transit_class&gt;_TOTALWALK     total actual walk time (minutes)     &lt;time_period&gt;_&lt;transit_class&gt;_TOTALIVTT     Total actual in-vehicle travel time (minutes)     &lt;time_period&gt;_&lt;transit_class&gt;_DWELLTIME     Total dwell time (minutes) at stops     &lt;time_period&gt;_&lt;transit_class&gt;_BUSIVTT     actual in-vehicle travel time (minutes) on local bus mode     &lt;time_period&gt;_&lt;transit_class&gt;_LRTIVTT     actual in-vehicle travel time (minutes) on LRT mode     &lt;time_period&gt;_&lt;transit_class&gt; _CMRIVTT     actual in-vehicle travel time (minutes) on commuter rail mode     &lt;time_period&gt;_&lt;transit_class&gt; _EXPIVTT     actual in-vehicle travel time (minutes) on express bus mode     &lt;time_period&gt;_&lt;transit_class&gt;_LTDEXPIVTT     actual in-vehicle travel time (minutes) on premium bus mode     &lt;time_period&gt;_&lt;transit_class&gt;_BRTIVTT     actual in-vehicle travel time (minutes) on  BRT mode     *time period = EA, AM, MD, PM, EV     transit_class = LOC, PRM, MIX"},{"location":"outputs.html#activitysim-log-files","title":"ActivitySim log files","text":"<p>ActivitySim writes out various log files when it runs; these have standard names for each model component. Therefore we list them separately, but copies of these files may be in each model\u2019s output directory depending upon the settings used to run ActivitySim for that model component.</p> File  Description activitysim.log     ActivitySim log file for model     breadcrumbs.yaml     Breadcrumbs provides a record of steps that have been run for use when resuming a model run     final_checkpoints.csv     ActivitySim checkpoint file      final_pipeline.h5     ActivitySim pipeline file     mem.csv     ActivitySim memory use log file     mem_mp_households.csv     Memory logs for ActivitySim model steps running with the same num_processes (all except accessibility, initialize, and summarize)     mem_mp_initialize.csv     Memory logs for ActivitySim model step initialize     mem_mp_summarize.csv     Memory logs for ActivitySim model step summarize     mp_households_(processnumber)-activitysim.log     ActivitySim log file for processnumber. This logfile is created if model is run in multiprocess mode     mp_households_(processnumber)-mem.csv     Memory log file for processnumber     mp_households_apportion-activitysim.log     ActivitySim log file for apportioning data between multiple processes     mp_households_coalesce-activitysim.log     ActivitySIm logfile for coalesing output from multiple processes into one     mp_initialize-activitysim.log     ActivitySim log file for the initialization steps     mp_initialize-mem.csv     Memory logs for ActivitySim model step summarize (similar to mp_initialize-mem.csv)     mp_setup_skims-activitysim.log     ActivitySim logfile for reading in skims     mp_summarize-activitysim.log     ActivitySim log file for summarizing model output (omx and csv trip table)     mp_summarize-mem.csv     Memory logs for ActivitySim model step summarize (similar to mem_mp_initialize.csv)     mp_tasks_log.txt     Log files of multiprocessed steps     omnibus_mem.csv     Memory log file of all model steps (similar to mem.csv)     run_list.txt     List of models that have been run     timing_log.csv     Model run time by steps"},{"location":"outputs.html#airport-model-outputs-airportcbx-airportsan","title":"Airport model outputs (.\\airport.CBX, .\\airport.SAN)","text":"<p>There are two subdirectories containing outputs for each of the two airport models. airport.CBX contains output for the Cross-Border Express model, and airport.SAN contains output for the San Diego International Airport model. Each directory has identical files so we provide one generic output table below.</p> Filename Description final_(airport)accessibility.csv     Accessibility file for airport (cbx, san) (not used, created by default)     [final_(airport)households.csv](#### Airport Model household file (final_(airport)households.csv))     Household file for airport (cbx, san)     final_(airport)land_use.csv     Land-use file for airport (cbx, san)     [final_(airport)persons.csv](#### Airport Model person file (final_(airport)persons.csv))     Persons file for airport (cbx, san)     [final_(airport)tours.csv](#### Airport Model tour file (final_(airport)tours.csv))     Tour file for airport (cbx, san)     [final_(airport)trips.csv](#### Airport Model trip file (final_(airport)trips.csv))     Trip file for airport (cbx, san)     model_metadata.yaml     Datalake metadata file     autoairporttrips.(airport)_(period).omx     Auto trip table for airport (CBX, SAN) by period (EA, AM, MD, PM, EV)     tranairporttrips.(airport)_(period).omx     Transit trip table for airport (CBX, SAN) by period (EA, AM, MD, PM, EV)     nmotairporttrips.(airport)_(period).omx     Non-motorized trip table for airport (CBX, SAN) by period (EA, AM, MD, PM, EV)"},{"location":"outputs.html#airport-model-household-file-final_airporthouseholdscsv","title":"Airport Model household file (final_(airport)households.csv)","text":"Field     Description     home_zone_id     Airport MGRA     sample_rate     Sample rate     household_id     Household ID     poverty     Poverty indicator utilized for social equity reports. Percentage value where value &lt;= 2 (200% of the Federal Poverty Level) indicates household is classified under poverty."},{"location":"outputs.html#airport-model-person-file-final_airportpersonscsv","title":"Airport Model person file (final_(airport)persons.csv)","text":"Field     Description     household_id     Household ID     person_id     Person ID"},{"location":"outputs.html#airport-model-tour-file-final_airporttourscsv","title":"Airport Model tour file (final_(airport)tours.csv)","text":"Field     Description     tour_id     Tour ID     purpose_id     ID for tour type: <p> 1 = resident business <p> 2 = resident personal <p> 3= visitor business <p> 4 = visitor personal <p> 5 = external     party_size     Number of persons in airport travel party     nights     Number of nights away     income     Income group 0-7,  -99 if employee     direction     Direction of trip. String. outbound: airport to non-airport, inbound: non-airport to airport     household_id     Household ID     person_id     Person ID     tour_category     Tour category. String \"non_mandatory\"     tour_type     Type of tour. String. \"Emp\": Employee, \"ext\": External, \"res_busn\": Resident business where n is the ID for the income bracket (1&lt;25K, 2: between 25K &amp; 50K, 3: between 50K &amp; 75K, 4: between 75K &amp; 100K, 5: between 100K &amp; 125K, 6: between 125K &amp; 150K, 7: between 150K &amp; 200K, 8: 200k+ <p> , \"res_pern\": Resident personal where n is the ID for the income bracket as defined above, \"vis_bus\": Visitor business, \"vis_per\": Visitor personal       origin     Origin MGRA     destination     Destination MGRA     number_of_participants     Same as party_size     outbound     TRUE if outbound, else FALSE     start     Half-hour time period of departure from tour origin. Periods are number 1 through 48 where period 1 starts at 3:00 AM.     end     Half-hour time period of arrival back at tour origin. Periods are number 1 through 48 where period 1 starts at 3:00 AM.     duration     Duration of the tour in number of half-hour periods, including all activity episodes and travel     destination_logsum     Logsum from destination choice model     stop_frequency     out_0in, 0out_in     primary_purpose     \"busn\", \"emp\", \"extn\", \"pern\""},{"location":"outputs.html#airport-model-trip-file-final_airporttripscsv","title":"Airport Model trip file (final_(airport)trips.csv)","text":"Field     Description     trip_id     Trip ID     person_id     Person ID     household_id     Household ID     primary_purpose     Primary purpose of trip: \"busn\": Business, where n is..., \"emp\": Employee, \"extn\": External, where n is..., \"pern\": Personal, where n is...     trip_num     1     outbound     TRUE if outbound, else FALSE     trip_count     1     destination     Destination MGRA     origin     Origin MGRA     tour_id     Tour ID     depart     Departure time period (1\u202648)     trip_mode     Trip mode (see trip mode table)     mode_choice_logsum     Mode choice logsum for trip     vot     Value of time in dollars per hour ($2023)     arrival_mode     Arrival mode from airport trip mode choice model     cost_parking     Cost of parking ($2023)     cost_fare_drive     Ridehail/Taxi fare on a trip     distance_walk     Distance walked on a trip (including access/egress for transit modes)     time_mm     Micromobility time     distance_mm     Micromobility distance     cost_fare_mm     Micromobility cost ($2023)     distance_bike     Bike distance     time_wait_drive     Ridehail/Taxi wait times for a trip     trip_period     A string indicating the skim period for the trip (\u201cEA\u201d,\u201dAM\u201d,\u201dMD\u201d,\u201dPM\u2019,\u201dEV\u201d)     party     Party size     tour_participants     Number of joint tour participants if joint tour, else 1     distance_total     Trip distance     add_driver     TRUE if trip requires a driver based on airport mode (for example, TNC, or pickup), else FALSE     weight_trip     1     weight_person_trip     weight_trip * tour_participants     cost_operating_drive     Auto operating cost ($2023)     inbound     TRUE if trip is from (origin) airport to (destination) non-airport zone, else FALSE     time_drive     Auto time     distance_drive     Auto distance     cost_toll_drive     Auto toll cost ($2023)     time_transit_in_vehicle     Transit in-vehicle time     time_rapid_transit_in_vehicle     Rapid transit in-vehicle time     time_express_bus_transit_in_vehicle     Express bus in-vehicle time     time_local_bus_transit_in_vehicle     Local bus in-vehicle time     time_light_rail_transit_in_vehicle     Light rail transit in-vehicle time     time_commuter_rail_transit_in_vehicle     Commuter rail in-vehicle time     time_transit_initial_wait     Transit initial-wait time     cost_fare_transit     Transit fare ($2023)     transfers_transit     Number of transfers     time_bike     Bike time     time_walk     Walk mode time     cost_total     Sum of all costs a trip might incur (auto operating, toll, transit fare)     time_total     Total travel time (including iIVT and access/egress and wait times for all modes)     value_of_time_category_id     Value of time bin. 1: Low, 2: Medium, 3: High     sample_rate     Sample rate     otaz     Origin TAZ     dtaz     Destination TAZ"},{"location":"outputs.html#arrival-mode-table-for-airport-models","title":"Arrival Mode Table for Airport Models","text":"Field     Description     Curb_LOCn     Pickup/Dropoff curbside (n=1,5, with 1 = terminal, and 2,5 = other locations)     TAXI_LOCn Taxi to airport (n =1,2 with 1= terminal mgra and 2=other)     RIDEHAIL_LOCn Ridehail to airport (n =1,2 with 1= terminal mgra and 2=other)     PARK_LOCn Parking lot (n=1,5, with 1 = terminal mgra and 2,5= other locations)     PARK_ESCORT     Parking escort     SHUTTLEVAN     Shuttle Vehicle     RENTAL     Rental car     HOTEL_COURTESY     Hotel transportation     WALK     Walk     WALK_LOC, WALK_PRM, WALK_MIX     Walk transit modes     KNR_LOC, KNR_PRM, KNR_MIX     KNR transit modes     TNC_LOC, TNC_PRM, TNC_MIX     TNC transit modes"},{"location":"outputs.html#airport-model-auto-demand-matrices","title":"Airport Model auto demand matrices","text":"Table Name     Description     SR2_&lt;&gt;     Shared Ride 2 for &lt;&gt;     SR3_&lt;&gt;     Shared Ride 3 for &lt;&gt;     SOV_&lt;&gt;     Drive Alone for &lt;&gt;     where TIME PERIOD = EA, AM, MD, PM, EV"},{"location":"outputs.html#airport-model-transit-demand-matrices","title":"Airport Model transit demand matrices","text":"Table Name     Description     WLK_SET_set1_&lt;&gt;     PNR_SET_set1_&lt;&gt;     KNR_SET_set1_&lt;&gt;     TNC_SET_set1_&lt;&gt;     WLK_SET_set2_&lt;&gt;     PNR_SET_set2_&lt;&gt;     KNR_SET_set2_&lt;&gt;     TNC_SET_set2_&lt;&gt;     WLK_SET_set3_&lt;&gt;     PNR_SET_set3_&lt;&gt;     KNR_SET_set3_&lt;&gt;     TNC_SET_set3_&lt;&gt;     where TIME PERIOD = EA, AM, MD, PM, EV"},{"location":"outputs.html#airport-model-non-motorized-demand-matrices","title":"Airport Model non-motorized demand matrices","text":"Table Name     Description     WALK_&lt;&gt;     Walk for &lt;&gt;     BIKE_&lt;&gt;     Bike for &lt;&gt;     where TIME PERIOD = EA, AM, MD, PM, EV"},{"location":"outputs.html#assignment-model-trip-tables-assignment","title":"Assignment model trip tables (.\\assignment)","text":"<p>This directory contains trip tables from auto and transit assignments.</p>"},{"location":"outputs.html#demand-matrices","title":"Demand Matrices","text":"File  Description autoairportTrips.(airport)_(period_(vot).omx     Auto trip table for airport (CBX, SAN) by period (EA, AM, MD, PM, EV) and value of time (low, medium, high)     autocrossborderTrips_(period)_(vot).omx     Auto trip table for cross border model by period (EA, AM, MD, PM, EV) and value of time (low, medium, high)     autoTrips_(period)_(vot).omx     Auto trip table for resident model by period (EA, AM, MD, PM, EV) and value of time (low, medium, high)     autovisitorTrips_(period)_(vot).omx     Auto trip table for visitor model by period (EA, AM, MD, PM, EV) and value of time (low, medium, high)     cvmtrips_(period).omx     CVM trip table for model by period (EA, AM, MD, PM, EV) and value of time (low, medium, high)     emptyAVTrips.omx     Empty private autonomous vehicle trips      householdAVTrips.csv     All private autonomous vehicle trips     htmtrips_(period).omx     HTM trip table for model by period (EA, AM, MD, PM, EV) and value of time (low, medium, high)     TNCTrips.csv     All TNC trips     TNCVehicleTrips_(period).omx     TNC vehicle trip table by period (EA, AM, MD, PM, EV)     TranairportTrips.(airport)_(period).omx     Transit trip tables for airport (CBX, SAN) by period (EA, AM, MD, PM, EV)     TrancrossborderTrips_(period).omx     Transit trip tables for cross-border model by period (EA, AM, MD, PM, EV)     TranTrips_(period).omx     Transit trip tables for resident model by period (EA, AM, MD, PM, EV)     TranvisitorTrips_(period).omx     Transit trip tables for visitor model by period (EA, AM, MD, PM, EV)     TripMatrices.csv     Disaggregate commercial vehicle trips"},{"location":"outputs.html#tnc-vehicle-trip-demand-table","title":"TNC Vehicle trip demand table","text":"Column Name     Description     trip_ID     Trip ID     vehicle_ID     Vehicle ID     originTaz     Origin TAZ     destinationTaz     Destination TAZ     originMgra     Origin MGRA     destinationMgra     Destination MGRA     totalPassengers     Number of passengers in the vehicle     startPeriod     Trip starting period     endPeriod     Trip ending period     pickupIdsAtOrigin     Trip id of the pick-up at origin.     CR-RAMP:     \u2003\u2003Individual trips:     \u2003\u2003\"I_\" + personId + \"_\" + purpAbb + \"_\" + tourid + \"_\" + inbound + \"_\" + stopid     \u2003\u2003\u2003where purpAbb is the first 3 letters of the tour_purp field     \u2003\u2003Joint trips:     \u2003\u2003\"J_\" + hhid + \"_\" + purpAbb + \"_\" + tourid + \"_\" + inbound + \"_\" + stopid + \u201d_\u201d + i     \u2003\u2003\u2003where i is a number ranging from 1 to the total number of participants.     Visitor trips:     \u2003\u2003partySize == 1: \"V_\" + tourid + \"_\" + stopid     \u2003\u2003partySize &gt; 1: \"V_\" + tourid + \"_\" + stopid + \u201d_\u201d + i     \u2003\u2003\u2003where i is a number ranging from 1 to the total number of participants.     Cross-border trips:     \u2003\u2003partySize == 1: \"M_\" + tourid + \"_\" + stopid     \u2003\u2003partySize &gt; 1: \"M_\" + tourid + \"_\" + stopid + \u201d_\u201d + i     \u2003\u2003\u2003where i is a number ranging from 1 to the total number of participants.     CBX airport trips:     \u2003\u2003partySize == 1: \"CBX_\" + tourid + \"_\" + stopid     \u2003\u2003partySize&gt;1: \"CBX_\" + tourid + \"_\" + stopid + \u201d_\u201d + i     \u2003\u2003\u2003where i is a number ranging from 1 to the total number of participants.     SAN airport trips:     \u2003\u2003partySize == 1: \"SAN_\" + tourid + \"_\" + stopid     \u2003\u2003partySize &gt; 1: \"SAN_\" + tourid + \"_\" + stopid + \u201d_\u201d + i     \u2003\u2003\u2003where i is a number ranging from 1 to the total number of participants.     Internal-External trips:     \u2003\u2003\"IE_\" + tourid + \"_\" + inbound     dropoffIdsAtOrigin     Trip id of the drop-off at origin. See pickupIdsAtOrigin for trip id of the trip.     pickupIdsAtDestination     Trip id of the pick-up at destination. See pickupIdsAtOrigin for trip id of the trip.     dropoffIdsAtDestination     Trip id of the drop-off at destination. See pickupIdsAtOrigin for trip id of the trip.     originPurpose     Trip origin purpose     destinationPurpose     Trip destination purpose"},{"location":"outputs.html#household-autonomous-vehicle-trip-data","title":"Household autonomous vehicle trip data","text":"Column Name     Description     hh_id     Household id     veh_id     Vehicle id     vehicleTrip_id     Vehicle trip id     orig_mgra     Trip origin MGRA     dest_gra     Trip destination MGRA     period     Period:     1 = Before 5:00AM     2 = 5:00AM-5:30AM     3 through 39 is every half hour time slots     40 = After 12:00AM     occupants     Number of occupants in the vehicle     originIsHome     Is origin home     0 = No     1 = Yes     destinationIsHome     Is destination home     0 = No     1 = Yes     originIsRemoteParking     Is origin remote parking     0 = No     1 = Yes     destinationIsRemoteParking     Is destination remote parking     0 = No     1 = Yes     parkingChoiceAtDestination     Parking choice at destination:     0 = Not constrained to remote parking     1 = Park at destination     2 = Remote parking     3 = Park at home     person_id     Person id     person_num     Person number     tour_id     Tour id     stop_id     Stop id     inbound     Is trip inbound     1 = Yes     0 = No     tour_purpose     Tour purpose:     Discretionary     Eating Out     Escort     Home     Maintenance     School     Shop     University     Visiting     Work     Work-Based     orig_purpose     Origin trip purpose:     Discretionary     Eating Out     Escort     Home     Maintenance     School     Shop     University     Visiting     Work     Work-Based     Work related     dest_purpose     Destination trip purpose:     Discretionary     Eating Out     Escort     Home     Maintenance     School     Shop     University     Visiting     Work     Work-Based     Work related     trip_orig_mgra     Trip origin MGRA     trip_dest_mgra     Trip destination MGRA     stop_period     Stop period:     1 = Before 5:00AM     2 = 5:00AM-5:30AM     3 through 39 is every half hour time slots     40 = After 12:00AM     periodsUntilNextTrip     trip_mode     Trip mode:     0 = Empty vehicle trip     1 = Drive Alone     2 = Shared Ride 2     3 = Shared Ride 3"},{"location":"outputs.html#tnc-vehicle-trip-matrix","title":"TNC vehicle trip matrix","text":"Table Name     Description     TNC_&lt;&gt;_0     TNC trips for &lt;&gt; with 0 passenger     TNC_&lt;&gt;_1     TNC trips for &lt;&gt; with 1 passenger     TNC_&lt;&gt;_2     TNC trips for &lt;&gt; with 2 passengers     TNC_&lt;&gt;_3     TNC trips for &lt;&gt; with 3 or more passengers"},{"location":"outputs.html#empty-autonomous-vehicle-trips-data","title":"Empty Autonomous vehicle trips data","text":"Table Name     Description     EmptyAV_EA     Empty AV trips for EA period     EmptyAV_AM     Empty AV trips for AM period     EmptyAV_MD     Empty AV trips for MD period     EmptyAV_PM     Empty AV trips for PM period     EmptyAV_EV     Empty AV trips for EV period"},{"location":"outputs.html#crossborder-model-outputs-crossborder","title":"Crossborder model outputs (.\\crossborder)","text":"<p>This directory contains outputs from the Crossborder model, which represents all travel made by Mexico residents in San Diego County.</p> File      Description     final_accessibility.csv     Accessibility file for Crossborder Model (not used, created by default)     [final_households.csv](#### Crossborder Model household file (final_households.csv))     Household file for Crossborder Model      final_land_use.csv     Land-use file for Crossborder Model      [final_persons.csv](#### Crossborder Model person file (final_persons.csv))     Persons file for Crossborder Model      [final_tours.csv](#### Crossborder Model tour file (final_tours.csv))     Tour file for Crossborder Model      [final_trips.csv](#### Crossborder Model trip file (final_trips.csv))     Tour file for Crossborder Model      model_metadata.yaml     Model run meta data for use in Datalake storage and reporting     nmCrossborderTrips_AM.omx     Non-motorized trip table for Crossborder Model by period (EA, AM, MD, PM, EV)     autoCrossborderTrips_AM.omx     Auto trip table for Crossborder Model by period (EA, AM, MD, PM, EV)     tranCrossborderTrips_AM.omx     Transit trip table for Crossborder Model by period (EA, AM, MD, PM, EV)     othrCrossborderTrips_AM.omx     Other trip table for Crossborder Model by period (EA, AM, MD, PM, EV)"},{"location":"outputs.html#crossborder-model-household-file-final_householdscsv","title":"Crossborder Model household file (final_households.csv)","text":"Field     Description     sample_rate     Sample Rate     num_persons     Number of persons in travel party     origin     Origin MGRA (Border crossing station)     home_zone_id     Home MGRA (Border crossing station)     household_id     Household ID     poverty     Poverty indicator utilized for social equity reports. Percentage value where value &lt;= 2 (200% of the Federal Poverty Level) indicates household is classified under poverty."},{"location":"outputs.html#crossborder-model-person-file-final_personscsv","title":"Crossborder Model person file (final_persons.csv)","text":"Field     Description     household_id     Household ID     work_time_factor     Travel time sensitivity factor for work tours     non_work_time_factor     Travel time sensitivity factor for non-work tours (Sampled in person preprocessor)     origin     Origin MGRA (Border crossing station)     home_zone_id     Home MGRA (Border crossing station)     person_id     Person ID"},{"location":"outputs.html#crossborder-model-tour-file-final_tourscsv","title":"Crossborder Model tour file (final_tours.csv)","text":"Field     Description     tour_id     Tour ID     pass_type     Type of border crossing pass. String. \"no_pass\": Does not own a pass, \"sentri\": SENTRI pass, or \"ready\": READY pass     tour_type     Tour purpose. String. \"other\", \"school\", \"shop\", \"visit\", or \"work\"     purpose_id     Tour purpose ID. 0: work, 1: school, 2: shop, 3: visit, 4: other     tour_category     Tour category. String. Mandatory: Work or school, Non-Mandatory: Shop, visit, other     number_of_participants     Number of participants in tour     household_id     Household ID     person_id     Person ID     start     Half-hour time period of departure from tour origin. Periods are number 1 through 48 where period 1 starts at 3:00 AM.     end     Half-hour time period of arrival back at tour origin. Periods are number 1 through 48 where period 1 starts at 3:00 AM.     duration     Duration of the tour in number of half-hour periods, including all activity episodes and travel     origin     Tour origin (Border Crossing) MGRA     destination     Tour primary destination MGRA     tour_od_logsum     Tour origin-crossing-destination logsum     poe_id     Number of border crossing station     tour_mode     Tour mode     mode_choice_logsum     Tour mode choice logsum     stop_frequency     Number of stops on tour by direction. String. xout_yin where x is number of stops in the outbound direction and y is the number of stops in the inbound direction     primary_purpose     will drop"},{"location":"outputs.html#crossborder-model-trip-file-final_tripscsv","title":"Crossborder Model trip file (final_trips.csv)","text":"Field     Description     trip_id     Trip ID     person_id     Person ID     household_id     Household ID     primary_purpose     Purpose at primary destination. String. \"other\", \"school\", \"shop\", \"visit\", or \"work\"     trip_num     Sequential number of trip on half-tour from 1 to 4     outbound     TRUE if outbound, else FALSE     trip_count     number of trips per tour. Will drop     destination     Destination MGRA     origin     Origin MGRA     tour_id     Tour ID     purpose     Purpose at trip destination. String. \"other\", \"school\", \"shop\", \"visit\", or \"work\"     depart     Departure time period (1\u202648)     trip_mode     Trip mode (see trip mode table)     trip_mode_choice_logsum     Mode choice logsum for trip     parking_cost     Parking costs at trip origin and destination, calculated as one-half of the costs at each end, with subsidies considered.     tnc_single_wait_time     Wait time for single pay TNC     tnc_shared_wait_time     Wait time for shared\\pooled TNC     taxi_wait_time     Wait time for taxi     cost_parking     Cost of parking ($2023)     cost_fare_drive     Taxi/TNC fare (including Taxi/TNC cost of transit access/egress) ($2023)     distance_walk     Distance walked in miles (including access/egress walk distances of a transit mode)     time_mm     Micromobility time     distance_mm     Micromobility distance     cost_fare_mm     Micromobility cost ($2023)     distance_bike     Bike distance     time_wait_drive     Wait times for Taxi/TNC/NEV modes     trip_period     A string indicating the skim period for the trip (\u201cEA\u201d,\u201dAM\u201d,\u201dMD\u201d,\u201dPM\u2019,\u201dEV\u201d)     tour_participants     Number of joint tour participants if joint tour, else 1     distance_total     Total distance traveled on a trip     cost_operating_drive     Auto operating cost ($2023)     weight_trip     Trip weight defined as the ratio of number of particpants on a  trip to the assumed occupancy rate of a mode (SHARED2,3)     weight_person_trip     Person trip weight defined as the ratio of the number of participants on a trip to sample rate of the model run     inbound     TRUE if trip is in outbound direction, else FALSE     time_drive     Auto time     distance_drive     Auto distance     cost_toll_drive     Auto toll cost ($2023)     time_transit_in_vehicle     Transit in-vehicle time     time_rapid_transit_in_vehicle     Rapid transit in-vehicle time     time_express_bus_transit_in_vehicle     Express bus in-vehicle time     time_local_bus_transit_in_vehicle     Local bus in-vehicle time     time_light_rail_transit_in_vehicle     Light rail transit in-vehicle time     time_commuter_rail_transit_in_vehicle     Commuter rail in-vehicle time     time_transit_initial_wait     Transit initial-wait time     cost_fare_transit     Transit fare ($2023)     transfers_transit     Number of transfers     time_bike     Bike time     time_walk     Walk mode time     cost_total     Sum of all costs a trip might incur (auto operating, toll, transit fare)     time_total     Total travel time (including iIVT and access/egress and wait times for all modes)     value_of_time_category_id     Value of time bin. 1: Low, 2: Medium, 3: High     origin_micro_prm_dist     Distance from trip origin MGRA to closest premium transit stop by microtransit     dest_micro_prm_dist     Distance from trip destination MGRA to closest premium transit stop by microtransit     microtransit_orig     Distance from trip origin MGRA to closest local transit stop by microtransit     microtransit_dest     Distance from trip destination MGRA to closest local transit stop by microtransit     microtransit_available     TRUE if microtransit is available for trip, else FALSE     nev_orig     True if Neighborhood Electric Vehicle is available at origin     nev_dest     True if Neighborhood Electric Vehicle is available at destination     nev_available     TRUE if Neighborhood Electric Vehicle is available, else FALSE     microtransit_access_available_out     TRUE if microtransit is available from the origin, else FALSE     nev_access_available_out     TRUE if neighborhood electric vehicle is available from the origin, else FALSE     microtransit_egress_available_out     Availability of microtransit egress in the outbound direction     nev_egress_available_out     Availability of NEV egress in the outbound direction     microtransit_access_available_in     Availability of microtransit access in the inbound direction     nev_access_available_in     Availability of NEV egress in the inbound direction     microtransit_egress_available_in     Availability of microtransit egress in the inbound direction     nev_egress_available_in     Availability of microtransit egress in the outbound direction     sample_rate     Sample rate     otaz     Origin TAZ     dtaz     Destination TAZ"},{"location":"outputs.html#crossborder-model-tour-mode-definitions","title":"Crossborder Model Tour Mode Definitions","text":"Field     Description     DRIVEALONE     Drive alone     SHARED2     Shared ride with 2 participants     SHARED3     Shared ride with 3+ participants     WALK     Walk"},{"location":"outputs.html#crossborder-model-auto-demand-matrices","title":"Crossborder Model auto demand matrices","text":"Table Name     Description     SR2_&lt;&gt;     Shared Ride 2 for &lt;&gt;     SR3_&lt;&gt;     Shared Ride 3 for &lt;&gt;     SOV_&lt;&gt;     Drive Alone for &lt;&gt;     where TIME PERIOD = EA, AM, MD, PM, EV"},{"location":"outputs.html#crossborder-model-transit-demand-matrices","title":"Crossborder Model transit demand matrices","text":"Table Name     Description     WLK_SET_set1_&lt;&gt;     PNR_SET_set1_&lt;&gt;     KNR_SET_set1_&lt;&gt;     TNC_SET_set1_&lt;&gt;     WLK_SET_set2_&lt;&gt;     PNR_SET_set2_&lt;&gt;     KNR_SET_set2_&lt;&gt;     TNC_SET_set2_&lt;&gt;     WLK_SET_set3_&lt;&gt;     PNR_SET_set3_&lt;&gt;     KNR_SET_set3_&lt;&gt;     TNC_SET_set3_&lt;&gt;     where TIME PERIOD = EA, AM, MD, PM, EV"},{"location":"outputs.html#crossborder-model-non-motorized-demand-matrices","title":"Crossborder Model non-motorized demand matrices","text":"Table Name     Description     WALK_&lt;&gt;     Walk for &lt;&gt;     BIKE_&lt;&gt;     Bike for &lt;&gt;     where TIME PERIOD = EA, AM, MD, PM, EV"},{"location":"outputs.html#commercial-vehicle-model-cvm","title":"Commercial Vehicle Model (.\\cvm)","text":"<p>This directory contains San Diego commercial travel model outputs.</p> File      Description     final_commercial_accessibility.csv     contains the commercial vehicle accessibility by category for each zone     final_cv_trips.csv     contains the commercial vehicle trips by Origin-Destination, trip purpose and travel time     final_establishments.csv     details of the establishments generated for each zone     final_establishments_all.csv     final_households.csv     information of the households which attract CVM trips      final_land use.csv     land use information of the MGRA Zones     final_routes     route information of CVM trips     final_trips     Final trip-based CVM summary     Trip Tables (where TOD is AM, MD, PM or EV)     cvmtrips_TOD.omx     contains the commercial vehicle trips of the TOD, has three components (modes): Car, light truck, medium truck and heavy truck"},{"location":"outputs.html#cvm-commercial-accessibility-file","title":"CVM commercial accessibility file","text":"Field      Description      estab_acc_estab_group1      Establishments access to establishment customer attractions:establishment_attraction_ret + establishment_attraction_whl + establishment_attraction_mfg      estab_acc_estab_group2      Establishments access to establishment customer attractions:establishment_attraction_iut + establishment_attraction_laf      estab_acc_estab_group3      Establishments access to establishment customer attractions:establishment_attraction_agm + establishment_attraction_con + establishment_attraction_epo + establishment_attraction_mhs + establishment_attraction_trn     estab_acc_estab_group4      Establishments access to establishment customer attractions:establishment_attraction_ifr    tnc_acc_estab_all      TNC access to establishment customer attractions (all industries)    estab_acc_hh_food       Establishment access to household food delivery attractors    estab_acc_hh_package      Establishment access to household package delivery attractors    estab_acc_logsum      Establishment accessibility logsum (total establishment attractors \u2013 visits to non-residential customers of all types)    household_acc_logsum      Household accessibility logsum (total household attractors \u2013 visits to residential customers)     accessibility      estab_acc_logsum + household_acc_logsum     acc_hh_goods      Accessibility to households for goods delivery only     zone_id      The MGRA id of the zone"},{"location":"outputs.html#cvm-trips-file","title":"CVM trips file","text":"Field      Description      route_id      the route id on which the trip is assigned to      route_trip_num      the number of trips on the route_id      trip_origin      origin zone (MGRA) of the trip     trip_destination      destination zone (MGRA) of the trip     trip_origin_purpose      purpose of the stop at the origin of the trip:     <p>       \u2022 base - return to establishment     <p>       \u2022 goods_delivery - deliver goods     <p>       \u2022 goods_pickup - pickup goods     <p>       \u2022 home - go to driver's home     <p>       \u2022 maintenance - maintenance (refueling, vehicle maintenance, driver breaks/meals)     <p>       \u2022 service - provide a service     <p>     terminate - end route (vehicle day), go to terminal destination chosen for route    trip_destination_purpose      purpose of the stop at the destination of the trip:     <p>       \u2022 base - return to establishment     <p>       \u2022 goods_delivery - deliver goods     <p>       \u2022 goods_pickup - pickup goods     <p>       \u2022 home - go to driver's home     <p>       \u2022 maintenance - maintenance (refueling, vehicle maintenance, driver breaks/meals)     <p>       \u2022 service - provide a service     <p>     terminate - end route (vehicle day), go to terminal destination chosen for route    trip_destination_type      attraction land use type at the destination:     <p>       \u2022 base - establishment location (any land use type)     <p>       \u2022 warehouse - warehouse, distribution center land use type     <p>       \u2022 intermodal - airport, seaport, rail intermodal land use type     <p>       \u2022 commercial - commercial land use type (not warehouse or intermodal)     <p>       \u2022 residential - residential land use type    trip_start_time      start time of the trip (half-hour intervals counted from beginning)    trip_travel_time      travel time (in motion time) of the vehicle during the trip     dwell_time      resting/dwelling time of the vehicle during the trip (stop duration)     route_elapsed_time      total time elapsed during the trip (trip_travel_time + dwell_time)      cv_trip_id      the unique trip id of the cv trip (route_id + route_trip_num)"},{"location":"outputs.html#cvm-establishments-file","title":"CVM establishments file","text":"Field      Description      industry_number      The category of industry that the establishment belongs to range from 1 to 12      industry_name      The name of the industry that the establishment belongs to (EPO, AGM, CON etc.)      LUZ      Land Use Zone ( TAZ Number)      zone_id      MGRA Number     employees      The number of employees in the establishment      size_class      The categorized size of the establishment based on the number of employees (range: 1-7)      sample_rate      the percentage of sample selected (generally 1)      has_attraction      TRUE if the zone has trip attraction, otherwise FALSE      attractions      number of trip attractions by the establishment      has_generation      TRUE if the zone has trip generation, otherwise FALSE      n_routes      number of routes the establishment generated      accessibility      Total accessibility to household + establishment attractions      establishment_id      unique id of the establishment"},{"location":"outputs.html#cvm-establishments_all-file","title":"CVM establishments_all file","text":"Field      Description      industry_number      The category of industry that the establishment belongs to range from 1 to 12      industry_name      The name of the industry that the establishment belongs to (EPO, AGM, CON etc.)      LUZ      Land Use Zone ( TAZ Number)      zone_id      MGRA Number     employees      The number of employees in the establishment      size_class      The categorized size of the establishment based on the number of employees (range: 1-7)      sample_rate      the percentage of sample selected (generally 1)      attractions      number of trip attractions by the establishment      industry_group      Range 1-5      beta_industry_group      Parameter used in the establishment attractions model      constant      Parameter used in the establishment attractions model      has_attraction_probability      Intermediate result of establishments attractor model. Probability that the establishment will have deliveries or service stops      random      Random number used in attraction generation calculations      has_attraction      TRUE if the zone has trip attraction, otherwise FALSE      establishment_id      unique id of the establishment"},{"location":"outputs.html#cvm-households-file","title":"CVM households file","text":"Field      Description      home_zone_id      MGRA of the household      income      annual household income      hhsize      household size      HHT      household type (ranges 1-7)     auto_ownership      number of vehicles owned by the household      num_workers      number of workers in the household      sample_rate      the percentage of sample selected (generally 1)      num_adults      number of adults in the household      num_nonworker_adults      number of non-working adults in the households      num_children      number of children in the household      has_attraction_food      TRUE if the household attracts food delivery trips, otherwise FALSE      has_attraction_package      TRUE if the household attracts package delivery trips, otherwise FALSE      has_attraction_service      TRUE if the household attracts service trips, otherwise FALSE      household_id      unique household id"},{"location":"outputs.html#cvm-land_use-file","title":"CVM land_use file","text":"Field      Description      mgra      MGRA id      taz      TAZ number      luz_id      LUZ id      pop      population of the zone  hhp      total household population ( excluding GQ population )      hh      number of households in the zone      hhs      average household size      gq_civ      GQ Civilian      gq_mil      GQ Military      i10      number of households with income $200,000 or more      emp_gov      Government employment      emp_mil       Military employment      emp_ag_min      Agriculture and mining employment      emp_bus_svcs      Business services employment      emp_bus_svcs      Business services employment      emp_fin_res_mgm      Finance and Resource Management employment      emp_educ      Education employment      emp_hlth      Health employment      emp_ret      Retail employment      emp_trn_wrh      Transportation and warehouse employment      emp_con      Construction employment      emp_utl      Utilities employment      emp_mnf      Manufacturing employment      emp_whl      Wholesale employment      emp_ent      Entertainment employment      emp_accm      Accomodation employment      emp_food      Food employment      emp_oth      Other employment      emp_non_ws_wfh      Non-wage and salary work from home employment      emp_non_ws_oth      Non-wage and salary other employment      emp_total      Total employment      pseudomsa      Pseudo MSA -     <p>       1: Downtown     <p>       2: Central     <p>       3: North City     <p>       4: South Suburban     <p>       5: East Suburban     <p>       6: North County West     <p>       7: North County East     <p>       8: East County      enrollgradekto8      Grade School K-8 enrollment      enrollgrade9to12      Grade School 9-12 enrollment      othercollegeenroll      Other College Enrollment      hotelroomtotal      Total Number of hotel rooms      parkactive      Acres of active park      openspaceparkpreserve      Acres of Open Park or Preserve      beachactive      Acres of active beaches      district27      District 27      milestocoast      Distance in miles to the nearest coast      acres      Total acres in the MGRA      land_acres      Acres of land in the MGRA      effective_acres      Effective acres in the MGRA      truckregiontype      Truck Region type      exp_hourly      Hourly Parking Expenditure      exp_daily      Daily Parking Expenditure      exp_monthly      Monthly Parking Expenditure      parking_type      Parking choice at destination:       <p>         0 = Not constrained to remote parking       <p>         1 = Park at destination       <p>         2 = Remote parking       <p>         3 = Park at home      parking_spaces      Number of parking spaces available      ech_dist      Elementary school district      hch_dist      High School district      remoteAVParking      Remote AV parking available at MGRA:     <p>       0 = Not available     <p>       1 = Available      refueling_stations      Number of refueling stations in the MGRA      MicroAccessTime      Micro-mobility access time (mins)      microtransit      Number of micro transit facilities      nev      Number of EV Charging stations      toint      Total Intersection      duden      Dwelling unit density      empden      Employment density      popden      Population density      retempden      Retail Employment density      totintbin      Total Intersection Bin      empdenbin      Employment density bin      dudenbin      Dwelling unit density per bin      PopEmpDenPerMi      Population and employment density per mile      TAZ      TAZ id      poe_id      Port of Entry ID ( not used by CVM)      external_work      number of workers if an external zone      external_nonwork      number of nonworkers if an external zone      external_TAZ      is an external TAZ ( 1 if true, 0 if false)      external_MAZ      is an external MAZ ( 1 if true, 0 if false)      walk_dist_local_bus      walking distance ( in miles) to nearest local bus      walk_dist_premium_transit      walking distance ( in miles) to premium transit      micro_dist_local_bus      micro district distance to local bus      micro_dist_premium_transit      micro district distance to premium transit      ML_DIST      distance in miles to managed lanes       AVGTTS      Average travel time savings for all households in each zone across all possible destinations      PCTDETOUR      Percent detour is the percent difference between the AM transponder travel time and the AM non-transponder travel time to sample zones when the general-purpose lanes parallel to all toll lanes using transponders are unavailable      terminal_time      Terminal Time (0,3,4,5,7,10 minutes)      num_hh_food_delivery      Number of households which attract food deliveries      num_hh_package_delivery      Number of households which attract package deliveries      num_hh_service      Number of households which attract service trips      establishment_attraction      Attraction of establishments      establishment_attraction_agm      Attraction of establishments for agriculture and mining      establishment_attraction_con      Attraction of establishments for construction      establishment_attraction_epo      Attraction of establishments for education      establishment_attraction_ifr       Attraction of establishments for information, real estate, finance,professional services      establishment_attraction_iut      Attraction of establishments for industrial and utilities      establishment_attraction_laf       Attraction of establishments for leisure, accommodations, and food      establishment_attraction_mfg      Attraction of establishments for manufacturing      establishment_attraction_mhs       Attraction of establishments for medical and health services      establishment_attraction_mil      Attraction of establishments for military      establishment_attraction_ret       Attraction of establishments for retail trade      establishment_attraction_trn        Attraction of establishments for transportation and warehousing      establishment_attraction_whl       Attraction of establishments for wholesale trade      is_port      TRUE if the zone is a port, otherwise FALSE      zone_id      MGRA id"},{"location":"outputs.html#cvm-final_routes-file","title":"CVM final_routes file","text":"Field      Description      establishment_id      Establishment ID ( Industry ID )      business_type      Name of the industry      route_purpose      Primary purpose of the route:         <p>         \u2022 Goods - pickup and/or deliver goods         <p>         \u2022 Service - provide services to customers         <p>         \u2022 Maintenance - vehicle maintenance or driver business      customer_type      Type of the customer ( residential; non-residential; mixed)    vehicle_type      Type of the vehicle (LV, MUT, SUT)      is_tnc      TRUE if route is a TNC, otherwise FALSE      vehicle_type_abm3      Type of the vehicle ( Passenger car, LHDU, MHDU, and HHDU)      random      Random number used in route generation calculations      start_time      Start Time ( half-hour intervals )      route_start_time_period_      Start time period      origin_stop_type      Origin Stop Type:       <p>       \u2022 base - establishment location (any land use type)       <p>       \u2022 warehouse - warehouse, distribution center land use type       <p>       \u2022 commercial - commercial land use type (not warehouse)       <p>       \u2022 residential - residential land use type      origination_zone      Origin Zone for start of route      destination_stop_type      Destination Stop Type:       <p>       \u2022 base - establishment location (any land use type)       <p>       \u2022 warehouse - warehouse, distribution center land use type       <p>       \u2022 commercial - commercial land use type (not warehouse)       <p>       \u2022 residential - residential land use type      terminal_zone      Destination Zone for termination of route      route_id      unique route id ( or trip id )"},{"location":"outputs.html#cvm-final_trips-file","title":"CVM final_trips file","text":"Field      Description      route_id      the route id on which the trip is assigned to      route_trip_num      the number of trips on the route_id      trip_origin      origin zone (MGRA) of the trip      trip_destination      destination zone (MGRA) of the trip    trip_destination_purpose      purpose of the trip:       <p>         \u2022 base - return to establishment       <p>         \u2022 goods_delivery - deliver goods       <p>         \u2022 goods_pickup - pickup goods       <p>         \u2022 home - go to driver's home       <p>         \u2022 maintenance - maintenance (refueling, vehicle maintenance, driver breaks/meals)       <p>         \u2022 service - provide a service       <p>         \u2022 terminate - end route (vehicle day), go to terminal destination chosen for route      trip_destination_type      attraction land use type at the destination:       <p>         \u2022 base - establishment location (any land use type)       <p>         \u2022 warehouse - warehouse, distribution center land use type       <p>         \u2022 intermodal - airport, seaport, rail intermodal land use type       <p>         \u2022 commercial - commercial land use type (not warehouse or intermodal)       <p>         \u2022 residential - residential land use type      trip_start_time      start time of the trip (half hour intervals counted from beginning)      trip_travel_time      travel time ( in motion time ) of the vehicle during the trip      dwell_time      resting/dwelling time of the vehicle during the trip      route_elapsed_time      total time elapsed during the trip ( trip_travel_time + route_trip_num)      cv_trip_id      the unique trip id of the cv trip (route_id + route_trip_num)      taz_origin      origin zone ( TAZ ) of the trip      taz_destination      destination zone (TAZ) of the trip      vehicle_type      Vehicle types: DRIVEALONE ( passenger car), LHGT, MHDT, or HHDT      tod      Start time period of the trip ( ABM3 categories)      distanceDrive      Trip distance, from traffic_skims_MD      costTollDrive      Trip toll cost, from traffic_skims_MD      costOperatingDrive      Trip operating costs (cents)"},{"location":"outputs.html#resident-model-outputs-resident","title":"Resident model outputs (.\\resident)","text":"<p>This directory contains San Diego resident travel model outputs.</p> File      Description     cdap_joint_spec_(persons).csv     Model specification file for coordinated daily activity pattern model joint tour alternative for (persons)-way interaction terms     cdap_spec_(persons).csv     Model specification file for coordinated daily activity pattern model for (persons)-way interaction terms.     data_dict.csv     Data dictionary for resident model, csv format     data_dict.txt     Data dictionary for resident model, text format     final_accessibility.csv     Resident model aggregate accessibility file      final_disaggregate_accessibility.csv     Resident model disaggregate accessibility file at MGRA level     [final_households.csv](#### Resident Model household file (final_households.csv))     Resident model household file     [final_joint_tour_participants.csv](#### Resident Model joint tour participants file (final_joint_tour_participants.csv))     Resident model joint tour participants file     final_land_use.csv     Resident model land-use file     [final_persons.csv](#### Resident Model vehicle file (final_vehicles.csv))     Resident model persons file     final_proto_disaggregate_accessibility.csv     Resident model disaggregate accessibility file at person level     [final_tours.csv](#### Resident Model tour file (final_tours.csv))     Resident model tour file     [final_trips.csv](#### Resident Model trips file (final_trips.csv))     Resident model trip file     [final_vehicles.csv](#### Resident Model vehicle table (final_vehicles.csv))     Resident model vehicle file     log (directory)     Directory for resident model logging output     model_metadata.yaml     Resident model Datalake metadata file     autoTrips_[tod]_[vot].omx     Residential Auto Trip Matrix for 5 time periods (tod = EA, AM, MD, PM, EV) and three value of time bins (vot = low, med, high)     tranTrips_[tod].omx     Residential Transit Trip Matrix for 5 time periods (tod = EA, AM, MD, PM, EV)     nmotTrips_[tod].omx     Residential Non-motorized Trip Matrix for 5 time periods (tod = EA, AM, MD, PM, EV)     skim_usage.txt     Skim usage file     trace (directory)     Directory for resident model trace output"},{"location":"outputs.html#resident-model-household-file-final_householdscsv","title":"Resident Model household file (final_households.csv)","text":"Field     Description     home_zone_id     Household MGRA - same as mgra     income     Household income in dollars ($2023)     hhsize     Number of persons in household     HHT     Household dwelling unit type. 0: N/A (GQ/vacant), 1: Married couple household, 2: Other family household: Male householder no spouse present, 3: Other family household: Female householder no spouse present, 4: Nonfamily household: Male householder living alone, 5: Nonfamily household: Male householder: Not living alone, 6: Nonfamily household: Female householder: Living alone, 7: Nonfamily household: Female householder: Not living alone     auto_ownership     (Model output) Auto ownership     num_workers     Number of workers in household     building_category     Units in structure. 0: N/A (GQ), 1: Mobile home or trailer, 2: One-family house detached, 3: One-family house attached, 4: 2 Apartments, 5: 3-4 Apartments, 6: 5-9 Apartments, 7: 10-19 Apartments, 8: 20-49 Apartments, 9: 50 or more apartments, 10: Boat, RV, van, etc.     unittype     Household unit type. 0: Non-GQ Household, 1: GQ Household (used in Visualizer)     sample_rate     Sample rate for household       income_in_thousands     Household income in thousands of dollars ($2023)     income_segment     Household income segment (1-4)     num_non_workers     Number of non-workers in household     num_drivers     Number of persons age 16+     num_adults     Number of persons age 18+     ebike_owner     TRUE if household owns an e-bike, else FALSE (output from e-bike owership simulation)     av_ownership     TRUE if household owns an autonomous vehicle, else FALSE (output from AV Ownership Model)     workplace_location_accessibility     Work location choice logsum (output from Disaggregate Accessibility Model)     shopping_accessibility     Shopping primary destination choice logsum (output from Disaggregate Accessibility Model)     othdiscr_accessibility     Other Discretionary primary destination choice logsum (output from Disaggregate Accessibility Model)     numAVowned     Number of autonomous vehicles owned by household (output from Vehicle Type Choice Model)     transponder_ownership     TRUE if household owns a transponder, else FALSE (output from Transponder Ownership Model)     has_joint_tour     1 if household has at least one fully joint tour, else false (output from Coordinated Daily Activity Pattern Model)     num_under16_not_at_school     Number of persons age less than 16 who do not attend school (output from Coordinated Daily Activity Pattern Model)     num_travel_active     Number of persons in household who have an active (type M or N) travel pattern (output from Coordinated Daily Activity Pattern Model)     num_travel_active_adults     Number of adults in household who have an active (type M or N) travel pattern (output from Coordinated Daily Activity Pattern Model)     num_travel_active_preschoolers     Number of preschool children in household who have an active (type M or N) travel pattern (output from Coordinated Daily Activity Pattern Model)     num_travel_active_children     Number of children in household who have an active (type M or N) travel pattern (output from Coordinated Daily Activity Pattern Model)     num_travel_active_non_preschoolers     Number of non-preschoolers household in who have an active (type M or N) travel pattern (output from Coordinated Daily Activity Pattern Model)     participates_in_jtf_model     TRUE if household has a joint tour frequency model, else FALSE (output from Coordinated Daily Activity Pattern Model)     school_escorting_outbound     Alternative number for school escort model in the outbound direction (initial output from School Escort Model)     school_escorting_inbound     Alternative number for school escort model in the inbound direction (output from School Escort Model)     school_escorting_outbound_cond     Alternative number for school escort model in the outbound direction (final output from School Escort Model)     auPkRetail     Auto peak access to retail employment from household TAZ (aggregate accessibility output)     auPkTotal     Auto peak access to total employment from household TAZ (aggregate accessibility output)     auOpRetail     Auto offpeak access to retail employment from household TAZ (aggregate accessibility output)     auOpTotal     Auto offpeak access to total employment from household TAZ (aggregate accessibility output)     trPkRetail     Transit peak access to retail employment from household TAZ (aggregate accessibility output)     trPkTotal     Transit peak access to total employment from household TAZ (aggregate accessibility output)     trPkHH     Transit peak access to total employment from household (aggregate accessibility output)     trOpRetail     Transit offpeak access to retail employment from household TAZ (aggregate accessibility output)     trOpTotal     Transit offpeak access to total employment from household TAZ (aggregate accessibility output)     nmRetail     Walk access to retail employment from household TAZ (aggregate accessibility output)     nmTotal     Walk access to total employment from household TAZ (aggregate accessibility output)     microtransit     Microtransit access time in household MGRA     nev     Neighborhood electric vehicle access time in household MGRA     mgra     Household MGRA - same as home_zone_id     TAZ     Household TAZ     micro_dist_local_bus     Distance to closest local bus stop from household MGRA by microtransit, if available. 999999 if not available.     micro_dist_premium_transit     Distance to closest premium transit stop from household MGRA by microtransit, if available. 999999 if not available.     joint_tour_frequency_composition     Joint tour frequency and composition model choice (output from Joint Tour Frequency\\Composition Model)     num_hh_joint_tours     Number of fully joint tours at the household level (0, 1 or 2) (output from Coordinated Daily Activity Pattern Model and Joint Tour Frequency\\Composition Models)     household_id     Household ID     poverty     Poverty indicator utilized for social equity reports. Percentage value where value &lt;= 2 (200% of the Federal Poverty Level) indicates household is classified under poverty."},{"location":"outputs.html#resident-model-person-file-final_personscsv","title":"Resident Model person file (final_persons.csv)","text":"Field     Description     household_id     Household ID     age     Person age in years     PNUM     Person number in household (1\u2026n where n is number of persons in household)     sex     1: Male, 2: Female     pemploy     Employment status of person. 1: Employed Full-Time, 2: Employed Part-Time, 3: Unemployed or Not in Labor Force, 4: Less than 16 Years Old     pstudent     Student status of person. 1: Pre K-12, 2: College Undergrad+Grad and Prof. School, 3: Not Attending School     ptype     Person type  1: Full-time worker 2: Part-time worker 3: College\\University Student 4: Non-Working Adult 5: Retired 6: Driving-age student 7: Non-driving age student 8: Pre-school\\Age &lt;=5      educ     Educational attainment. 1: No schooling completed, 9: High school graduate, 13: Bacehlor's degree     soc2     Two-digit Standard Occupational Classification (SOC) codes (https://www.bls.gov/oes/current/oes_stru.htm)     is_student     Person is a K12 or college student     school_segment     School location choice model's segment a student belongs to (preschool, grade school, high school, university)     is_worker     Person is a full-time or part-time worker     is_internal_worker     TRUE if worker works internal to region, else FALSE (output from Internal-External Worker Identification Model)     is_external_worker     TRUE if worker works external to region, else FALSE (output from Internal-External Worker Identification Model)     home_zone_id     Household MGRA     time_factor_work     Travel time sensitivity factor for work tours     time_factor_nonwork     Travel time sensitivity factor for non-work tours (Sampled in person preprocessor)     naics_code     Two-digit NAICS code (https://www.census.gov/naics/)     occupation     Occupation String     work_from_home     TRUE if worker and works from home, else FALSE (output from Work From Home Model)     is_out_of_home_worker     TRUE if worker has a usual out of home work location, else FALSE (output from Work From Home Model)     external_workplace_zone_id     MGRA number of external workplace if external worker, else -1 (output from External Workplace Location Choice Model)     external_workplace_location_logsum     Location choice logsum for external workplace location choice model (output from External Workplace Location Choice Model)     external_workplace_modechoice_logsum     Mode choice logsum for mode choice from external workplace location choice model (output from External Workplace Location Choice Model)     school_zone_id     MGRA number of school location, else -9  (output from School Location Choice Model)     school_location_logsum     Location choice logsum for school location choice model, else -9 (output from School Location Choice Model)     school_modechoice_logsum     Mode choice logsum for mode choice from school location choice model, else -9 (output from School Location Choice Model)     distance_to_school     Distance to school if student, else -9  (output from School Location Choice Model)     roundtrip_auto_time_to_school     Round trip offpeak auto time to school, else -9  (output from School Location Choice Model)     workplace_zone_id     MGRA number of internal work location, else -9  (output from Internal Work Location Choice Model)     workplace_location_logsum     Location choice logsum for work location choice model, else -9 (output from Internal Work Location Choice Model)     workplace_modechoice_logsum     Mode choice logsum for mode choice from work location choice model, else -9 (output from Internal Work Location Choice Model)     distance_to_work     Distance to work if internal worker with work location, else -9  (output from Internal Work Location Choice Model)     work_zone_area_type     Area type of work zone for worker if internal worker with work location, else -9 (output from Internal Work Location Choice Model)     auto_time_home_to_work     Peak auto time from home to work if internal worker with work location, else -9  (output from Internal Work Location Choice Model)     roundtrip_auto_time_to_work     Round trip auto travel time to and from work     work_auto_savings     Travel time savings as a result of  using auto vs. walk-transit mode     exp_daily_work     Expected daily cost of parking at work if internal worker with work location, else -9 (output from Internal Work Location Choice Model)     non_toll_time_work     Time from home to work for path without I-15, if worker with internal workplace, else -9     toll_time_work     Time from home to work for path with I-15, if worker with internal workplace, else -9     toll_dist_work     Travel distance for work using a tolled route      toll_cost_work     Toll cost for going to work     toll_travel_time_savings_work     Work travel time savings for using tolled vs. non-tolled routes     transit_pass_subsidy     1 if person has subsidized transit from their employer or school, else 0 (Output from Transit Subsidy Model)     transit_pass_ownership     1 if person owns a transit pass, else 0 (Output from Transit Pass Ownership Model)     free_parking_at_work     TRUE if person has free parking at work, else FALSE (Output from Free Parking Model)     telecommute_frequency     Telecommute frequency if worker who does not work from hom, else null (Output from Telecommute Frequency Model) String \"No_Telecommute\", \"1_day_week\", \"2_3_days_week\", \"4_days_week\"     cdap_activity     Coordinated daily activity pattern type (Output from Coordinated Daily Activity Pattern Model) String \"M\": Mandatory pattern, \"N\": Non-mandatory pattern, \"H\": Home or out of region pattern     travel_active     TRUE if activity pattern is \"M\" or \"N\", else FALSE  (Output from Coordinated Daily Activity Pattern Model)     num_joint_tours     Total number of fully joint tours (Output from Fully Joint Tour Participation Model)     non_mandatory_tour_frequency     Non-Mandatory Tour Frequency Model Choice (Output from Non-Mandatory Tour Frequency Chopice Model)     mandatory_tour_frequency     Mandatory Tour Frequency Model Choice if worker or student, else null (Output from Mandatory Tour Frequency Model). String \"work1\": 1 work tour, \"work2\" 2 work tours, \"school1: 1 school tour, \"school2\" 2 school tours, \"work_and_school\": 1 work and 1 school tour     num_non_mand     Total number of non-mandatory tours (Output from School Escort Model, Non-Mandatory Tour Frequency Model, and At-Work Subtour Model)     num_mand     Total number of mandatory tours  (Output from Mandatory Tour Frequency Model)     num_escort_tours     Total number of escorting tours (Output from School Escort Model and Non-Mandatory Tour Frequency Model)     num_eatout_tours     Total number of eating out tours (Output from Non-Mandatory Tour Frequency Model)     num_shop_tours     Total number of shopping tours (Output from Non-Mandatory Tour Frequency Model)     num_maint_tours     Total number of other maintenance tours (Output from Non-Mandatory Tour Frequency Model)     num_discr_tours     Total number of discretionary tours (Output from Non-Mandatory Tour Frequency Model)     num_social_tours     Total number of social\\visiting tours (Output from Non-Mandatory Tour Frequency Model)     num_work_tours     Total number of work tours  (Output from Mandatory Tour Frequency Model)     num_add_shop_maint_tours     Total number of additional shopping and maintenance tours (Output from Non-Mandatory Tour Frequency Extension Model)     num_add_soc_discr_tours     Total number of additional social\\visiting and other discretionary tours (Output from Non-Mandatory Tour Frequency Extension Model)     person_id     Person ID     miltary     1 if serves in the military, else 0     grade     School grade of person: 0 = N/A (not attending school), 2 = K to grade 8, 5 = Grade 9 to grade 12, 6 = College undergraduate     weeks     Weeks worked during past 12 months 0: N/A (less than 16 years old/did not work during the past 12 .months) 1: 50 to 52 weeks worked during past 12 months 2: 48 to 49 weeks worked during past 12 months 3: 40 to 47 weeks worked during past 12 months 4: 27 to 39 weeks worked during past 12 month 5: 14 to 26 weeks worked during past 12 months 6: 13 weeks or less worked during past 12 months     hours     Usual hours worked per week past 12 months <p> 0: .N/A (less than 16 years old/did not work during the past .12 months), 1..98 .1 to 98 usual hours, 99 .99 or more usual hours     race     Recoded detailed race code 1: .White alone, 2: Black or African American alone, 3: American Indian alone, 4: Alaska Native alone, 5: American Indian and Alaska Native tribes specified; or .American Indian or Alaska Native, not specified and no other races, 6: Asian alone, 7: Native Hawaiian and Other Pacific Islander alone, 8: Some Other Race alone, 9: Two or More Races     hispanic     Hispanic flag: 1: Non-Hispanic, 2: Hispanic"},{"location":"outputs.html#resident-model-vehicle-file-final_vehiclescsv","title":"Resident Model vehicle file (final_vehicles.csv)","text":"Field     Description     vehicle_id     Vehicle ID     household_id     Household ID     vehicle_num     Vehicle number in household from 1\u2026n where n is total vehicles owned by household     vehicle_type     String bodytype_age_fueltype     auto_operating_cost     Auto operating cost for vehicle ($2023 cents/mile)     Range     Range if electric vehicle, else 0     MPG     Miles per gallen for vehicle     vehicle_year     Year of vehicle      vehicle_category     String, Body type (Car, Motorcycle, Pickup, SUV, Van. Autonomous vehicles have _AV extension on body type)     num_occupants     Number of occupants in the vehicle     fuel_type     String. BEV: Battery electric vehicle, Diesel, Gas, Hybrid: Gas\\Electric non plug-in vehicle, PEV: Plug-in hybrid electric vehicle"},{"location":"outputs.html#resident-model-joint-tour-participants-file-final_joint_tour_participantscsv","title":"Resident Model joint tour participants file (final_joint_tour_participants.csv)","text":"Field     Description     participant_id     Participant ID     tour_id     Tour ID     household_id     Household ID     person_id     Person ID     participant_num     Sequent number of participant 1\u2026n where n is total number of participants in joint tour"},{"location":"outputs.html#resident-model-tour-file-final_tourscsv","title":"Resident Model tour file (final_tours.csv)","text":"Field     Description     tour_id     Tour ID     person_id     Person ID     tour_type     Purpose string of the primary activity on the tour: For home-based tours, the purposes are: \u201cwork\u201d, \u201cschool\u201d, \u201cescort\u201d, \u201cshopping\u201d, \u201cothmaint\u201d, \u201ceatout\u201d, \u201csocial\u201d, and \u201cothdiscr\u201d. For work-based subtours, the purposes are \u201cbusiness\u201d, \u201ceat\u201d, and \u201cmaint\u201d.     tour_type_count     The total number of tours within the tour_type     tour_type_num     The sequential number of the tour within the tour_category. In other words if a person has 3 tours; 1 work tour and 2 non-mandatory tours, the tour_type_num would be 1 for the work tour, 1 for the first non-mandatory tour and 2 for the second non-mandatory tour.     tour_num     Sequential tour ID number for a person     tour_count     Total number of tours per person     tour_category     The category string of the primary activity on the tour. \u201cmandatory\u201d, \u201cjoint\u201d, \u201cnon_mandatory\u201d, \u201catwork\u201d     number_of_participants     Number of participants on the tour for fully joint tours, else 1     destination     MGRA number of primary destination     origin     MGRA number of tour origin     household_id     Household ID     start     Half-hour time period of departure from tour origin. Periods are number 1 through 48 where period 1 starts at 3:00 AM.     end     Half-hour time period of arrival back at tour origin. Periods are number 1 through 48 where period 1 starts at 3:00 AM.     duration     Duration of the tour in number of half-hour periods, including all activity episodes and travel     school_esc_outbound     For school tours where the child is being escorted according to the school pickup/dropoff model, this string field indicates the type of escorting in the outbound direction: \u201cpure_escort\u201d or \u201crideshare\u201d     school_esc_inbound     For school tours where the child is being escorted according to the school pickup/dropoff model, this string field indicates the type of escorting in the inbound direction: \u201cpure_escort\u201d or \u201crideshare\u201d     num_escortees     Number of children being escorted on this tour (max of outbound and inbound direction)     tdd     Tour departure and duration. Index of the tour departure and durarion alterntive configs     composition     Composition of tour if joint \u201cadults\u201d, \u201cchildren\u201d     is_external_tour     TRUE if primary destination activity is external to region, else FALSE     is_internal_tour     Whether tour is internal     destination_logsum     Logsum from tour destination choice model     vehicle_occup_1     Tour vehicle with occupancy of 1     vehicle_occup_2     Tour vehicle with occupancy of 2     vehicle_occup_3_5     Tour vehicle with occupancy of 3+     tour_mode     Tour mode string      mode_choice_logsum     Logsum from tour mode choice model     selected_vehicle     Selected vehicle from vehicle type choice model; a string field consisting of [Body type][age][fuel type] and an optional extension \u201c_AV\u201d if the vehicle is an autonomous vehicle     atwork_subtour_frequency     At-work subtour frequency choice model result; a string field with the following values: \u201cno_subtours\u201d, \u201cbusiness1\u201d, \u201cbusiness2\u201d, \u201ceat\u201d, \u201ceat_business\u201d, \u201cmaint\u201d, or blank for non-work tours.     parent_tour_id     Parent tour ID if this is a work-based subtour, else 0     stop_frequency     Stop frequency choice model result; a string value of the form [0\u2026n]out_[0\u2026n]in where the first number is the number of outbound stops and the second number is the number of inbound stops     primary_purpose     Recoding of tour_type where all atwork subtours are identified as \u201catwork\u201d regardless of destination purpose"},{"location":"outputs.html#resident-model-trip-file-final_tripscsv","title":"Resident Model trip file (final_trips.csv)","text":"Field     Description     trip_id     Trip ID     person_id     Person ID     household_id     Household ID     primary_purpose     Primary purpose of tour (see tour table)     trip_num     Sequential number of trip by direction (1\u2026n where n is maximum trips on half-tour, e.g. max stops + 1)     outbound     TRUE if trip is in the outbound direction, else FALSE     destination     MGRA of trip destination     origin     MGRA of trip origin     tour_id     Tour ID     escort_participants     Space delimited string field listing person IDs of other children escorted on this trip, else null     school_escort_direction     String field indicating whether child is being dropped off at school (\u201coutbound\u201d) or picked up from school (\u201cinbound\u201d). \u201cnull\u201d if not a child being picked up or dropped off.     purpose     Purpose at destination     destination_logsum     Logsum from trip destination choice model. -9 if destination is tour origin or primary destination.     depart     Departure time period (1\u202648)     trip_mode     Trip mode string     mode_choice_logsum     Logsum from trip mode choice model     vot     Value of time for trip in dollars per hour ($2023)     owns_transponder     True if household owns transponder. Same as ownTrp      totalWaitSingleTNC     Wait time for single pay TNC     totalWaitSharedTNC     Wait time for shared\\pooled TNC     s2_time_skims     HOV2 travel time      s2_dist_skims     HOV3 travel distance     s2_cost_skims     HOV2 travel toll cost     cost_parking     Parking costs at trip origin and destination, calculated as one-half of the costs at each end, with subsidies considered.     cost_fare_drive     Taxi/TNC fare for any trip or trip portion taken on these modes     distance_walk     Distance walked on a trip (including access/egress for transit modes)     time_mm     Micromobility time     distance_mm     Micromobility distance     cost_fare_mm     Micromobility cost ($2023)     distance_bike     Bike distance     time_wait_drive     Waiting time for a TNC/ Taxi modes     parking_zone     MGRA from parking location choice model at destination, else -1     trip_period     A string indicating the skim period for the trip (\u201cEA\u201d,\u201dAM\u201d,\u201dMD\u201d,\u201dPM\u2019,\u201dEV\u201d)     tour_participants     Number of joint tour participants if joint tour, else 1     distance_total     Trip distance in miles     cost_operating_drive     Auto operating cost ($2023)     weight_trip     Trip weight defined as the ratio of number of particpants on a  trip to the assumed occupancy rate of a mode (SHARED2,3)     weight_person_trip     Person trip weigth defined as the ratio of the number of particpants on a trip to sample rate of the model run     inbound     TRUE if trip is in the inbound direction, else FALSE     time_drive     Auto time     distance_drive     Auto distance     cost_toll_drive     Auto toll cost ($2023)     time_transit_in_vehicle     Transit in-vehicle time     time_rapid_transit_in_vehicle     Rapid transit in-vehicle time     time_express_bus_transit_in_vehicle     Express bus in-vehicle time     time_local_bus_transit_in_vehicle     Local bus in-vehicle time     time_light_rail_transit_in_vehicle     Light rail transit in-vehicle time     time_commuter_rail_transit_in_vehicle     Commuter rail in-vehicle time     time_transit_initial_wait     Transit initial-wait time     cost_fare_transit     Transit fare before subsidy ($2023)     transfers_transit     Number of transfers     time_bike     Bike time     time_walk     Walk mode time     cost_total     total cost of a trip (sum of auto operating, toll, transit fare)     time_total     Total time (sum of drive, bike, walk, initial transit wait, transit time, transit transfer))     time_transit_wait     Total transit wait time (initial, transfer, NEV wait, waiting for school bus)     value_of_time_category_id     Value of time bin. 1: Low, 2: Medium, 3: High     origin_micro_prm_dist     Distance from trip origin MGRA to closest premium transit stop by microtransit     dest_micro_prm_dist     Distance from trip destination MGRA to closest premium transit stop by microtransit     microtransit_orig     Distance from trip origin MGRA to closest local transit stop by microtransit     microtransit_dest     Distance from trip destination MGRA to closest local transit stop by microtransit     microtransit_available     TRUE if microtransit is available for trip, else FALSE     nev_orig     Availability of Neighborhood Electric vehicle at origin     nev_dest     Availability of Neighborhood Electric vehicle at destination     nev_available     TRUE if neighborhood electric vehicle is available, else FALSE     microtransit_access_available_out     TRUE if microtransit is available from the origin, else FALSE     nev_access_available_out     TRUE if neighborhood electric vehicle is available from the origin, else FALSE     microtransit_egress_available_out     Availability of microtransit egress in the outbound direction     nev_egress_available_out     Availability of NEV egress in the outbound direction     microtransit_access_available_in     Availability of microtransit access in the inbound direction     nev_access_available_in     Availability of NEV egress in the inbound direction     microtransit_egress_available_in     Availability of microtransit egress in the inbound direction     nev_egress_available_in     Availability of microtransit egress in the outbound direction     trip_veh_body     Body type of vehicle used for trip, else \u201cnull\u201d     trip_veh_age     Age of vehicle used for trip, else \u201cnull\u201d     trip_veh_fueltype     Fuel type of vehicle used for trip, else \u201cnull\u201d     origin_purpose     Purpose at origin     sample_rate     Sample rate     origin_parking_zone     MGRA from parking location choice model at trip origin, else -1     otaz     Origin TAZ     dtaz     Destination TAZ"},{"location":"outputs.html#resident-model-tour-mode-definitions","title":"Resident Model tour mode definitions","text":"Field     Description     DRIVEALONE     Drive alone     SHARED2     Shared ride with 2 participants     SHARED3     Shared ride with 3+ participants     WALK     Walk     BIKE     Bike     WALK_LOC     Local transit with walk access/egress mode     WALK_PRM     Premium transit with walk access/egress mode     WALK_MIX     Mix (local with premium transfers) transit with walk access/egress mode     PNR_LOC     Local transit with Park&amp;ride access or egress mode     PNR_PRM     Premium transit with Park&amp;ride access or egress mode     PNR_MIX     Mix (local with premium transfers) transit with Park&amp;ride access or egress mode     KNR_LOC     Local transit with Kiss&amp;ride access or egress mode     KNR_PRM     Premium transit with Kiss&amp;ride access or egress mode     KNR_MIX     Mix (local with premium transfers) transit with Kiss&amp;ride access or egress mode     TNC_LOC     Local transit with TNC access or egress mode     TNC_PRM     Premium transit with TNC access or egress mode     TNC_MIX     Mix (local with premium transfers) transit with TNC access or egress mode     TAXI     Taxi     TNC_SINGLE     Private TNC ride     TNC_SHARED     Shared TNC ride     SCH_BUS     School bus     EBIKE     E-bike     ESCOOTER     E-scooter"},{"location":"outputs.html#resident-model-auto-demand-matrices","title":"Resident Model auto demand matrices","text":"Table Name     Description     SOVNOTRPDR_&lt;&gt;     Drive Alone Non-Transponder for &lt;&gt;     SOVTRPDR_&lt;&gt;     Drive Alone Transponder for &lt;&gt;     SR2NOTRPDR_&lt;&gt;     Shared Ride 2 Non-Transponder for &lt;&gt;     SR2TRPDR_&lt;&gt;     Shared Ride 2 Transponder for &lt;&gt;     SR3NOTRPDR_&lt;&gt;     Shared Ride 3 Non-Transponder for &lt;&gt;     SR3TRPDR_&lt;&gt;     Shared Ride 3 Transponder for &lt;&gt;"},{"location":"outputs.html#resident-model-transit-demand-matrices","title":"Resident Model transit demand matrices","text":"Table Name     Description     &lt;transit_class&gt;_GENCOST__&lt;&gt;     Total generalized cost which includes perception factors from assignment     &lt;transit_class&gt;_FIRSTWAIT__&lt;&gt;     actual wait time at initial boarding point     &lt;transit_class&gt;_XFERWAIT__&lt;&gt;     actual wait time at all transfer boarding points     &lt;transit_class&gt;_TOTALWAIT__&lt;&gt;     total actual wait time     &lt;transit_class&gt;_FARE__&lt;&gt;     fare paid     &lt;transit_class&gt;_XFERS__&lt;&gt;     number of transfers     &lt;transit_class&gt;_ACCWALK__&lt;&gt;     access actual walk time prior to initial boarding     &lt;transit_class&gt;_EGRWALK__&lt;&gt;     egress actual walk time after final alighting     &lt;transit_class&gt;_TOTALWALK__&lt;&gt;     total actual walk time     &lt;transit_class&gt;_TOTALIVTT__&lt;&gt;     Total actual in-vehicle travel time     &lt;transit_class&gt;_DWELLTIME__&lt;&gt;     Total dwell time at stops     &lt;transit_class&gt;_BUSIVTT__&lt;&gt;     actual in-vehicle travel time on local bus mode     &lt;transit_class&gt;_LRTIVTT__&lt;&gt;     actual in-vehicle travel time on LRT mode     &lt;transit_class&gt; _CMRIVTT__&lt;&gt;     actual in-vehicle travel time on commuter rail mode     &lt;transit_class&gt; _EXPIVTT__&lt;&gt;     actual in-vehicle travel time on express bus mode     &lt;transit_class&gt;_LTDEXPIVTT__&lt;&gt;     actual in-vehicle travel time on premium bus mode     &lt;transit_class&gt;_BRTIVTT__&lt;&gt;     actual in-vehicle travel time on  BRT mode     *time period = EA, AM, MD, PM, EV     transit_class = BUS, ALLPEN, PREM"},{"location":"outputs.html#resident-model-non-motorized-demand-matrices","title":"Resident Model non-motorized demand matrices","text":"Table Name     Description     WALK_&lt;&gt;     Walk for &lt;&gt;     BIKE_&lt;&gt;     Bike for &lt;&gt;"},{"location":"outputs.html#heavy-truck-model-htm","title":"Heavy Truck Model (.\\htm)","text":"<p>This directory contains San Diego heavy truck model outputs.</p> File      Description     htmtrips_(period).omx ((period) = EA, AM, MD, PM, EV)       HTM trips of (period), by mode (Light, Medium or Heavy trucks) and type of trip (IE, EI or EE)     Htmsummary_files.xlsx     OD-based HTM trip tables by Mode (Light, Medium or Heavy trucks)     final_trips.csv     Aggregate all HTM trips by TAZ and truck type"},{"location":"outputs.html#heavy-truck-model-trip-file-htmsummary_filesxlsx","title":"Heavy Truck Model Trip File ( htmsummary_files.xlsx )","text":"Field      Description      Light      OD-based HTM trip tables for light trucks (LHDT)      Medium      OD-based HTM trip tables for medium trucks (MHDT)      Heavy      OD-based HTM trip tables for heavy trucks (HHDT)"},{"location":"outputs.html#heavy-truck-model-trip-file-final_tripscsv","title":"Heavy Truck Model Trip File ( final_trips.csv )","text":"Field      Description      taz_p      origin zone (TAZ) of the trip      taz_a      destination zone (TAZ) of the trip      Truck_Type      Truck type (Light, Medium and High trucks)    tod      Start time period of the trip (ABM3 time periods)    trips      Sum of trips for corresponding TAZ and Truck Type    distanceDrive      Trip distance, from traffic_skims_MD    timeDrive      Trip time, from traffic_skims_MD    costTollDrive      Trip toll cost, from traffic_skims_MD    costOperatingDrive      Trip operation cost"},{"location":"outputs.html#visitor-model-outputs-visitor","title":"Visitor model outputs (.\\visitor)","text":"<p>This directory contains outputs from the overnight visitor model.</p> File     Description     [final_households.csv](#### Visitor Model household file (final_households.csv))     Visitor model household file     final_land_use.csv     Visitor model land-use file     [final_persons.csv](#### Visitor Model person file (final_persons.csv))     Visitor model person file     [final_tours.csv](#### Visitor Model tour file (final_tours.csv))     Visitor model tour file     [final_trips.csv](#### Visitor Model trip file (final_trips.csv))     Visitor model trip file     model_metadata.yaml     Visitor model Datalake metadata file     nmotVisitortrips_(period).omx     Visitor model non-motorized trips by period (EA, AM, MD, PM, EV)     autoVisitortrips_(period).omx     Visitor model auto trips by period (EA, AM, MD, PM, EV)     transVisitortrips_(period).omx     Visitor model transit trips by period (EA, AM, MD, PM, EV)"},{"location":"outputs.html#visitor-model-household-file-final_householdscsv","title":"Visitor Model household file (final_households.csv)","text":"Field     Description     home_zone_id     Home MGRA     sample_rate     Sample rate     household_id     Household ID     poverty     Poverty indicator utilized for social equity reports. Percentage value where value &lt;= 2 (200% of the Federal Poverty Level) indicates household is classified under poverty."},{"location":"outputs.html#visitor-model-person-file-final_personscsv","title":"Visitor Model person file (final_persons.csv)","text":"Field     Description     household_id     Household ID     home_zone_id     Home MGRA     person_id     Person ID"},{"location":"outputs.html#visitor-model-tour-file-final_tourscsv","title":"Visitor Model tour file (final_tours.csv)","text":"Field     Description     tour_id     Tour ID     tour_type     Type of tour. String. \"dining\", \"recreation\", or \"work\"     purpose_id     Type of tour. 0: work, 1: \"dining, 2: \"recreation\"     visitor_travel_type     Visitor purpose. String. \"business\" or \"personal\"     tour_category     Tour category. All tour categories in the visitor model are \"non-mandatory\"     number_of_participants     Number of participants on tour     auto_available     Auto availability indicator 0: not available, 1: available     income     Income 0 - 4     origin     Tour origin MGRA     tour_num     Sequential number of tour 1 to n where n is total number of tours     tour_count     Number of tours per person     household_id     Household ID     person_id     Person ID     start     Half-hour time period of departure from tour origin. Periods are number 1 through 48 where period 1 starts at 3:00 AM.     end     Half-hour time period of arrival back at tour origin. Periods are number 1 through 48 where period 1 starts at 3:00 AM.     duration     Duration of the tour in number of half-hour periods, including all activity episodes and travel     destination     Tour primary destination MGRA     destination_logsum     Tour destination choice logsum     tour_mode     Tour mode     mode_choice_logsum     Tour mode choice logsum     stop_frequency     Number of stops on tour by direction. String. xout_yin where x is number of stops in the outbound direction and y is the number of stops in the inbound direction     primary_purpose     Primary purpose of a tour. String (recreation, dining, work)"},{"location":"outputs.html#visitor-model-trip-file-final_tripscsv","title":"Visitor Model trip file (final_trips.csv)","text":"Field     Description     trip_id     Trip ID     person_id     Person ID     household_id     Household ID     primary_purpose     Purpose at primary destination of tour. String. \"dining\", \"recreation\", or \"work\"     trip_num     Sequential number of trip on half-tour from 1 to 4     outbound     TRUE if outbound, else FALSE     trip_count     Number of trips in a tour     destination     Destination MGRA     origin     Origin MGRA     tour_id     Tour ID     purpose     Destination purpose. String. \"dining\", \"recreation\", or \"work\"     destination_logsum     Destination choice logsum     depart     Departure time period (1\u202648)     trip_mode     Trip mode (see trip mode table)     trip_mode_choice_logsum     Mode choice logsum for trip     vot_da     will drop     vot_s2     will drop     vot_s3     will drop     parking_cost     Parking costs at trip origin and destination, calculated as one-half of the costs at each end, with subsidies considered.     tnc_single_wait_time     Wait time for single pay TNC     tnc_shared_wait_time     Wait time for shared\\pooled TNC     taxi_wait_time     Wait time for taxi     cost_parking     Cost of parking ($2023)     cost_fare_drive     Taxi/TNC fare for any trip or trip portion taken on these modes     distance_walk     Distance walked on a trip (including access/egress for transit modes)     time_mm     Micromobility time     distance_mm     Micromobility distance     cost_fare_mm     Micromobility cost ($2023)     distance_bike     Bike distance     time_wait_drive     Ridehail/Taxi wait times for a trip     trip_period     A string indicating the skim period for the trip (\u201cEA\u201d,\u201dAM\u201d,\u201dMD\u201d,\u201dPM\u2019,\u201dEV\u201d)     tour_participants     Number of tour participants     distance_total     Trip distance     cost_operating_drive     Auto operating cost ($2023)     weight_trip     Trip weight defined as the ratio of number of particpants on a  trip to the assumed occupancy rate of a mode (SHARED2,3)     weight_person_trip     Person trip weigth defined as the ratio of the number of particpants on a trip to sample rate of the model run     vot     Value of time in dollars per hour ($2023)     inbound     TRUE if trip is in outbound direction, else FALSE     time_drive     Auto time     distance_drive     Auto distance     cost_toll_drive     Auto toll cost ($2023)     time_transit_in_vehicle     Transit in-vehicle time     time_rapid_transit_in_vehicle     Rapid transit in-vehicle time     time_express_bus_transit_in_vehicle     Express bus in-vehicle time     time_local_bus_transit_in_vehicle     Local bus in-vehicle time     time_light_rail_transit_in_vehicle     Light rail transit in-vehicle time     time_commuter_rail_transit_in_vehicle     Commuter rail in-vehicle time     time_transit_initial_wait     Transit initial-wait time     cost_fare_transit     Transit fare ($2023)     transfers_transit     Number of transfers     time_bike     Bike time     time_walk     Walk mode time     cost_total     total cost of a trip (sum of auto operating, toll, transit fare)     time_total     Total travel time (including iIVT and access/egress and wait times for all modes)     value_of_time_category_id     Value of time bin. 1: Low, 2: Medium, 3: High     origin_micro_prm_dist     Distance from trip origin MGRA to closest premium transit stop by microtransit     dest_micro_prm_dist     Distance from trip destination MGRA to closest premium transit stop by microtransit     microtransit_orig     Distance from trip origin MGRA to closest local transit stop by microtransit     microtransit_dest     Distance from trip destination MGRA to closest local transit stop by microtransit     microtransit_available     TRUE if microtransit is available for trip, else FALSE     nev_orig     True if Neghoborhood Electric Vehicle is available at origin     nev_dest     True if Neghoborhood Electric Vehicle is available at destination     nev_available     TRUE if neighborhood electric vehicle is available, else FALSE     microtransit_access_available_out     TRUE if microtransit is available from the origin, else FALSE     nev_access_available_out     TRUE if neighborhood electric vehicle is available from the origin, else FALSE     microtransit_egress_available_out     Availability of microtransit egress in the outbound direction     nev_egress_available_out     Availability of NEV egress in the outbound direction     microtransit_access_available_in     Availability of microtransit access in the inbound direction     nev_access_available_in     Availability of NEV egress in the inbound direction     microtransit_egress_available_in     Availability of microtransit egress in the inbound direction     nev_egress_available_in     Availability of microtransit egress in the outbound direction     sample_rate     Sample rate     otaz     Origin TAZ     dtaz     Destination TAZ"},{"location":"outputs.html#visitor-models-tour-mode-choice-definitions","title":"Visitor model\u2019s tour mode choice definitions","text":"Field     Description     DRIVEALONE     Drive alone     SHARED2     Shared ride with 2 participants     SHARED3     Shared ride with 3+ participants     WALK     Walk     BIKE     Bike     WALK_LOC     Local transit with walk access/egress mode     WALK_PRM     Premium transit with walk access/egress mode     WALK_MIX     Mix (local with premium transfers) transit with walk access/egress mode     TAXI     Taxi     TNC_SINGLE     Private TNC ride     TNC_SHARED     Shared TNC ride"},{"location":"outputs.html#visitor-model-auto-demand-matrices","title":"Visitor Model auto demand matrices","text":"Table Name     Description     SR2_&lt;&gt;     Shared Ride 2 for &lt;&gt;     SR3_&lt;&gt;     Shared Ride 3 for &lt;&gt;     SOV_&lt;&gt;     Drive Alone for &lt;&gt;     where TIME PERIOD = EA, AM, MD, PM, EV"},{"location":"outputs.html#visitor-model-transit-demand-matrices","title":"Visitor Model transit demand matrices","text":"Table Name     Description     WLK_SET_set1_&lt;&gt;     PNR_SET_set1_&lt;&gt;     KNR_SET_set1_&lt;&gt;     TNC_SET_set1_&lt;&gt;     WLK_SET_set2_&lt;&gt;     PNR_SET_set2_&lt;&gt;     KNR_SET_set2_&lt;&gt;     TNC_SET_set2_&lt;&gt;     WLK_SET_set3_&lt;&gt;     PNR_SET_set3_&lt;&gt;     KNR_SET_set3_&lt;&gt;     TNC_SET_set3_&lt;&gt;     where TIME PERIOD = EA, AM, MD, PM, EV"},{"location":"outputs.html#visitor-model-non-motorized-demand-matrices","title":"Visitor Model non-motorized demand matrices","text":"Table Name     Description     WALK_&lt;&gt;     Walk for &lt;&gt;     BIKE_&lt;&gt;     Bike for &lt;&gt;     where TIME PERIOD = EA, AM, MD, PM, EV"},{"location":"outputs.html#trip-mode-definitions","title":"Trip Mode Definitions","text":"Field     Description     DRIVEALONE     Drive alone     SHARED2     Shared ride with 2 participants     SHARED3     Shared ride with 3+ participants     WALK     Walk     BIKE     Bike     WALK_LOC     Local transit with walk access/egress mode     WALK_PRM     Premium transit with walk access/egress mode     WALK_MIX     Mix (local with premium transfers) transit with walk access/egress mode     PNR_LOC     Local transit with Park&amp;ride access or egress mode     PNR_PRM     Premium transit with Park&amp;ride access or egress mode     PNR_MIX     Mix (local with premium transfers) transit with Park&amp;ride access or egress mode     KNR_LOC     Local transit with Kiss&amp;ride access or egress mode     KNR_PRM     Premium transit with Kiss&amp;ride access or egress mode     KNR_MIX     Mix (local with premium transfers) transit with Kiss&amp;ride access or egress mode     TNC_LOC     Local transit with TNC access or egress mode     TNC_PRM     Premium transit with TNC access or egress mode     TNC_MIX     Mix (local with premium transfers) transit with TNC access or egress mode     TAXI     Taxi     TNC_SINGLE     Private TNC ride     TNC_SHARED     Shared TNC ride     SCH_BUS     School bus     EBIKE     E-bike     ESCOOTER     E-scooter"},{"location":"release-notes.html","title":"Release Notes","text":""},{"location":"release-notes.html#version-1521-december-20-2024","title":"Version 15.2.1 (December 20, 2024)","text":"<p>Multiple bugs were fixed and some recalibration was done since the release of version 15.2.0. Version 15.2.1 was used for the draft 2025 RP modeling.</p>"},{"location":"release-notes.html#features","title":"Features","text":"<ul> <li>PR 249: Addition of calibration scripts</li> <li>PR 251, PR 258, PR 259, &amp; PR 262: Calibration updates (atwork stop location, work from home, bike shares, work location) including additional mode choice coefficients for ebike owners</li> <li>PR 256: Increase travel time reporter threshold from 30 to 45 minutes</li> <li>PR 257: Adds option to skip travel time reporter (was previously included in data exporter)</li> <li>PR 266: 2032 and 2040 added as options when selecting a scenario year in the scenario creation GUI</li> <li>PR 268: Assume owned ebike in travel time reporter</li> <li>PR 271: Recalibrate bike mode share in response to AT network updates </li> <li>PR 252, PR 254, PR 260, PR 265, PR 280, &amp; PR 284: Documentation updates</li> </ul>"},{"location":"release-notes.html#bug-fixes","title":"Bug Fixes","text":"<ul> <li>PR 253: Removal of bike logsum copy from Emme GUI</li> <li>PR 255: Removal of input checker step</li> <li>PR 263: Update bike lane AT network field</li> <li>PR 274, PR 276, &amp; PR 278: MAAS model fixes including crash on failure and force escort participants column to be read in as string</li> </ul>"},{"location":"release-notes.html#version-1520-november-14-2024","title":"Version 15.2.0 (November 14, 2024)","text":"<p>Since release 15.1.0, several bug fixes and new features were added. Results of ABM3 using Version 15.2 are anticipated to be presented to the SANDAG Board of Directors in Spring 2025.</p>"},{"location":"release-notes.html#activitysim-version","title":"ActivitySim Version","text":"<p>No changes made to ActivitySim version.</p>"},{"location":"release-notes.html#features_1","title":"Features","text":"<ul> <li>PR 169: Set TNC to transit modes to use KNR to transit skims and removed TNC to transit skims</li> <li>PR 203: Added tracking of disk space usage</li> <li>PR 204, PR 219, &amp; PR 232: Flexible fleets improvement and calibration</li> <li>PR 206: Reduced sensitivity of electric vehicle ownership to number of chargers</li> <li>PR 210: Added input network and land use paths to scenario table in Datalake</li> <li>PR 222: Updated version number in the property file</li> <li>PR 223: Updated validation to work with networks created from TNED</li> <li>PR 226: Included FFC attribute in Emme network for reporting</li> <li>PR 239: Added option to skip validation in master run</li> <li>PR 240, PR 242, &amp; PR 243: Fixes to MAZ to transit stop distances and walk times</li> <li>PR 241: Fixes to bike logsums and micromobility mode choice</li> <li>PR 215, PR 235,  PR 237, PR 238, PR 244, &amp; PR 246: Documentation updates</li> </ul>"},{"location":"release-notes.html#bug-fixes_1","title":"Bug Fixes","text":"<ul> <li>PR 212, PR 213, PR 217, &amp; PR 245: File and configuration cleanup</li> <li>PR 214, PR 216, PR 220, PR 221, PR 225, PR 228, PR 230, PR 231, &amp; PR 233: Various fixes to Travel Time Reporter</li> <li>PR 218: Allowed for traffic assignment to work without any tolled links</li> <li>PR 224: Removed Java-based walk logsum step</li> <li>PR 227: Fixed issue with link transit travel times</li> <li>PR 229: Fixed Java unicode error with filepaths containing folders starting with the letter U</li> <li>PR 234: Corrected mixed party type to correct value</li> <li>PR 242 &amp; PR 243: Fix issues with MAZ to stop distances</li> </ul>"},{"location":"release-notes.html#version-1510-september-4-2024","title":"Version 15.1.0 (September 4, 2024)","text":"<p>As mentioned in the notes for Version 15.0.2, several improvements to the Commercial Vehicle Model (CVM) were made, largely due to SANDAG staff realizing that the survey used to estimate the CVM had likely overestimated the amount of commercial vehicle travel that was made on a given day in the region. New weights were estimated, and then the CVM was recalibrated to match these new weights. After doing this, it was found that modeled highway volumes were lower than observed counts, so some further adjustments were made to get them back up. Some components of the resident model were recalibrated to better match the survey, a new database started being used, a bug in the transit network was fixed, and other miscelaneous improvements were made.</p>"},{"location":"release-notes.html#activitysim-version_1","title":"ActivitySim Version","text":"<p>No changes made to ActivitySim version.</p>"},{"location":"release-notes.html#features_2","title":"Features","text":"<ul> <li>PR 167, PR 172, &amp; PR 173: Recalibration of the Commercial Vehicle Model to reflect newly-calculated Commercial Vehicle Survey weights.</li> <li>PR 182, PR 186, PR 194, &amp; PR 195: Miscellaneous calibration, particularly to counter the decrease in freeway travel caused by the CVM update.</li> <li>PR 176 &amp; PR 177: A new database was created for Version 15.1.0 and necessary scripts were modified to point to the new database. Go here to see detailed changes in the database and here for changes in the reporting tool.</li> <li>PR 184, PR 186, &amp; PR 193: The number of EV chargers each year were updated using numbers given by planning, and recalibration was done to ensure that the EV ownership rates for no build scenarios matched the targets.</li> <li>PR 178, PR 188, &amp; PR 189: In previous releases the crossborder model had its own constants.yaml file, which contained a lot of the same values in the common constants.yaml file, meaning that both files would need to be edited. The crossborder model now instead reads from the common constants.yaml file.</li> <li>PR 179, PR 181, PR 190, PR 191, &amp; PR 192: Miscellaneous updates to the scenario creation GUI and scenario build process.</li> </ul>"},{"location":"release-notes.html#bug-fixes_2","title":"Bug Fixes","text":"<ul> <li>PR 168, PR 170, PR 171, PR 175, &amp; PR 185: A bug in the transit network where connectors were being encoded with the wrong units was fixed. This resulted in a sharp increase in the number of transit boardings so some additional calibration was needed to get them back down to observed levels.</li> <li>PR 174 &amp; PR 180: Miscellaneous file cleanup and restoration.</li> </ul>"},{"location":"release-notes.html#version-1502-july-3-2024","title":"Version 15.0.2 (July 3, 2024)","text":"<p>Since the release of version 15.0.1 more updates were made, particularly regarding the new commercial vehicle model. More updates to the CVM will be forthcoming due to ongoing revision based on new data sources.</p>"},{"location":"release-notes.html#activitysim-version_2","title":"ActivitySim Version","text":"<p>No changes made to ActivitySim version.</p>"},{"location":"release-notes.html#features_3","title":"Features","text":"<ul> <li>PR 155 &amp; PR 159: Updated the Wiki to reflect changes made for ABM3.</li> <li>PR 156: Made changes to distribution of commercial vehicle type mapping to the categories used in assignment.</li> <li>PR 157: Added calibration factors for determining the probability of a tour made by a single- or multi-unit truck terminating at a given stop.</li> <li>PR 158: Changed firm synthesis to be done at the TAZ level instead of the MGRA level.</li> </ul>"},{"location":"release-notes.html#bug-fixes_3","title":"Bug Fixes","text":"<ul> <li>PR 160: Removed an input file no longer used by the updated heavy truck model.</li> </ul>"},{"location":"release-notes.html#version-1501-june-12-2024","title":"Version 15.0.1 (June 12, 2024)","text":"<p>During the initial testing of the 2025 Regional Plan initial concept, some critical model issues were identified and fixed.</p>"},{"location":"release-notes.html#activitysim-version_3","title":"ActivitySim Version","text":"<p>No changes made to ActivitySim version.</p>"},{"location":"release-notes.html#features_4","title":"Features","text":"<ul> <li>PR 152: TNC_SHARED was not being properly disabled in 2022 due to misplaced parentheses.</li> <li>PR 148: Fixed TNC_SHARED mode choice to restrict to ride hail tours and help shares on joint tours.</li> <li>Issue 143: Added parameter to discount wait times for rapid bus.</li> </ul>"},{"location":"release-notes.html#bug-fixes_4","title":"Bug Fixes","text":"<ul> <li>PR 150: Updated EI inputs at interstate cordons to reflect 2022 counts.</li> <li>PR 149: Updated MAZ ID for Otay Mesa East Point of Entry from Series 13 to Series 15.</li> <li>PR 147: Updated MGRA references for external cordons in airport models from Series 13 to Series 15.</li> <li>PR 146: Removed suffix from labels in runtime summary.</li> <li>PR 145: Added parking location placeholder datasets needed to open calibration visualizer.</li> <li>Commit a825ae3: Updated CBX inputs to use number of enplanements.</li> <li>Commit 305cdcf: Updated reporting of airport transit costs to be in dollars instead of cents.</li> <li>Commit 363d05a: Removed addition of \u201cpoverty\u201d field when writing output tables as that had been added to reading of input table.</li> <li>Commit 34e4a1d: Set year after which vehicles must have transponders from 2035 to 2029.</li> <li>Commit dc07cc9: Increased default flexible fleet diversion constants.</li> <li>Commit 726f98a: Updated some future year signal factors and truck toll factors on SR-11.</li> </ul>"},{"location":"release-notes.html#version-1500-may-23-2024","title":"Version 15.0.0 (May 23, 2024)","text":"<p>For use in the 2025 Region Plan (RP), SANDAG has developed a new activity-based travel model, known as ABM3. The biggest change from SANDAG\u2019s previous ABM, ABM2+, is the transition from the Java-based CT-RAMP modeling platform to the open-source Python-based ActivitySim platform that has been developed by a consortium of public agencies (of which SANDAG is a founding member) for the past decade. ABM3 will be the first ActivitySim model to be used in production for planning purposes. While most of the model components from ABM3 were translated from ABM2+, there were several notable enhancements that were made, which are described below. Further, several models were either re-estimated and/or recalibrated to match 2022 data.</p>"},{"location":"release-notes.html#activitysim-version_4","title":"ActivitySim Version","text":"<ul> <li>SANDAG/activitysim v15.0.0: This is based on a fork of the ActivitySim consortium repo and customized code in BayDAG_estimation branch.</li> <li>SANDAG/activitysim-cvm v15.0.0: This specific version of ActivitySim is required to run the new Commercial Vehicle Model (CVM) in ABM3. It is based on a fork of the ActivitySim repo under CamSys and customized code in time-settings branch.</li> </ul>"},{"location":"release-notes.html#features_5","title":"Features","text":"<ul> <li>ABM PR 68: The base year was updated from 2016 to 2022, allowing the behavioral models to reflect changes in travel behavior derived from the onset of the COVID-19 pandemic.</li> <li>ABM PR 65: The zone system was transitioned from a 3-zone system (TAZ, MAZ, TAP) to a 2-zone system (TAZ, MAZ).</li> <li>ABM PR 66: E-bike and E-scooter were added as travel modes.</li> <li>ABM PR 64: A new commercial vehicle model (CVM) was implemented using ActivitySim, that includes firm synthesis, commercial vehicle tours, and TNC services such as food delivery.</li> <li>ABM PR 133: Network editing was changed from the ArcInfo-based TCOVED to TNED, a new network editing system.</li> <li>ABM PR 104: Flexible fleet services were added for full trips along with first-mile access to and last-mile egress from fixed-route transit.</li> <li>ABM PR 9: The airport model has been updated with new access options, including the proposed automated people-mover.</li> <li>ABM PR 53: The cross-border model was updated, including a new wait time model.</li> <li>Asim PR 635: A new disaggregate accessibility calculation step was introduced to improve the precision of accessibilities used by modeling components.</li> <li>ABM PR 82: Transit assignment for different time periods is now run in parallel.</li> <li>ABM Configs: The auto ownership model has been moved before work and school location.</li> <li>Asim PR 613: The shadow pricing algorithm was updated to constrain mandatory tour locations to availability instead of traditional shadow pricing.</li> <li>ABM PR 86: Model results are automatically written to a database stored in the cloud via Microsoft Azure Services.</li> </ul>"},{"location":"release-notes.html#new-resident-model-components","title":"New Resident Model Components","text":"<ul> <li>Autonomous Vehicle Ownership</li> <li>External Worker Identification</li> <li>External Workplace Location</li> <li>Transit Pass Subsidy</li> <li>Transit Pass Ownership</li> <li>Vehicle Type Choice</li> <li>Telecommute Frequency</li> <li>External Joint Tour Identification</li> <li>External Joint Tour Location</li> <li>External Nonmandatory Tour Identification</li> <li>External Nonmandatory Tour Destination</li> <li>Vehicle Allocation</li> </ul>"},{"location":"reports.html","title":"Reports","text":""},{"location":"reports.html#report-files-directory","title":"Report Files Directory","text":"<p>The report files are produced by the SANDAG travel model. </p>"},{"location":"reports.html#external-external-model-trip-list-eetripcsv","title":"External-External Model Trip List (.\\eetrip.csv)","text":"Field     Description     tripID     unique identifier of trip     departTimeFiveTod     trip departure time ABM five time of day period     originTAZ     trip origin TAZ     destination TAZ     trip destination TAZ     tripMode     trip mode     valueOfTimeCategory     trip value of time category     transponderAvailable     boolean indicator of toll transponder availability on trip     avUsed     boolean indicator of autonomous vehicle usage on trip     weightTrip     weight of record to use for trip metrics     weightPersonTrip     weight of record to use for person trip metrics     timeDrive     time (minutes) travelled using auto mode(s) on trip (excluding transit access/egress), if applicable     distanceDrive     distance (miles) travelled using auto mode(s) on trip (excluding transit access/egress), if applicable     costTollDrive     cost ($) spent on auto mode(s) tolls on trip (excluding transit access/egress), if applicable     costOperatingDrive     cost ($) spent on auto mode(s) operation (gas/maintenance/fees) on trip, if applicable     timeTotal     time (minutes) travelled on trip     distanceTotal     distance (miles) travelled on trip     costTotal     cost ($) of trip"},{"location":"reports.html#external-internal-model-trip-list-eitripcsv","title":"External-Internal Model Trip List (.\\eitrip.csv)","text":"Field     Description     tripID     unique identifier of trip     departTimeFiveTod     trip departure time ABM five time of day period     originTAZ     trip origin TAZ     destination TAZ     trip destination TAZ     tripMode     trip mode     valueOfTimeCategory     trip value of time category     transponderAvailable     boolean indicator of toll transponder availability on trip     avUsed     boolean indicator of autonomous vehicle usage on trip     weightTrip     weight of record to use for trip metrics     weightPersonTrip     weight of record to use for person trip metrics     timeDrive     time (minutes) travelled using auto mode(s) on trip (excluding transit access/egress), if applicable     distanceDrive     distance (miles) travelled using auto mode(s) on trip (excluding transit access/egress), if applicable     costTollDrive     cost ($) spent on auto mode(s) tolls on trip (excluding transit access/egress), if applicable     costOperatingDrive     cost ($) spent on auto mode(s) operation (gas/maintenance/fees) on trip, if applicable     timeTotal     time (minutes) travelled on trip     distanceTotal     distance (miles) travelled on trip     costTotal     cost ($) of trip"},{"location":"reports.html#loaded-highway-network-shape-file-hwyloadshp-hwyloadshp","title":"Loaded Highway Network Shape File (hwyLoad.shp (.\\hwyload.shp))","text":"Field Description hwycovid unique identifier of highway link link_name link name len_mile link length (miles) count_jur count jurisdiction code count_stat count station number count_loc count location code ifc initial functional class ifc_desc initial functional class description ihov link operation type itruck truck restriction code post_speed posted speed limit iway one or two way operations imed median type from_node A node number from_nm cross street name at from end of link to_node B node number to_nm cross street name at to end of link total_flow total vehicle flow abTotFlow AB directional vehicle flow baTotFlow BA directional vehicle flow ab_vmt AB directional vehicle miles travelled ba_vmt BA directional vehicle miles travelled vmt total vehicle miles travelled ab_vht AB directional vehicle hours travelled ba_vht BA directional vehicle hours travelled vht total vehicle hours travelled ab_ea_flow AB directional vehicle flow for ABM early am time period ba_ea_flow BA directional vehicle flow for ABM early am time period ab_am_flow AB directional vehicle flow for ABM am peak time period ba_am_flow BA directional vehicle flow for ABM am peak time period ab_md_flow AB directional vehicle flow for ABM midday time period ba_md_flow BA directional vehicle flow for ABM midday time period ab_pm_flow AB directional vehicle flow for ABM pm peak time period ba_pm_flow BA directional vehicle flow for ABM pm peak time period ab_ev_flow AB directional vehicle flow for ABM evening time period ba_ev_flow BA directional vehicle flow for ABM evening time period abAutoFlow AB directional vehicle flow for autos (sov, sr2, sr3) baAutoFlow BA directional vehicle flow for autos (sov, sr2, sr3) abSovFlow AB directional vehicle flow for single occupancy vehicles baSovFlow BA directional vehicle flow for single occupancy vehicles abHov2Flow AB directional vehicle flow for high occupancy (2 persons) vehicles baHov2Flow BA directional vehicle flow for high occupancy (2 persons) vehicles abHov3Flow AB directional vehicle flow for high occupancy (3+ persons) vehicles baHov3Flow BA directional vehicle flow for high occupancy (3+ persons) vehicles abTrucFlow AB directional vehicle flow for trucks baTrucFlow BA directional vehicle flow for trucks abBusFlow AB directional vehicle flow for preloaded bus baBusFlow BA directional vehicle flow for preloaded bus ab_ea_mph AB directional loaded speed (miles/hour) for ABM early am time period ba_ea_mph BA directional loaded speed (miles/hour) for ABM early am time period ab_am_mph AB directional loaded speed (miles/hour) for ABM am peak time period ba_am_mph BA directional loaded speed (miles/hour) for ABM am peak time period ab_md_mph AB directional loaded speed (miles/hour) for ABM midday time period ba_md_mph BA directional loaded speed (miles/hour) for ABM midday time period ab_pm_mph AB directional loaded speed (miles/hour) for ABM pm peak time period ba_pm_mph BA directional loaded speed (miles/hour) for ABM pm peak time period ab_ev_mph AB directional loaded speed (miles/hour) for ABM evening time period ba_ev_mph BA directional loaded speed (miles/hour) for ABM evening time period geometry linestring geometry of highway link"},{"location":"reports.html#loaded-highway-network-by-abm-five-time-of-day-hwyload_csv-hwyloadcsv","title":"Loaded Highway Network by ABM Five Time of Day (hwyload_&lt;&gt;.csv) (.\\hwyload.csv)   Field Description   ID1 unique identifier of highway link   AB_Flow_PCE AB directional flow passenger car equivalents   BA_Flow_PCE BA directional flow passenger car equivalents   AB_Time AB directional loaded travel time (minutes)   BA_Time BA directional loaded travel time (minutes)   AB_VOC AB directional volume to capacity   BA_VOC BA directional volume to capacity   AB_V_Dist_T AB directional length   BA_V_Dist_T BA directional length   AB_VHT AB directional vehicle hours of travel   BA_VHT BA directional vehicle hours of travel   AB_Speed AB directional loaded speed   BA_Speed BA directional loaded speed   AB_VDF AB directional volume delay function   BA_VDF BA directional volume delay function   AB_MSA_Flow AB directional average of iterations flow   BA_MSA_Flow BA directional average of iterations flow   AB_MSA_Time AB directional average of iterations loaded travel time   BA_MSA_Time BA directional average of iterations loaded travel time   AB_Flow_SOV_NTPL AB directional flow for drive alone non-transponder low value of time vehicle class   BA_Flow_SOV_NTPL BA directional flow for drive alone non-transponder low value of time vehicle class   AB_Flow_SOV_TPL AB directional flow for drive alone transponder low value of time vehicle class   BA_Flow_SOV_TPL BA directional flow for drive alone transponder low value of time vehicle class   AB_Flow_SR2L AB directional flow for shared ride 2 low value of time vehicle class   BA_Flow_SR2L BA directional flow for shared ride 2 low value of time vehicle class   AB_Flow_SR3L AB directional flow for shared ride 3+ low value of time vehicle class   BA_Flow_SR3L BA directional flow for shared ride 3+ low value of time vehicle class   AB_Flow_SOV_NTPM AB directional flow for drive alone non-transponder medium value of time vehicle class   BA_Flow_SOV_NTPM BA directional flow for drive alone non-transponder medium value of time vehicle class   AB_Flow_SOV_TPM AB directional flow for drive alone transponder medium value of time vehicle class   BA_Flow_SOV_TPM BA directional flow for drive alone transponder medium value of time vehicle class   AB_Flow_SR2M AB directional flow for shared ride 2 medium value of time vehicle class   BA_Flow_SR2M BA directional flow for shared ride 2 medium value of time vehicle class   AB_Flow_SR3M AB directional flow for shared ride 3+ medium value of time vehicle class   BA_Flow_SR3M BA directional flow for shared ride 3+ medium value of time vehicle class   AB_Flow_SOV_NTPH AB directional flow for drive alone non-transponder high value of time vehicle class   BA_Flow_SOV_NTPH BA directional flow for drive alone non-transponder high value of time vehicle class   AB_Flow_SOV_TPH AB directional flow for drive alone transponder high value of time vehicle class   BA_Flow_SOV_TPH BA directional flow for drive alone transponder high value of time vehicle class   AB_Flow_SR2H AB directional flow for shared ride 2 high value of time vehicle class   BA_Flow_SR2H BA directional flow for shared ride 2 high value of time vehicle class   AB_Flow_SR3H AB directional flow for shared ride 3+ high value of time vehicle class   BA_Flow_SR3H BA directional flow for shared ride 3+ high value of time vehicle class   AB_Flow_lhd AB directional flow for light heavy duty truck vehicle class   BA_Flow_lhd BA directional flow for light heavy duty truck vehicle class   AB_Flow_mhd AB directional flow for medium heavy duty truck vehicle class   BA_Flow_mhd BA directional flow for medium heavy duty truck vehicle class   AB_Flow_hhd AB directional flow for heavy heavy duty truck vehicle class   BA_Flow_hhd BA directional flow for heavy heavy duty truck vehicle class   AB_Flow AB directional flow   BA_Flow BA directional flow","text":""},{"location":"reports.html#loaded-highway-network-file-hwytcadcsv","title":"Loaded Highway Network File (hwytcad.csv)   Column Name Description   ID Unique identifier assigned to each model run   HWYSegGUID Highway segment globally unique identifier (GUID)   Length Length of link in miles   Dir Link direction where: 0 = Center City Walk Links, 1 = Northbound, 2 = Westbound, 3 = Southbound, 4 = Eastbound   hwycov-id:1 SANDAG-assigned link ID   SPHERE Jurisdiction sphere of influence   NM Street name   FXNM Program assigned cross street name at the FROM end of the link   TXNM Program assigned cross street name at the TO end of the link   AN A node number   BN B node number   ASPD Adjusted link speed in mph   YR The year the link opened to traffic   PROJ Project ID in the regional roadway network   FC Roadway functional class where: 1 = Freeway, 2 = Prime Arterial, 3 = Major Arterial, 4 = Collector, 5 = Local Collector, 6 = Rural Collector, 7 = Local (non-circulation element) Road, 8 = Freeway Connector Ramp, 9 = Local Ramp, 10 = TAZ Connector, 11 = Rail Line, 12 = Bus Street, 99 = Walk Links, Transfer Links or Center City Walk Links   FFC Federal functional class where: 0 = everything else other than 1, 2, and 9; 1 = Interstate Freeway; 2 = Other Freeway or Expressway; 3 = Principal Arterial; 4 = Minor Arterial; 5 = Major Collector; 6 = Minor Collector; 9 = Not Classified   HOV Roadway Operation Restriction where: 1 = General Purpose; 2 = 2+ HOV (Managed lanes if toll &gt;1); 3 = 3+ HOV (Managed lanes if toll &gt; 1); 4 = Toll Lane   EATRUCK Early AM Truck Restriction where: 1 = All Vehicle Classes, 2 = HHDT Excluded, 3 = MHDT &amp; HHDT Excluded, 4 = LHDT, MHDT &amp; HHDT Excluded (All Trucks), 5 = HHDT Only, 6 = MHDT &amp; HHDT Only, 7 = LHDT, MHDT &amp; HHDT Only (Truck Only)   AMTRUCK AM Truck Restriction where: 1 = All Vehicle Classes, 2 = HHDT Excluded, 3 = MHDT &amp; HHDT Excluded, 4 = LHDT, MHDT &amp; HHDT Excluded (All Trucks), 5 = HHDT Only, 6 = MHDT &amp; HHDT Only, 7 = LHDT, MHDT &amp; HHDT Only (Truck Only)   MDTRUCK Midday Truck Restriction where: 1 = All Vehicle Classes, 2 = HHDT Excluded, 3 = MHDT &amp; HHDT Excluded, 4 = LHDT, MHDT &amp; HHDT Excluded (All Trucks), 5 = HHDT Only, 6 = MHDT &amp; HHDT Only, 7 = LHDT, MHDT &amp; HHDT Only (Truck Only)   PMTRUCK PM Truck Restriction where: 1 = All Vehicle Classes, 2 = HHDT Excluded, 3 = MHDT &amp; HHDT Excluded, 4 = LHDT, MHDT &amp; HHDT Excluded (All Trucks), 5 = HHDT Only, 6 = MHDT &amp; HHDT Only, 7 = LHDT, MHDT &amp; HHDT Only (Truck Only)   EVTRUCK Evening Truck Restriction where: 1 = All Vehicle Classes, 2 = HHDT Excluded, 3 = MHDT &amp; HHDT Excluded, 4 = LHDT, MHDT &amp; HHDT Excluded (All Trucks), 5 = HHDT Only, 6 = MHDT &amp; HHDT Only, 7 = LHDT, MHDT &amp; HHDT Only (Truck Only)   SPD Link speed in mph   WAY One or two way link indicator where: 1 = One-way link, 2 = Two-way link   MED Median type where: 1 = No median, 2 = Raised or fixed median, 3 = Continuous left turn center lane   COST Cost associated with the link   ABAU Number of auxiliary lanes in the FROM-TO direction   ABCNT Intersection control type at the TO end of the link: 0 = No Control, 1 = Traffic Signal, 2 = All-Way Stop Sign, 3 = Two-Way Stop Sign, 4 = Ramp Meter, 5 = Ramp Meter with HOV lane meter, 6 = Light Rail Crossing, 7 = Toll Booth, 9 = Prevent Control   ABTL Intersection approach through lanes at the TO end of the link: 0~4 = number of through lanes, 7 = Free, 8 = Prohibited, 9 = No dedicated lane for the movement   ABRL Intersection approach right-turn lanes at the TO end of the link: 0~2 = number of through lanes, 7 = Free, 8 = Prohibited, 9 = No dedicated lane for the movement   ABLL Intersection approach left-turn lanes at the TO end of the link: 0~2 = number of through lanes, 7 = Free, 8 = Prohibited, 9 = No dedicated lane for the movement   ABGC Intersection green-to-cycle ratio at the TO end of the link (%)   ABPLC Per-lane capacity per hour in the TO direction of the link   BAAU Number of auxiliary lanes in the TO-FROM direction   BACNT Intersection control type at the FROM end of the link: 0 = No Control, 1 = Traffic Signal, 2 = All-Way Stop Sign, 3 = Two-Way Stop Sign, 4 = Ramp Meter, 5 = Ramp Meter with HOV lane meter, 6 = Light Rail Crossing, 7 = Toll Booth, 9 = Prevent Control   BATL Intersection approach through lanes at the FROM end of the link: 0~4 = number of through lanes, 7 = Free, 8 = Prohibited, 9 = No dedicated lane for the movement   BARL Intersection approach right-turn lanes at the FROM end of the link: 0~2 = number of through lanes, 7 = Free, 8 = Prohibited, 9 = No dedicated lane for the movement   BALL Intersection approach left-turn lanes at the FROM end of the link: 0~2 = number of through lanes, 7 = Free, 8 = Prohibited, 9 = No dedicated lane for the movement   BAGC Intersection green-to-cycle ratio at the FROM end of the link (%)   BAPLC Per-lane capacity per hour in the FROM direction of the link   relifac Reliability factor for the link   TOLL2_EA Early AM Toll cost for Toll 2 vehicles   TOLL2_AM AM Toll cost for Toll 2 vehicles   TOLL2_MD Midday Toll cost for Toll 2 vehicles   TOLL2_PM PM Toll cost for Toll 2 vehicles   TOLL2_EV Evening Toll cost for Toll 2 vehicles   TOLL3_EA Early AM Toll cost for Toll 3 vehicles   TOLL3_AM AM Toll cost for Toll 3 vehicles   TOLL3_MD Midday Toll cost for Toll 3 vehicles   TOLL3_PM PM Toll cost for Toll 3 vehicles   TOLL3_EV Evening Toll cost for Toll 3 vehicles   TOLL4_EA Early AM Toll cost for Toll 4 vehicles   TOLL4_AM AM Toll cost for Toll 4 vehicles   TOLL4_MD Midday Toll cost for Toll 4 vehicles   TOLL4_PM PM Toll cost for Toll 4 vehicles   TOLL4_EV Evening Toll cost for Toll 4 vehicles   TOLL5_EA Early AM Toll cost for Toll 5 vehicles   TOLL5_AM AM Toll cost for Toll 5 vehicles   TOLL5_MD Midday Toll cost for Toll 5 vehicles   TOLL5_PM PM Toll cost for Toll 5 vehicles   TOLL5_EV Evening Toll cost for Toll 5 vehicles   TOLL_EA Early AM Toll Cost (in cents per mile)   TOLL_AM AM Toll Cost (in cents per mile)   TOLL_MD Midday Toll Cost (in cents per mile)   TOLL_PM PM Toll Cost (in cents per mile)   TOLL_EV Evening Toll Cost (in cents per mile)   ABCP_EA Early AM mid-link capacity in the TO direction   ABCP_AM AM mid-link capacity in the TO direction   ABCP_MD Midday mid-link capacity in the TO direction   ABCP_PM PM mid-link capacity in the TO direction   ABCP_EV Evening mid-link capacity in the TO direction   BACP_EA Early AM mid-link capacity in the FROM direction   BACP_AM AM mid-link capacity in the FROM direction   BACP_MD Midday mid-link capacity in the FROM direction   BACP_PM PM mid-link capacity in the FROM direction   BACP_EV Evening mid-link capacity in the FROM direction   ABCX_EA Early AM intersection approach capacity in the TO direction   ABCX_AM AM intersection approach capacity in the TO direction   ABCX_MD Midday intersection approach capacity in the TO direction   ABCX_PM PM intersection approach capacity in the TO direction   ABCX_EV Evening intersection approach capacity in the TO direction   BACX_EA Early AM intersection approach capacity in the FROM direction   BACX_AM AM intersection approach capacity in the FROM direction   BACX_MD Midday intersection approach capacity in the FROM direction   BACX_PM PM intersection approach capacity in the FROM direction   BACX_EV Evening intersection approach capacity in the FROM direction   ABCH_EA Early AM hourly mid-link capacity in the TO direction   ABCH_AM AM hourly mid-link capacity in the TO direction   ABCH_MD Midday hourly mid-link capacity in the TO direction   ABCH_PM PM hourly mid-link capacity in the TO direction   ABCH_EV Evening hourly mid-link capacity in the TO direction   BACH_EA Early AM hourly mid-link capacity in the FROM direction   BACH_AM AM hourly mid-link capacity in the FROM direction   BACH_MD Midday hourly mid-link capacity in the FROM direction   BACH_PM PM hourly mid-link capacity in the FROM direction   BACH_EV Evening hourly mid-link capacity in the FROM direction   ABTM_EA Early AM link travel time (minutes) in the FROM-TO direction   ABTM_AM AM link travel time (minutes) in the FROM-TO direction   ABTM_MD Midday link travel time (minutes) in the FROM-TO direction   ABTM_PM PM link travel time (minutes) in the FROM-TO direction   ABTM_EV Evening link travel time (minutes) in the FROM-TO direction   BATM_EA Early AM link travel time (minutes) in the TO-FROM direction   BATM_AM AM link travel time (minutes) in the TO-FROM direction   BATM_MD Midday link travel time (minutes) in the TO-FROM direction   BATM_PM PM link travel time (minutes) in the TO-FROM direction   BATM_EV Evening link travel time (minutes) in the TO-FROM direction   ABTX_EA Early AM intersection delay time (minutes) in the TO end   ABTX_AM AM intersection delay time (minutes) in the TO end   ABTX_MD Midday intersection delay time (minutes) in the TO end   ABTX_PM PM intersection delay time (minutes) in the TO end   ABTX_EV Evening intersection delay time (minutes) in the TO end   BATX_EA Early AM intersection delay time (minutes) in the FROM end   BATX_AM AM intersection delay time (minutes) in the FROM end   BATX_MD Midday intersection delay time (minutes) in the FROM end   BATX_PM PM intersection delay time (minutes) in the FROM end   BATX_EV Evening intersection delay time (minutes) in the FROM end   ABLN_EA Early AM number of lanes in the FROM-TO direction   ABLN_AM AM number of lanes in the FROM-TO direction   ABLN_MD Midday number of lanes in the FROM-TO direction   ABLN_PM PM number of lanes in the FROM-TO direction   ABLN_EV Evening number of lanes in the FROM-TO direction   BALN_EA Early AM number of lanes in the TO-FROM direction   BALN_AM AM number of lanes in the TO-FROM direction   BALN_MD Midday number of lanes in the TO-FROM direction   BALN_PM PM number of lanes in the TO-FROM direction   BALN_EV Evening number of lanes in the TO-FROM direction   ABSCST_EA Early AM period AB directional travel cost   ABSCST_AM AM period AB directional travel cost   ABSCST_MD Midday period AB directional travel cost   ABSCST_PM PM period AB directional travel cost   ABSCST_EV Evening period AB directional travel cost   BAH2CST_EA Early AM period BA directional HOV2 travel cost   BAH2CST_AM AM period BA directional HOV2 travel cost   BAH2CST_MD Midday period BA directional HOV2 travel cost   BAH2CST_PM PM period BA directional HOV2 travel cost   BAH2CST_EV Evening period BA directional HOV2 travel cost   ABH3CST_EA Early AM period AB directional HOV3 travel cost   ABH3CST_AM AM period AB directional HOV3 travel cost   ABH3CST_MD Midday period AB directional HOV3 travel cost   ABH3CST_PM PM period AB directional HOV3 travel cost   ABH3CST_EV Evening period AB directional HOV3 travel cost   BAH3CST_EA Early AM period BA directional HOV3 travel cost   BAH3CST_AM AM period BA directional HOV3 travel cost   BAH3CST_MD Midday period BA directional HOV3 travel cost   BAH3CST_PM PM period BA directional HOV3 travel cost   BAH3CST_EV Evening period BA directional HOV3 travel cost   ABSTM_EA Early AM period AB directional transit flow   ABSTM_AM AM period AB directional transit flow   ABSTM_MD Midday period AB directional transit flow   ABSTM_PM PM period AB directional transit flow   ABSTM_EV Evening period AB directional transit flow   BASTM_EA Early AM period BA directional transit flow   BASTM_AM AM period BA directional transit flow   BASTM_MD Midday period BA directional transit flow   BASTM_PM PM period BA directional transit flow   BASTM_EV Evening period BA directional transit flow   ABPRELOAD_EA Early AM period AB directional preload flow   ABPRELOAD_AM AM period AB directional preload flow   ABPRELOAD_MD Midday period AB directional preload flow   ABPRELOAD_PM PM period AB directional preload flow   ABPRELOAD_EV Evening period AB directional preload flow   BAPRELOAD_EA Early AM period BA directional preload flow   BAPRELOAD_AM AM period BA directional preload flow   BAPRELOAD_MD Midday period BA directional preload flow   BAPRELOAD_PM PM period BA directional preload flow   BAPRELOAD_EV Evening period BA directional preload flow   AB_GCRatio Intersection green-to-cycle ratio at the TO end of the link (%)   BA_GCRatio Intersection green-to-cycle ratio at the FROM end of the link (%)   AB_Cycle Cycle time at the AB end of the link   BA_Cycle Cycle time at the BA end of the link   AB_PF Performance factor in the AB direction   BA_PF Performance factor in the BA direction   ALPHA1 Volume delay function (VDF) parameter Alpha1   BETA1 Volume delay function (VDF) parameter Beta1   ALPHA2 Volume delay function (VDF) parameter Alpha2   BETA2 Volume delay function (VDF) parameter Beta2   geometry Geospatial data representation of the link","text":""},{"location":"reports.html#aggregated-transit-flow-table-transit_aggflowcsv","title":"Aggregated Transit Flow Table (transit_aggflow.csv)   Column Name Description   MODE Transit mode (BUS, PREM, ALLPEN)   ACCESSMODE Access mode (WLK, PNR, KNR)   TOD Time of day (EA, AM, MD, PM, EV)   LINK_ID Link ID   AB_TransitFlow A-B Direction Transit Flow   BA_TransitFlow B-A Direction Transit Flow   AB_NonTransit A-B Direction Non Transit Flow   BA_NonTransit B-A Direction Non Transit Flow   AB_TotalFlow A-B Direction Total Flow   BA_TotalFlow B-A Direction Total Flow   AB_Access_Walk_Flow A-B Direction Access Walk Flow   BA_Access_Walk_Flow B-A Direction Access Walk Flow   AB_Xfer_Walk_Flow A-B Direction Transfer Walk Flow   BA_Xfer_Walk_Flow B-A Direction Transfer Walk Flow   AB_Egress_Walk_Flow A-B Direction Egress Walk Flow   BA_Egress_Walk_Flow B-A Direction Egress Walk Flow","text":""},{"location":"reports.html#transit-flow-table-transit_flowcsv","title":"Transit Flow Table (transit_flow.csv)   Column Name Description   MODE Transit mode (BUS, PREM, ALLPEN)   ACCESSMODE Access mode (WLK, PNR, KNR)   TOD Time of day (EA, AM, MD, PM, EV)   ROUTE Sequential Route Number   FROM_STOP From Stop ID   TO_STOP To Stop ID   CENTROID Centroid   FROMMP From milepost   TOMP To milepost   TRANSITFLOW Transit flow   BASEIVTT Base in-vehicle time   COST Cost   VOC Volume to Capacity","text":""},{"location":"reports.html#on-and-off-transit-file-transit_onoffcsv","title":"On and Off Transit File (transit_onoff.csv)   Column Name Description   MODE Transit mode (BUS, PREM, ALLPEN)   ACCESSMODE Access mode (WLK, PNR, KNR)   TOD Time of day (EA, AM, MD, PM, EV)   ROUTE Sequential Route Number   STOP Stop ID   BOARDINGS Number of boardings   ALIGHTINGS Number of alightings   WALKACCESSON Number of walk access boardings   DIRECTTRANSFERON Number of transfer boardings   WALKTRANSFERON Number of walk transfer boardings   DIRECTTRANSFEROFF Number of transfer alightings   WALKTRANSFEROFF Number of walk transfer alightings   EGRESSOFF Number of walk egress alightings","text":""},{"location":"reports.html#transit-link-file-transitlinkcsv","title":"Transit Link File (transitLink.csv)   Column Name Description   trcovID Transit link ID, unique with AB direction field   AB 1/0 indicator of AB directionality   geometry Transit link linestring geometry","text":""},{"location":"reports.html#transit-route-file-transitroutecsv","title":"Transit Route File (transitRoute.csv)   Column Name Description   Route_ID Transit route ID   Route_Name Route number (first three digits), direction (1/2), and configuration (last two digits)   Mode Line haul mode of route:         4 = coaster         5 = sprinter/trolley         8 = prem express         9 = regular express         10 = local bus        AM_Headway ABM five time of day am peak time period headway   PM_Headway ABM five time of day pm peak time period headway   OP_Headway ABM five time of day midday time period headway   Night_Headway ABM five time of day early am and evening time period headway   Night_Hours Hours of transit route operation during ABM five time of day early am and evening time periods   Config Route number (first three digits), direction (1/2), and configuration (last two digits)   Fare Transit fare cost ($) of route   geometry Transit route linestring geometry","text":""},{"location":"reports.html#transit-stop-file-transitstopcsv","title":"Transit Stop File (transitStop.csv)   Column Name Description   Stop_ID Transit stop ID   Route_ID Transit route ID   Link_ID Transit link ID   Pass_Count Passenger count   Milepost Mile post   Longitude Longitude of stop location   Latitude Latitude of stop location   NearNode Transit node ID   FareZone Fare zone   StopName Name of transit stop   geometry Transit stop point geometry","text":""},{"location":"reports.html#mgra-travel-times-am-period-walkmgraswithin45min_amcsv","title":"MGRA Travel Times - AM Period (walkMgrasWithin45Min_AM.csv)   Column Name Description   i Origin MGRA   j Destination MGRA   transit Travel time (in minutes) from i to j by transit mode; 999 if not accessible   walk Travel time (in minutes) from i to j by walking; 999 if not accessible   bike Travel time (in minutes) from i to j by biking; 999 if not accessible   microtransit Travel time (in minutes) from i to j by microtransit; 999 if not accessible   nev Travel time (in minutes) from i to j by neighborhood electric vehicle (NEV); 999 if not accessible   ebike Travel time (in minutes) from i to j by electric bike (e-bike); 999 if not accessible   escooter Travel time (in minutes) from i to j by electric scooter (e-scooter); 999 if not accessible","text":""},{"location":"reports.html#mgra-travel-times-md-period-walkmgraswithin45min_mdcsv","title":"MGRA Travel Times - MD Period (walkMgrasWithin45Min_MD.csv)   Column Name Description   i Origin MGRA   j Destination MGRA   transit Travel time (in minutes) from i to j by transit mode; 999 if not accessible   walk Travel time (in minutes) from i to j by walking; 999 if not accessible   bike Travel time (in minutes) from i to j by biking; 999 if not accessible   microtransit Travel time (in minutes) from i to j by microtransit; 999 if not accessible   nev Travel time (in minutes) from i to j by neighborhood electric vehicle (NEV); 999 if not accessible   ebike Travel time (in minutes) from i to j by electric bike (e-bike); 999 if not accessible   escooter Travel time (in minutes) from i to j by electric scooter (e-scooter); 999 if not accessible","text":""},{"location":"running.html","title":"Installing and Running ABM3","text":"<p>This page describes how to install and run ABM3, including hardware and software requirements. In general, a powerful server is required to run the model. The main software required for the model includes EMME, Python, and Java. EMME is a commercial transportation modeling platform that must be purchased separately and requires a computer with a Windows operating system. Python is an open-source cross-platform programming language that is the core language of ActivitySim. Java is an open-source programming language required for certain bespoke non-ActivitySim model components. </p>"},{"location":"running.html#system-requirements","title":"System Requirements","text":"<p>ABM3 runs on a Microsoft Windows workstation or server, with the minimum and recommended system specification as follows:</p> <p>Minimum specification:</p> <ul> <li> <p>Operating System: 64-bit Windows 7, 64-bit Windows 8 (8.1), 64-bit Windows 10, 64-bit Windows Server 2019</p> </li> <li> <p>Processor: 24-core CPU processor</p> </li> <li> <p>Memory: 1 TB RAM</p> </li> <li> <p>Disk space: 500 GB</p> </li> </ul> <p>Recommended specification:</p> <ul> <li> <p>Operating System: 64-bit Windows 10</p> </li> <li> <p>Processor: Intel CPU Xeon Gold / AMD CPU Threadripper Pro (24+ cores)</p> </li> <li> <p>Memory: 1 TB RAM</p> </li> <li> <p>Disk space: 1000 GB</p> </li> </ul> <p>In general, a higher CPU core count and RAM will result in faster run times as long as ActivitySim is configured to utilize the additional processors and RAM.</p> <p>Note that the model is unlikely to run on servers that have less than 1 TB of RAM, unless chunking is set to active and in explicit mode (requires an upcoming version of ActivitySim 1.3)</p>"},{"location":"running.html#software-requirements","title":"Software Requirements","text":"<p>To run ABM3, there are certain software that should be installed on your workstation including: EMME, Python2.7 package manager Anaconda2, Python3 package manager Anaconda3, and Java.</p> <p>The ABM3 model system is an integrated model that is controlled by and primarily runs in the EMME transportation planning software platform. EMME is used for network assignment, creating transportation skims, and the model\u2019s Graphical User Interface (GUI). The software also provides functionality for viewing and editing highway and transit network files and viewing of matrix files. The Bentley CONNECTION Client software (the license manager for EMME) will need to be logged into and activated prior to running the model.</p> <p>A Python package manager is software that creates an environment for an instance of Python. ActivitySim and related Python processes in the model are executed in an environment that is setup with a specific version of Python and specific library versions. This ensures that changes outside of the Python environment will not cause errors or change model results, and additionally ensure that the specific version of Python and specific libraries needed by the model do not cause errors or changes to other Python software installations on the server. The libraries needed by ActivitySim extend the base functionality of Python.</p> <p>Java is required in order to create bicycle logsums, run the taxi/TNC routing model, and run the intra-household autonomous vehicle routing model. The model has been tested against Java version 8 (i.e., 1.8) and is therefore the recommended version to be used when running the SANDAG ABM.</p>"},{"location":"running.html#installing-abm3","title":"Installing ABM3","text":""},{"location":"running.html#setting-up-the-python-environments","title":"Setting up the Python Environments","text":"<p>As noted above, the user needs to install Anaconda2 and Anaconda3 on the workstation they intend to install ABM3 on. The Anaconda2 software is utilized to create a Python2-based environment required to interface with a specific version of EMME (4.3.7) whereas Anaconda3 is utilized to create environments to run ActivitySim.</p>"},{"location":"running.html#python2-environment","title":"Python2 Environment","text":"<p>After Anaconda installation, the following step is to create the Python2-based environment, which can be done via the following steps:</p> <ul> <li>Create a directory called python_virtualenv on the server\u2019s local drive and copy in the following files:<ul> <li>add_python_virtualenv.bat</li> <li>requirements.txt</li> </ul> </li> <li>Open EMME Shell (likely as Administrator)</li> <li>Navigate (via cd command) to wherever add_python_virtualenv.bat was copied to</li> <li>Execute add_python_virtualenv.bat</li> <li>Copy python_virtualenv.pth to EMME\u2019s site-packages directory<ul> <li>For example, C:\\Program Files\\INRO\\Emme\\EMME 4\\Emme-4.3.7\\Python27\\Lib\\site-packages</li> </ul> </li> </ul> <p>If installation was succesfully completed, you will have created an environment at e.g., C:\\python_virtualenv\\abm14_2_0. Ensure relevant libraries were installed under the environment\u2019s site-packages directory. </p>"},{"location":"running.html#python3-environments","title":"Python3 Environments","text":"<p>The following step is creating two Python3-based Activitysim environments: one for running ActivitySim and the other specificallly for running the ActivitySim-based Commercial Vehicle Model (CVM).</p>"},{"location":"running.html#activitysim-environment","title":"ActivitySim Environment","text":""},{"location":"running.html#sandag-users","title":"SANDAG Users","text":"<p>To create the ActivitySim (asim_baydag) environment:</p> <ul> <li>Open Anaconda3 Prompt as Administrator</li> <li>Execute the following commands:</li> </ul> <pre><code>conda update -n base conda\nnet use T: \\\\sandag.org\\transdata\ncd T:\\ABM\\dev\\ABM3\\src\\asim\\scripts\nT:\nconda env create --file=environment.yml -n asim_baydag\nconda activate asim_baydag\npip install azure-identity\npip install azure-storage-blob\ncd T:/ABM/dev/ActivitySim\npip install \u2013e .\n</code></pre>"},{"location":"running.html#external-users","title":"External Users","text":"<p>To create the ActivitySim (asim_baydag) environment, first, change directories using <code>cd /d</code> to the conda-environments folder under the ActivtySim source code directory. As of June 2024, this directory may be cloned from the BayDAG_estimation branch located on SANDAG\u2019s forked version of ActivitySim. The conda-environments folder in this directory contains a number of yaml files that may be used to install the environment. Users may use the following command to install the AcitvitySim environment along with SANDAG\u2019s version of AcitivtySim under the asim_baydag name:</p> <p><code>conda env create --file=activitysim-dev.yml -n asim_baydag</code></p> <p>After installing the environment, users may confirm successful installation by activating it using:</p> <p><code>conda activate asim_baydag</code></p>"},{"location":"running.html#cvm-activitysim-environment","title":"CVM ActivitySim Environment","text":""},{"location":"running.html#sandag-users_1","title":"SANDAG Users","text":"<p>To create the ActivitySim CVM environment:</p> <ul> <li>Open Anaconda3 Prompt as Administrator</li> <li>Execute the following commands:</li> </ul> <pre><code>cd T:\\ABM\\dev\\CVM\nT:\nconda env create -p {path to Anaconda3}/envs/asim_sandag_cvm --file activitysim/conda-environments/activitysim-dev-base.yml\nconda activate asim_sandag_cvm\npip install -e ./sharrow\npip install -e ./activitysim\n</code></pre> <p>Note: On servers, {path to anaconda3} could be e.g., <code>C:/ProgramData/Anaconda3/</code> or <code>C:/Anaconda3</code></p>"},{"location":"running.html#external-users_1","title":"External Users","text":"<p>To create the ActivitySim CVM environment:</p> <ul> <li>Open Anaconda3 Prompt</li> <li>Execute the following commands</li> </ul> <pre><code>mkdir workspace\ncd workspace\ngit clone https://github.com/ActivitySim/sharrow.git\ngit clone https://github.com/SANDAG/activitysim-cvm\ncd activitysim\ngit switch time-settings\ncd ..\nconda env create -p {path to Anaconda3}/envs/asim_sandag_cvm --file activitysim/conda-environments/activitysim-dev-base.yml\nconda activate C:/Anaconda3/envs/asim_sandag_cvm\npip install -e ./sharrow\npip install -e ./activitysim\n</code></pre> <p>Note: For {path to anaconda3} point to wherever Anaconda3 is installed on your workstation</p>"},{"location":"running.html#environment-variables","title":"Environment Variables","text":"<p>During an ABM3 model run, there are certain system environment variables that get referenced. These variables must be added to your workstation\u2019s environment variables. To do so:</p> <ul> <li>Navigate to your workstation\u2019s System Properties &gt; Advanced &gt; Environment Variables</li> <li>Under System variables, using the New\u2026 button, add the following variables:<ul> <li>CONDA_PREFIX={path to Anaconda3}<ul> <li>e.g., C:\\Anaconda3</li> </ul> </li> <li>CONDA_TWO_PREFIX={path to Anaconda2}<ul> <li>e.g., C:\\Anaconda2</li> </ul> </li> </ul> </li> <li>Under System variables &gt; Path, using the Edit\u2026 button, add (if not already present) the following variables to Path:<ul> <li>{path to Anaconda2}</li> <li>{path to Anaconda2}\\Scripts</li> <li>{path to Anaconda2}\\Library\\bin</li> <li>{path to Anaconda3}</li> <li>{path to Anaconda3}\\Scripts</li> <li>{path to Anaconda3}\\Library\\bin</li> </ul> </li> </ul>"},{"location":"running.html#azure-environment-variables","title":"Azure Environment Variables","text":"<p>Note: This section mainly relevant to SANDAG users.</p> <p>When an ABM3 scenario finalizes, it loads onto Azure for post-processing. There are a number of system environment variables necessary to establish a connection to the Azure system. </p> <p>To create those Azure system environment variables:</p> <ul> <li>Open PowerShell as Administrator</li> <li>Navigate (via cd command) to T:\\ABM\\software\\PS1</li> <li>Execute .\\ABM_Variables.ps1<ul> <li>If you encounter an error message indicating the .ps1 file is not digitally signed, you may bypass the execution policy for your current PowerShell session by running: <code>Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass</code> Then, re-execute ABM_Variables.ps1.</li> </ul> </li> </ul>"},{"location":"running.html#sqlcmd","title":"SQLCMD","text":"<p>Note: This section mainly relevant to SANDAG users.</p> <p>An installation of the sqlcmd utility is necessary to execute Transact-SQL statements directly in the command line. Within the ABM3 modeling framework, it is utilized to execute a command that identifies the next available Azure scenario ID in preparation for loading a finalized ABM3 scenario onto Azure. </p> <p>To install the sqlcmd utility, download and execute the latest Microsoft Software Installer (i.e., .msi) file from the Microsoft sqlcmd GitHub repository (hint: sqlcmd-amd64.msi)</p> <p>To verify successful installation of sqlcmd utility on your workstation:</p> <ul> <li>Copy GetScenarioId.bat somewhere onto your workstation</li> <li>Open command prompt</li> <li>Navigate (via cd command) to location where GetScenarioId.bat was copied to</li> <li>Execute the following command:<ul> <li><code>GetScenarioId.bat 9999 sqlcmdTest \"dev\"</code><ul> <li>Note: The steps under Azure Environment Variables must be executed beforehand</li> </ul> </li> </ul> </li> <li>If installation and command execution were successful, you should see the following:</li> </ul> <p></p> SQLCMD Utility Test"},{"location":"running.html#installing-java","title":"Installing Java","text":"<p>Java version 1.8 needs to be installed on the workstation. SANDAG servers usually have this version of Java already installed on them. </p> <p>Alternatively, the exact version may be found on Oracle\u2019s Java SE 8 Archive Downloads site. (hint: jre-8u162-windows-x64.exe)</p>"},{"location":"running.html#creating-an-abm3-scenario","title":"Creating an ABM3 Scenario","text":"<p>Note: This section mainly relevant to SANDAG users.</p> <p>Follow the steps below to create an ABM3 scenario directory:</p> <ul> <li>Check for an available server using the SANDAG Live Report: ABM Compute Servers page</li> <li>Log onto available server and ensure:<ol> <li>Server\u2019s C Drive has at least 500 GB worth of space</li> <li>You are logged onto the Bentley CONNECTION Client license manager software</li> </ol> </li> <li>Using the server\u2019s Windows Explorer, navigate to the latest approved ABM3 release. As of March 2025, this is T:\\ABM\\release\\ABM\\version_15_2_2</li> <li>Double click on createStudyAndScenario.bat and click Run.</li> <li>On pop-up, fill out the fields under Create an ABM scenario.<ul> <li>EMME Version: As of March 2025, only available version is 4.3.7</li> <li>Year: Using drop-down menu, select scenario year you\u2019d like to run</li> <li>Base: Whether you would like to run a Build or No Build scenario. Note that the base 2022 year only has the option to run as Base.</li> <li>Geography ID: Leave as 1. As of March 2025, this field has no functionality. </li> <li>Scenario Folder: File path you would like to create scenario at. The tool will create the directory if it doesn\u2019t already exist. For cases where you point to an exisitng directory, the tool will notify users that location exists to avoid unintended overwriting.</li> <li>Network Folder: File path to input network. </li> <li>Land Use Folder: File path to input land use files.</li> </ul> </li> <li>After fields are filled out, click Create.</li> <li>A DOS window will open and all required files will be copied. If you have a server with a valid license, it will pause for about 30-45 seconds on init EMME folder. You will get a pop-up window that indicates you have successfully created the scenario. Click Quit. Then, you may exit the GUI by clicking on Quit.</li> <li>Navigate to newly created scenario and ensure the correct input files were copied over.</li> </ul>"},{"location":"running.html#running-abm3","title":"Running ABM3","text":"<p>To open the EMME application from the created scenario directory, users need to go to the emme_project folder, and double-click on the start_emme_with_virtualenv.bat file. This opens up the EMME application, where the application prompts the choice of a scenario. It is recommended to select the main highway scenario (Scen. 100) to start off the model run, although other scenarios may be selected as well. </p> <p>Following this step, users should open the EMME Modeler by clicking on the gold square icon at the top left of the screen.  </p> EMME Modeler icon <p> The EMME Modeler opens to the EMME Standard Toolbox, but needs to be switched to the SANDAG toolbox by selecting it from the bottom-left of the screen. From this toolbox, open the Master Run tool by double-clicking it.</p> <p></p> Opening SANDAG Toolbox and Master run <p></p> <p>The Master Run tool allows the user to run all or part of the model, and set a number of settings such as sample size per iteration.</p> <p></p> Master Run tool <p> The Master run tool operates the SANDAG travel demand model. Users have the option to configure a number of settings prior to launching the model run:</p> <ul> <li>Select main ABM directory: No changes necessary. The file path to the scenario. Defaults to the parent directory of opened EMME project.</li> <li>Scenario ID: No changes necessary. Scenario ID for the base imported network data. The result scenarios are indexed in the next five scenarios by time period. </li> <li>Scenario title: Title to use for the scenario. Standard practice is to input scenario title.</li> <li>Emmebank title: Title to use for the Emmebank (EMME database). Standard practice is to input scenario title.</li> <li>Number of processors: the number of processors to use for traffic and transit assignments and skims, aggregate demand models (where required) and other parallelized procedures in Emme. Default is <code>Max available \u2013 1</code>.</li> <li>Datalake Environment: Datalake environment to which scenario outputs will be loaded onto: Prod (Production), or Dev (Development). This parameter mostly relevant to SANDAG users.</li> <li>Sampe rate by iteration: Three comma-separated values for the ActivitySim sample rates for each iteration.</li> </ul> <p>By expanding the Run model \u2013 skip steps drop down, the user has the option to skip certain steps of the model run. Usually, the defaults (see image below) should be sufficient. It should be noted that checkmarking a step means that it will be skipped.</p> <p></p> Run model tool <p></p> <p>On opening the Master run tool, the <code>conf/sandag_abm.properties</code> file is read and its values pre-set the Run model - skip steps inputs. When the Run button is clicked, this file is written out with the values specified. Any manual changes to the file in-between opening the tool and clicking the Run button are overwritten.</p> <ul> <li>Start from iteration: Indicate from what iteration you would like model run to start.</li> <li>Skip steps: Optional checkboxes to skip model steps.</li> <li>Select link(s): Add select link analyses for traffic.</li> </ul> <p>Following this setup, you can click Run to start the model run. It is recommended to occasionally check the model run status to make sure the run is going smoothly. When the model run finishes successfully, the Master run tool will show a model run successful message in green at the top of the tool window.</p> <p>If the run is unsuccessful (there will be an error prompt from EMME), check the EMME Logbook and log files (under the logFiles or output directories) for clues to where it may have crashed.</p> <p>As the model runs, a full runtime trace of the model steps, inputs and reports is recorded in the Modeller Logbook. As each step completes, it will record an entry in the Logbook along with reports and other results. The Logbook can be opened from the clock-like icon in the upper right of the Modeller window. This icon can also be found in the upper left toolbar in the EMME Desktop, or upper right in the EMME Logbook. If a Modeller tool is running, a window will pop-up over the EMME Desktop which includes a Show Logbook button (this window can be closed to use Desktop worksheets and tables while any tool is running). Click on the Refresh button to update the Logbook view with the latest status.</p> <p></p> Modeller logbook <p></p> <p>The Logbook provides a real-time, automated documentation of the model execution. The overall structure of the model is represented at the top level, with the occurrence, sequence and repetition of the steps involved in the model process. Nested Logbook entries may be collapsed or expanded to see detail. For the EMME assignment procedures, interactive charts are recorded. The statistical summaries of the impedance matrices are recorded for each time period following the assignment. These summary tables provide an easy way to check for skims with obvious outlier values.</p>"},{"location":"application/applying.html","title":"Applying the model","text":"<p>This page contains information needed to apply the model.</p>"},{"location":"application/ev-rebates.html","title":"Electric Vehicle Rebates","text":"<p>One of the policies that SANDAG planners would like to test for the 2025 Regional Plan is providing rebates for low- and middle-income households to purchase electric vehicles. One of the variables in the vehicle type choice model is the new purchase price for a vehicle of a given age, body type, and fuel type. The way the EV rebate is implemented in ABM3 is by deducting the appropriate rebate value for plugin and battery vehicles if a household meets the criteria (based on percentage of the federal poverty level). To configure the rebate values and poverty level thresholds, new constants were added to the common/constants.yaml configuration file. Two describe income group cutoffs and need to be updated in src\\asim\\configs\\common\\constants.yaml and four specify rebate values for various income groups and need to be edited for the scenario\u2019s given year in input\\parametersByYears.csv.</p> Constant parametersByYears field Description LowIncomeEVRebateCutoff N/A % of poverty limit below which a household is considered low-income for the purposes of EV rebates MedIncomeEVRebateCutoff N/A % of poverty limit below which a non low-income household is considered medium-income for the purposes of EV rebates LowIncomeBEVRebate ev.rebate.lowinc.bev Rebate value for low-income households buying battery electric vehicles LowIncomePEVRebate ev.rebate.lowinc.pev Rebate value for low-income households buying plugin electric vehicles MedIncomeBEVRebate ev.rebate.medinc.bev Rebate value for medium-income households buying battery electric vehicles MedIncomePEVRebate ev.rebate.medinc.pev Rebate value for medium-income households buying plugin electric vehicles <p>The constants fit into the policy as follows:</p> Fuel Type <code>LowIncomeEVRebateCutoff</code> &lt; Household Poverty Level &lt;= <code>MedIncomeEVRebateCutoff</code> Household Poverty Level &lt;= <code>LowIncomeEVRebateCutoff</code> BEV <code>MedIncomeBEVRebate</code> <code>LowIncomeBEVRebate</code> PEV <code>MedIncomePEVRebate</code> <code>LowIncomePEVRebate</code> <p>For example, if the following policy were to be tested\u2026</p> Fuel Type Rebate amount for households within 300-400% of Federal Poverty Limit Rebate amount for households at 300% Federal Poverty Limit or lower BEV $2,000 $6,750 PEV $1,000 $3,375 <p>\u2026then the constants would need to be set as follows: <pre><code>LowIncomeEVRebateCutoff: 3\nMedIncomeEVRebateCutoff: 4\nLowIncomeBEVRebate: 6750\nLowIncomePEVRebate: 3375\nMedIncomeBEVRebate: 2000\nMedIncomePEVRebate: 1000\n</code></pre></p>"},{"location":"application/flexible-fleets.html","title":"Flexible Fleets","text":"<p>The of the five big moves defined in SANDAG\u2019s 2021 regional plan was Flexible Fleets, which involves on-demand transit services. The initial concept of the 2025 Regional Plan involves rapidly expanding these services, with many new services planned to be in operation by 2035. For this reason, it is important that these services be modeled by ABM3. There are two flavors of flexible fleets that were incorporated into ABM3, Neighborhood Electric Vehicles (NEV) and microtransit. A table contrasting these services is shown below.</p> Characteristic NEV Microtransit Vehicle Size Smaller Larger Service Area Smaller Larger Operating Speed Slower Faster"},{"location":"application/flexible-fleets.html#incorporation-into-abm3","title":"Incorporation into ABM3","text":"<p>Rather than creating new modes for flexible fleet services, microtransit and NEV were incorporated into existing modes. How this was done was dependent on whether the trip was a full flexible fleet trip, first-mile access to fixed-route transit, or last-mile egress from fixed-route transit. A table explaining how each of these trip types was incorporated into ABM3 is shown below. Further, a heirarchy of services is enforced. ActivitySim first checks if NEV is available (based on a new land use attribute), and if it is, it\u2019s assumed that NEV is used. If not, ActivitySim checks if microtransit is available (based on a corresponding land use attribute), and if it is, it\u2019s assumed that microtransit is used. If neither are available, ActivitySim looks at the other services that are already available.</p> <p>*For trips on the return leg of a tour the access and egress attributes are swapped</p> Full microtransit trip First-mile access to fixed-route transit Last-mile egress from fixed-route transit What models allow for this type of trip? Resident, Visitor, Crossborder Resident Resident, Visitor, Crossborder Which mode is used? TNC Shared TNC to transit All transit modes How is the flexible fleet travel time factored into the trip? The travel time is the full travel time of the trip The travel time is added to the transit access time and a transfer is added The travel time is added to the transit egress time and a transfer is added if the destination is further from the nearest transit stop than a user would be willing to walk (that distance is configurable) How is the flexible fleet cost factored into the trip? The cost is the full cost of the trip It is assumed that flexible fleet services are free when used to access fixed-route transit It is assumed that flexible fleet services are free when egressing from fixed-route transit"},{"location":"application/flexible-fleets.html#new-attributes","title":"New Attributes","text":"<p>Several new attributes were added to allow the user to configure how flexible fleet services are operated. These are all defined in the common constants.yaml file. Each attribute is defined as follow:</p> Attribute Definition Default value Speed Assumed operating speed in miles per hour MT: 30, NEV: 17 Cost Cost of using service in US Cents 125 for both WaitTime Assumed time passengers wait to wait to use service in minutes 12 for both MaxDist Maximum distance in miles that the service can be used MT: 4.5, NEV: 3 DiversionConstant Additional travel time to divert for servicing other passengers 6 for both DiversionFactor Time multiplier accounting for diversion to service other passengers 1.25 for both StartPeriod Time period to start service (not yet implemented) 9 for both EndPeriod Time period to end service (not yet implemented) MT: 32, NEV: 38 maxWalkIfMTAccessAvailable Maximum disatance someone is willing to walk at the destination end if flexible fleet services are available (same for microtransit and NEV) 1.0"},{"location":"application/flexible-fleets.html#travel-time-calculation","title":"Travel Time Calculation","text":""},{"location":"application/flexible-fleets.html#direct-time","title":"Direct Time","text":"<p>The flexible fleet travel time calculation is a two-step process. The first step is to calculate the time that it would take to travel from the origin to the destination* directly without any diversion to pick up or drop off any passengers. This is done by taking the maximum of the time implied by the operating speed and the congested travel time:</p> <p>\\(t_{\\textnormal{direct}} = \\textnormal{max}(60\\times\\frac{s}{d}, t_{\\textnormal{congested}})\\)</p> <p>where:</p> <p>\\(t_{\\textnormal{direct}} = \\textnormal{Direct flexible fleet travel time}\\)</p> <p>\\(s = \\textnormal{speed}\\)</p> <p>\\(d = \\textnormal{Distance from origin to destination (taken from distance skim)}\\)</p> <p>\\(t_{\\textnormal{congested}} = \\textnormal{Congested travel time from origin to destination (taken from Shared Ride 3 time skim)}\\)</p> <p>*When used to access fixed-route transit, the destination is the nearest transit stop to the trip origin. When used to egress from fixed-route transit, the origin is the nearest transit stop to the trip destination.</p>"},{"location":"application/flexible-fleets.html#total-time","title":"Total Time","text":"<p>The second step of the travel time calculation was to account for diversion to pick up other passengers. These were based on guidelines used in a NEV pilot. The formula to calculated the total flexible fleet travel time is as follows:</p> <p>\\(t_{\\textnormal{total}} = \\textnormal{max}(t_{\\textnormal{direct}}+c, \\alpha\\times t_{\\textnormal{direct}})\\)</p> <p>where:</p> <p>\\(t_{\\textnormal{total}} = \\textnormal{Total flexible fleet travel time}\\)</p> <p>\\(c = \\textnormal{DiversionConstant}\\)</p> <p>\\(\\alpha = \\textnormal{DiversionFactor}\\)</p>"},{"location":"application/landuse-prep.html","title":"Land-Use Data Preparation","text":"<p>//TODO: Describe how to prepare land-use data.</p> <p>Describe how to update parking costs, enrollment data.</p>"},{"location":"application/micromobility.html","title":"Micromobility","text":"<p>//TODO: Describe how to run micromobility policy tests</p>"},{"location":"application/network-coding.html","title":"Network Coding","text":"<p>//TODO: Describe network attributes, how to code network</p>"},{"location":"application/population-synthesis.html","title":"Population Synthesis","text":"<p>//TODO: Describe population synthesis procedure, how to modify inputs and construct new future-year synthetic population</p>"},{"location":"application/scenario-manager.html","title":"Scenario manager","text":"<p>ABM3 uses a python module as the scenario manager. The job of this scenario manager is updating the parameters used throughout the model to match a specific scenario\u2019s definition and needs. A number of these parameters including auto operating cost, taxi and TNC fare, micromobility cost, and AV ownership penetration are usually assumed to change by forecast year or scenario.</p> <p>Manually changing these parameters requires the model user to know where each parameter is located, and individually changing them according to the scenario forecast values. A scenario manager, therefore, can be a convenient and efficient tool to automate this process.</p> <p>The ABM3 Scenario Manager reads in a CSV input file (located under <code>input/parametersByYears.csv</code>) containing the parameter values for each scenario, and updates the associated parameters in the ActivitySim config files. A snapshot of this input parameter CSV file is shown below, where each row is associated with a specific scenario year/name. The parameter names used here can either be identical to the parameter names used in ActivitySim, or different. In case the parameter names are different, a separate file is used to map the parameters names between the input CSV and ActivitySim config files.</p> Scenario Year AOC fuel AOC maintenance Taxi baseFare Taxi costPerMile Taxi costPerMinute 2012 13.5 6.3 1.78 1.87 0.08 2014 12.9 6.3 1.78 1.87 0.08 2015 19.5 6.2 1.78 1.87 0.08 2016 10.7 5.6 1.78 1.87 0.08 2017 10.8 5.5 1.78 1.87 0.08 <p>The scenario manager is run as part of the model setup in the Master Run tool before any ActivitySim model is run (usually only in the first iteration of the run). Model user can choose to run or skip this step, although it is highly recommended to run with each run to ensure correct parameters.</p>"},{"location":"calib_valid/calib_overview.html","title":"Calibration and Validation Overview","text":"<p>Travel models are usually calibrated and validated to match base year observed data. ABM3 base year was 2022 for the 2025 Regional Plan (RP). Following model development, ABM3 was calibrated and validated using a series of steps described in each of the following sections. Any significant bugs or feature updates might affect the match and trigger a re-calibration effort.</p>"},{"location":"calib_valid/calib_overview.html#2024","title":"2024","text":"<ul> <li>March 2024 Calibration and Validation Report: prepared before consultant delivery of ABM3 to SANDAG including convergence test results.</li> </ul>"},{"location":"calib_valid/calibration.html","title":"Calibration","text":"<p># Calibration </p>"},{"location":"calib_valid/calibration.html#data","title":"Data","text":"<p>\\ The primary data used for the ABM3 model calibration was the 2022 SANDAG Household Travel Survey (HTS) Wave 1. This was augmented with American Community Survey (ACS) 2021 data (specifically for the auto ownership model), DMV data (specifically for the vehicle type choice model), and the 2015 onboard survey (OBS) data for transit trips. \\ \\ Most models in ABM3 were calibrated, with the exception of Disaggregate Accessibility, AV Ownership, Vehicle Type Choice, Mandatory Tour Frequency, Mandatory Tour Scheduling, School Escorting, Joint Tour Scheduling, Non-Mandatory Tour Scheduling, Vehicle Allocation, At-work subtour scheduling, Trip Purpose, Trip Scheduling and Parking Location. Most of the calibrated models were calibrated to the 2022 HTS. However, the Auto Ownership, Work From Home and Telecommute Frequency were calibrated using ACS data. The Tour Mode Choice, At-work Subtour Mode Choice, and Trip Mode Choice models were calibrated using HTS data, and adjusted to OBS data. \\ \\ For further details on the data used for the calibration of the model, see the ABM3 Calibration And Validation Report.</p>"},{"location":"calib_valid/calibration.html#method","title":"Method","text":""},{"location":"calib_valid/calibration.html#theory","title":"Theory","text":"<p>\\ All models in ABM3 follow the multinomial logit framework, a type of discrete choice model in which each alternative is assigned a utility value, and the probability of selecting each alternative is computed based on its utility. During model implementation, we sometimes encounter model results that do not sufficiently replicate observed shares (e.g., survey data), necessitating calibration. To improve model fit, alternative-specific constants are introduced to achieve a reasonable level of fit to observed data. These constants reflect non-included attributes of the alternative and measurement error. </p> <p>We introduce an alternative-specific constant \\($ \\alpha_i $ \\) into \\($ V_i $\\), the utility function for each alternative:</p> \\[ V_i' = V_i + \\alpha_i \\] <p>This adjustment modifies the choice probability equation as follows:</p> \\[ P_i = \\frac{e^{V_i + \\alpha_i}}{\\sum_{j} e^{V_j + \\alpha_j}} =\\frac{e^{V_i} }{\\sum_{j} e^{{V_j} + \\alpha_j}} * e^{a_i}\\] <p>The first term on the right-hand side of the equation above is almost equal to the original model-predicted probability, or $ P_i^{model} $, with the difference being that the sum of utilities in the denominator also includes the impact of the added constant $ \\alpha_i $. Assuming that this term is equal to the original model-predicted probability, we can determine the appropriate value of $ \\alpha_i $ by setting the modified choice probability above to the observed share from data: $ P_i^{observed} = P_i^{model} e^{\\alpha_i} $</p> <p>Solving for $ \\alpha_i $:</p> <p>$\\alpha_i = \\ln \\left( \\frac{P_i<sup>{observed}}{P_i</sup>{model}} \\right) $</p> <p>In simpler terms, the calibration constant is computed as follows:</p> <p>$ \\text{calibration constant} = \\ln \\left( \\frac{\\text{observed share}}{\\text{model share}} \\right) $</p> <p>Due to ignoring the impact of $ \\alpha_i $ in the denominator of $ P_i^{model} $, the calibration process cannot conclude in just one iteration but needs to be performed iteratively, where the results are added to the alternative-specific constant from the previous iteration. The adjustment increases or decreases the utility of the alternative based on the under- or over-estimated share, thus changing the probability of the alternative and ultimately the number of the predicted choices. , calibration process cannot conclude in just one iteration, but needs to be performed iteratively, where the results are added to the alternative-specific constant from the previous iteration. The adjustment increases or decreases the utility of the alternative based on the under or over estimated share, thus changing the probability of the alternative and ultimately the number of the predicted.\\ \\ Typically there is one less alternative-specific constant than the number of alternatives; the alternative without a constant is referred to as the '91base'92 alternative. In some models, the alternative-specific constants are relatively simple, where the constants are not stratified by any attributes of the decision-maker, while in other models, such as the coordinated daily activity pattern model or tour mode choice, the constants are stratified by socio-economic variables. In the case of the coordinated daily activity pattern model, the constants are stratified by person type, while in tour mode choice, constants are stratified by auto sufficiency, income, or geographical district. \\</p>"},{"location":"calib_valid/calibration.html#application","title":"Application","text":"<p>\\ Calibration was completed using Jupyter notebooks. During calibration, calibration coefficients were calculated for each model (work from home, external workplace location, etc.), and for each specified segmentation within the model if appropriate (person type, tour length, etc). For a full list of models, see the ABM3 Calibration and Validation Report. The calibrated model was iteratively run and compared to the target until an optimal fit between the model and the target data was achieved. A visualizer (Power BI) was utilized to easily identify inconsistencies between the calibrated model and the target data. These inconsistencies were addressed by the team and on a case by case basis were justified or resolved. Summaries by district were also used to determine if there were regional differences of optimal fit between the calibration model and the target data. If necessary, regional calibration constants were also utilized. </p>"},{"location":"calib_valid/convergence.html","title":"Convergence","text":"<p>Convergence is used to arrive at a stable solution in the model. This is accomplished using an iterative process in which iterations are compared to convergence criterion, and changes are evaluated against this predefined criterion to determine stability in the solution. </p>"},{"location":"calib_valid/convergence.html#methods","title":"Methods","text":"<p>Each standard ABM3 run contains three global iterations with household sample rates of 25%, 50%, and 100% applied to each iteration, respectively. In the first two iterations, trip demand is expanded to full size using a scale factor before traffic assignment. It additionally uses a specified relative gap, which is a measure of the closeness of the current assignment to a perfect equilibrium assignment as the assignment convergence criterion. This relative gap (RG) in EMME is defined as follows:</p> <p>\\(RG = \\frac{f(v) - BLB}{f(v)} \\times 100\\) ,</p> <p>Where $ f(v) $ is the value of the assignment\u2019s objective function at a specific iteration, and $ BLB $ is the best current lower bound $ (LB) $ at that specific iteration. $ LB $ is the solution that the assignment subproblem provides in each iteration for the optimal value of the objective function $ f(v)$. The relative gap is set to 0.0005 in a standard ABM3 run.</p> <p>Three metrics were used to investigate convergence: link volumes, skims, and trip tables. For each metric, the value changes per iteration for the congested periods of peak morning (AM) and peak afternoon (PM) were compared.</p>"},{"location":"calib_valid/convergence.html#conclusions","title":"Conclusions","text":"<p>An analysis of link volume convergence showed that between the third and final iteration, approximately 97% of freeway links had a volume change of less than 5%. In contrast, the proportion of links with volume changes below 5% was lower for other road types: 77% for arterials, 54% for collectors, and 41% for local roads. For skim travel times, changes in the RMSE between iterations 2 and 3 were less than 0.5 across all highway modes, pointing to a very small change between iterations. Travel demand by Time of Day (TOD) and mode were also analyzed by combining highway demand by mode, value of time (VOT) and period across all markets and computing the RMSEs between iterations. Results showed small changes in RMSEs between second and third iterations as shown in Table 1. </p> <p>Table 1 RMSE of Iterations 2 and 3 Demand Tables </p> MODE VOT RMSE AM PM SOV Low 0.1944     0.2244     Med 0.1985     0.2284     High 0.1757     0.2078     SR2 Low 0.0728     0.0876     Med 0.0822     0.0875     High 0.1014     0.1163     SR3 Low 0.029     0.0439     Med 0.0365     0.0416     High 0.0641     0.0788"},{"location":"calib_valid/validation.html","title":"Validation","text":""},{"location":"calib_valid/validation.html#data","title":"Data","text":"<p>The model validation process was used to test the model\u2019s predictive capabilities before using it to produce forecasts. Highway validation of the model was conducted using observed count data as the on-the-ground target. Observed traffic count and transit boardings as collected and maintained by SANDAG were used in the validation of the ABM3 model. Observed traffic counts for highway validation were collected through the Caltrans Highway Performance Monitoring System (HPMS) estimates as well as local jurisdictions. SANDAG staff developed analyses to cross-reference the counts with the ABM3 model network. For the transit validation the model\u2019s predicted transit ridership was compared to observed ridership for each transit market. Observed transit boardings were derived from local transit agencies. The boardings were preprocessed to match ABM3 mode and time of day periods.</p>"},{"location":"calib_valid/validation.html#methods","title":"Methods","text":"<p>For validation, two types of model validations were used;dynamic validation, and static validation. Dynamic validation involves systematically varying model inputs to assess the reasonableness of model responses. Dynamic validation is often done in the form of sensitivity testing. Sensitivity tests must be carefully formulated in order to isolate model responses to the inputs that vary. This requires limiting input changes to only those directly related to the sensitivity test and comparing the outputs against a baseline scenario. More details on sensitivity testing may be found in the Sensitivity Test Documentation. </p> <p>The static validation process compares model outputs with observed data that was not used to build the travel model. In the assignment step, model demand (e.g. trips by time period, mode, and vehicle class/value-of-time) are loaded onto the network. In highway assignment, the output includes vehicle flows on every link (road) in the highway network and for transit assignment, the output includes the number of boardings on each route. These are compared to observed traffic counts and observed transit ridership respectively. </p> <p>Vehicle miles of travel (VMT) and link volumes were used for highway validation. Predicted VMT was compared against observed VMT based on count data, and Caltrans HPMS estimates. Comparisons between predictions and these two data sources yielded opposite results (underestimate of daily VMT compared to observed daily VMT based on count data, and an over prediction of regional model VMT compared to HPMS data). Predicted regional traffic flows were also compared against observed traffic counts through link volumes. FHWA recommendations of statistical measures of model fit were used to assess model performance (R<sup>2</sup> higher than 0.88 , PRMSE of lower than %40). </p> <p>For transit validation, ridership (boarding) is compared by transit line-haul mode and time of day comparing the predicted counts against the observed ridership obtained from the Passenger Count Program. Validation followed the FHWA recommendation of predicted ridership values by route group (local bus, express bus, etc.) within 20% of the target values.</p>"},{"location":"design/design.html","title":"Model Design","text":"<p>The ABM3 model system is primarily based on the ActivitySim platform; ActivitySim is used to model resident travel, cross-border travel, overnight visitor travel, airport ground access travel, and commercial vehicle travel including light, medium, and heavy commercial vehicles. </p> <p>Aggregate models are used to model external-internal travel (from external stations other than the U.S./Mexico border crossing) and through travel. The model system relies on EMME software for network processing, skimming, and assignment. Models are mostly implemented in Python, and some models are implemented in Java.</p> <p>The overall design of the model is shown in the figure below:</p> <p>For a deeper explanation/definitions of some of the above process and terms (skims, network processing/assignments, etc.), check out this website.</p>"},{"location":"design/design.html#initial-steps","title":"Initial Steps","text":"<p>The system starts by performing initial input processing in EMME. This includes building transport networks and scenarios for skimming and assignment. An initial set of skims are created based on input trip tables (e.g. warm start). Then disaggregate choice models in ActivitySim are run, including:</p> <ul> <li>the resident model, </li> <li>the crossborder travel model, </li> <li>two airport ground access models, </li> <li>the overnight visitor model, </li> <li>and the commercial vehicle model. </li> </ul> <p>Next auxiliary models are run:</p> <ul> <li>the taxi/TNC routing model and the autonomous vehicle intra-household allocation model are run in Java. </li> <li>Aggregate external-internal and through travel models are run in Python. </li> </ul> <p>After all models are run, trip tables are built from the result and assigned to transport networks.</p> <p> scenario_id model otaz dtaz distance_total cost_total 0 230 external-internal 6 13 102.816 \u2026 39.100 1 230 external-internal 6 14 102.628 \u2026 40.021 2 230 external-internal 6 15 102.367 \u2026 33.728 3 230 external-internal 7 16 103.8597 \u2026 33.179 4 230 external-internal 7 17 101.568 \u2026 32.941 <p>Example of a trip table for the external-internal model</p> <p></p> <p>A check is made to determine whether the model has reached convergence (currently this is set to three feedback iterations). What this means in the context of the model is if an iteration is close enough to the results of another iteration, it will not run the next iteration.</p> <p>If convergence is reached, outputs are processed for export to the SANDAG Datalake for reporting summaries. If not, speeds from assignment are averaged using method of successive averages, and skims are rebuilt for the next iteration. The model system is then re-run with the updated skims.</p>"},{"location":"design/design.html#the-synthetic-population","title":"The Synthetic Population","text":"<p>ActivitySim is used to represent all internal travel and internal-external made by residents of the SANDAG region (modeled area).  The decision-makers in the model system include both persons and households. These decision-makers are created (synthesized) for each simulation year and land-use scenario, and are based on Census data and forecasted distributions of households and persons by key socio-economic categories. </p> <p>A similar but simplified method is used to generate disaggregate populations for cross-border, airport ground access, and overnight visitor models. The decision-makers (such as people or households) are used in models that predict their choices. These models work by looking at a list of possible choices and selecting one based on a probability distribution of those choices. </p> <p>The probabilities are calculated using a method that considers both the characteristics of the decision-makers (like age or income) and the features of the options available. To make the choice, a random process is used, similar to drawing a number out of a hat (this is called Monte Carlo simulation). The \u201cdecision-making unit\u201d (the person or household) is key to how the model works and is carefully defined for each model.</p> <p>One big advantage of using micro-simulation is that there are no limits on how many factors (like age, income, etc.) can be included in the model. However, even with this flexibility, the model will group some decision-makers into segments. This helps organize the model by, for example, creating different models for different types of people or for different roles within a household. </p> <p>As an example, there could be a model that examines how households with 0 / 1 / 2+ children without a car travel. This example examines at a household level, however, these segments can be based on either individuals or entire households.</p>"},{"location":"design/demand/index.html","title":"Demand Design","text":"<p>Details of demand components of the model.</p>"},{"location":"design/demand/airport.html","title":"Airport Ground Access Models","text":"<p>There are two airport ground access models - one for San Diego International Airport and one for the Crossborder Express terminal which provides access to Tijuana International Airport from the United States. Both models use the same structure and software code, though the parameters that control the total number of airport travel parties, off-airport destination, mode, arrival and departure times, and other characteristics, vary for each airport according to survey and airport-specific data. The airport ground access model simulates trips to and from the airport for residents, visitors, and external travelers. These trips are generated by arriving or departing passengers and are modeled as tours within the ActivitySim framework. A post processing script also generates trips to serve passengers who require a pickup or dropoff at the airport. For example, a passenger who is picked up at the airport generates two trips; one trip to the airport by the driver to pick up the air passenger(s), and another trip from the airport with the driver and the air passenger(s). It is important to note that, to work within the ActivitySim framework, the airport trips must be modeled as tours, rather than being generated directly as in the previous model. These tours are assigned an origin at the airport MGRA. During the stop frequency step of ActivitySim, a trip is assigned to the appropriate leg of the tour (either to or from the airport) while the opposite leg is not assigned any trips (referred to as the \u2018dummy leg\u2019). Passengers who are leaving on a departing flight and traveling to the airport are considered \u201cinbound,\u201d while arriving passengers are considered \u201coutbound\u201d.</p> <p>The overall design of the model is shown in the figure below.</p> <p></p> <ol> <li>Tour Enumeration: A list of airport travel parties is generated from input enplanements and transferring passenger rates, as well as distributions that describe the share of travel parties by purpose (business versus personal), household income, and party size.</li> <li> <p>Tour Level Models</p> <p>2.1 Tour Scheduling Probabilistic: The tour scheduling model uses a probabilistic draw of the scheduling distribution. This model assigns start and end times to the tour. This is important because it will also serve as the schedule model for the final airport trips. In ActivitySim, trips are scheduled based on the tour schedule. If there is only one trip per leg on the tour (such as our case here) the trip is assigned the tour start/end time.</p> <p>2.2 Tour Destination Choice: The destination choice model chooses the non-airport end of the airport trips. Each tour is set with an origin at the airport MGRA. The tour destination model of ActivitySim is used to choose the non-airport end of the trip. The utility equation includes the travel distance, and the destination size terms. ActivitySim destination choice framework requires a mode choice log sum. A dummy tour mode choice log sum was created which generates a value of zero for every destination using the \u2018tour_mode_choice.csv\u2019 and \u2018tour_mode_choice.yml\u2019 file. This is a work around to prevent ActivitySim from crashing and not having to include the tour mode choice log sum in the destination choice model.</p> <p>2.3 Stop Frequency Choice: The stop frequency model is where the trip table is first created. The pre-processor tags each tour with a direction of \u2018inbound\u2019 or \u2018outbound\u2019 according to whether the tour is a departing or arriving passenger. For the Airport Ground Access model, inbound tours are tagged with zero outbound trips and -1 inbound trips (and the opposite is true for outbound tours: -1 outbound trips and 0 inbound trips). The 0 signifies that no intermediate stops are made; this leg of the tour will only have one trip. The -1 signifies that no trip is made at all on that leg. Using the -1 allows us to create \u2018half-tours\u2019 where only one leg of the tour is recorded as a trip. 3. Trip Level Models</p> <p>3.1 Trip Departure Choice: The trip scheduling model assigns depart times for each trip on a tour. ActivitySim requires trip scheduling probabilities; however, these are not used in this implementation since there is only one trip on any given tour leg. This means the trips will be assigned the tour scheduling times which were determined in the tour scheduling model. The trip scheduling probabilities file is just a dummy file.</p> <p>3.2 Trip Mode Choice: Each trip is assigned a trip mode; in the Airport Ground Access Model, trip mode refers to the airport arrival mode which simultaneously predicts the arrival mode and the location which the passenger uses to access that model. The arrival modes are shown in the table below.  The trip mode choice yaml file contains detailed variables associated with each trip mode. For example, each parking location is given an MGRA location, a walk time, a wait-time, and a cost. If a parking location MGRA is set to -999 it is assumed to be unavailable and will not be in the choice set. The pre-processor in this step stores all values of skims from the trip origin to each of the access modes destinations along with any associated costs. Costs include parking fees per day, access fees, fares, and rental car charges. Employees are not fed into the trip mode choice model. Instead, if a transit share is specified in the employee park file, that percentage of employees will be assigned \u2018Walk Premium\u2019 mode in the pre-processor. Otherwise, employees are all assigned \u2018Walk\u2019 mode from the employee parking lot to the terminal.</p> <p>3.3 Airport Returns: Airport trips where the party is dropped of curbside or parked and escorted are assumed to also have the driver make a return trip to the non-airport location. This procedure is done as a post-processing step after mode choice and before trip tables are written out. An \u2018airport_returns.yml\u2019 file takes a user setting to determine which trip modes will include a return trip. These trips records are flagged and duplicated. The duplicated trips swap the origin and destination of the original trip and are assigned a unique trip id. These trips are tagged with \u2018trip_num =2\u2019 so they are easily sorted in any additional processing (such as for writing trip matrices).</p> <p>3.4 Write trip matrices: The write trip matrices step converts the trip lists into vehicle trip matrices. The matrices are segmented by trip mode and value of time bins. The vehicle trip modes in the matrices include SOV, HOV2, HOV3+, Taxi, and TNC-single. Value of time segmentation is either low, medium, or high bins based on the thresholds set in the model settings.</p> </li> </ol> <p>The major tour modes are shown below: <pre><code>flowchart TD\n    subgraph four\n    direction LR\n    E[Ride-Hail] --&gt; E1[Taxi]\n    end\n    subgraph three\n    direction LR\n    D[Transit] --&gt; D1[Walk Access]\n    %% D --&gt; D2[PNR Access]\n    D --&gt; D3[KNR Access]\n    D --&gt; D4[TNC Access]\n\n    D1 --&gt; D11[Local Only]\n    D1 --&gt; D12[Premium Only]\n    D1 --&gt; D13[Mixed]\n\n    D3 --&gt; D31[Local Only]\n    D3 --&gt; D32[Premium Only]\n    D3 --&gt; D33[Mixed]\n\n    D4 --&gt; D41[Local Only]\n    D4 --&gt; D42[Premium Only]\n    D4 --&gt; D43[Mixed]\n    end\n    subgraph two\n    direction LR\n    C[Active] --&gt; C1[Walk]\n    end\n\n    subgraph one\n    direction LR\n    B[Auto] --&gt; B1[Drive-alone];\n    B --&gt; B2[Shared 2];\n    B --&gt; B3[Shared 3+];\n    end\n    A[Tour Mode] --&gt; one;\n    A --&gt; two;\n    A --&gt; three;\n    A --&gt; four;\n\n    classDef group1 fill:#f75f5f,stroke:#333,stroke-width:4px,font-size:26px,font-weight:bold;wrap\n    classDef group2 fill:#ffd966,stroke:#333,stroke-width:2px,font-size:20px;wrap\n    classDef group3 fill:#bdabf0,stroke:#333,stroke-width:2px,font-size:18px;wrap\n\n    classDef hiddenTitle color:transparent;\n    class one,two,three,four hiddenTitle;\n\n    class A group1;\n    class B,C,D,E group2;\n    class B1,B2,B3,C1,C2,C3,C4,D1,D2,D3,D4,E1,E2,E3,D11,D12,D13,D21,D22,D23,D31,D32,D33,D41,D42,D43 group3;\n</code></pre></p>"},{"location":"design/demand/airport.html#airport-ground-access-model-trip-arrival-modes","title":"Airport Ground Access Model Trip Arrival Modes","text":"Arrival Mode Description Park Location 1 Party parks personal vehicle at parking location 1. Park Location 2 Party parks personal vehicle at parking location 2. Park Location 3 Party parks personal vehicle at parking location 3. Park Location 4 Party parks personal vehicle at parking location 4. Park Location 5 Party parks personal vehicle at parking location 5. Curb Location 1 Party is dropped off or picked up by another driver at curbside location 1. Curb Location 2 Party is dropped off or picked up by another driver at curbside location 2. Curb Location 3 Party is dropped off or picked up by another driver at curbside location 3. Curb Location 4 Party is dropped off or picked up by another driver at curbside location 4. Curb Location 5 Party is dropped off or picked up by another driver at curbside location 5 Park and Escort Party is driven in personal vehicle, parks on-site at the airport and is escorted to/from airport. Rental Car Party arrives/departs by rental car. Shuttle Van Party takes shuttle van. Hotel Courtesy Party takes hotel courtesy transportation. Ridehail Location 1 Party arrives\\departs using ridehail at ridehail location 1 Ridehail Location 2 Party arrives\\departs using ridehail at ridehail location 2 Taxi Location 1 Party arrives\\departs using taxi at taxi location 1 Taxi Location 2 Party arrives\\departs using taxi at taxi location 2 Walk Local Party arrives\\departs using walk-local bus Walk Premium Party arrives\\departs using walk-premium transit Walk Mix Party arrives\\departs using walk-local plus premium transit KNR Local Party arrives\\departs using KNR-local bus KNR Premium Party arrives\\departs using KNR-premium transit KNR Mix Party arrives\\departs using KNR-local plus premium transit TNC Local Party arrives\\departs using TNC-local bus TNC Premium Party arrives\\departs using TNC-premium transit TNC Mix Party arrives\\departs using TNC-local plus premium transit Walk Party arrives\\departs using walk <p>For more information on the Air Ground Access Travel Model see technical documentation.</p>"},{"location":"design/demand/crossborder.html","title":"Crossborder Model","text":"<p>The Cross-Border Travel Model predicts travel made by residents of Mexico within San Diego County. It predicts the border crossing point of entry as well as all trips made within the county. The model is limited to simulating travel made by Mexican residents who return to Mexico within the simulation day. Cross-border travel not captured by the Cross-Border Model includes:</p> <ul> <li>Residents of San Diego County who travel to/from Mexico. This travel is represented by the resident travel model.</li> <li>Residents of Mexico (including U.S. citizens) who travel into San Diego County and who do not return to Mexico at the end of the day. This travel is represented in the overnight visitor travel model.</li> <li>Travel between points of entry through San Diego County to other U.S. destinations. This travel is represented by the external-external travel model.</li> <li>Commercial vehicle travel to/from points of entry. This travel is represented by the commercial vehicle model.</li> </ul> <p>The overall design of the model is shown in the figure below.</p> <p></p>"},{"location":"design/demand/crossborder.html#crossborder-model-purpose-definitions","title":"Crossborder Model Purpose Definitions","text":"<p>There are five activity purposes in the cross-border travel demand model:   * Work: Any activity involving work for pay.   * School: Pre-k school, K-12, college/university, or trade school.   * Shop: Shopping at retail, wholesale, etc.   * Visit: Visiting friends or family   * Other: A broad category including eating out, medical appointments, recreational activities, etc.</p> <p>Note that home activities are not listed, since we do not model activities south of the border.</p>"},{"location":"design/demand/crossborder.html#crossborder-model-mode-definitions","title":"Crossborder Model Mode Definitions","text":"<p>The major tour modes are shown below: <pre><code>flowchart TD\n    subgraph three\n    direction LR\n    D[Transit] --&gt; D1[Walk Access]\n\n    D1 --&gt; D11[Local Only]\n    D1 --&gt; D12[Premium Only]\n    D1 --&gt; D13[Mixed]\n    end\n    subgraph two\n    direction LR\n    C[Active] --&gt; C1[Walk]\n    end\n\n    subgraph one\n    direction LR\n    B[Auto] --&gt; B1[Drive-alone];\n    B --&gt; B2[Shared 2];\n    B --&gt; B3[Shared 3+];\n    end\n    A[Tour Mode\\Border Crossing Mode] --&gt; one;\n    A --&gt; two;\n    A --&gt; three;\n\n    classDef group1 fill:#f75f5f,stroke:#333,stroke-width:4px,font-size:26px,font-weight:bold;wrap\n    classDef group2 fill:#ffd966,stroke:#333,stroke-width:2px,font-size:20px;wrap\n    classDef group3 fill:#bdabf0,stroke:#333,stroke-width:2px,font-size:18px;wrap\n\n    classDef hiddenTitle color:transparent;\n    class one,two,three hiddenTitle;\n\n    class A group1;\n    class B,C,D,E group2;\n    class B1,B2,B3,C1,C2,C3,C4,D1,D11,D12,D13 group3;\n</code></pre></p> <p>The model has the following mode types at the trip level:   * Drive-alone: Single occupant private vehicle   * Shared 2: A private vehicle with exactly two passengers   * Shared 3+: A private vehicle with three or more passengers   * Walk: Walk mode   * Bike: Bike mode   * Walk-transit: Walk access to transit. There are three sub-types of transit: Local only,   premium only, local + premium (which includes both local and premium services in the   transit path)   * Taxi: Door-to-door taxi trip   * Single-pay TNC: Door-to-door TNC trip with a single payer (e.g. UberX)   * Shared-pay TNC: Stop-to-stop TNC trip with potentially multiple payers (e.g. UberPool)</p> <p>We also model tour mode, which is the mode used to cross the border. These modes include drive-alone, shared 2, shared 3+ and walk. We assume that anyone crossing by bus or taxi is similar to walk, since they do not have access to a personal vehicle for the rest of their travel in San Diego County.</p> <p>We also classify border crossings by lane type: general purpose, SENTRI, and Ready. We assume that the use of these lanes is related to the border crossing party; we attribute each party with SENTRI or Ready availability. The proportion of total border crossing parties with access to SENTRI and Ready lanes are based on observed survey data, pooled across all stations. This data is used to simulate the availability of the lane to the travel party. Each lane crossing type is related to the wait time that the travel party experiences at each border crossing station by mode.</p> <p>Below is a general description of the model structure.</p> <ol> <li>Tour Enumeration: A list of person-tours is created by first cross-multiplying the input total person tours with the share of tours by pass type, then expanding tours by pass type to tours by pass type and purpose.</li> <li> <p>Tour Level Models     2.1 Time-of-day Choice: Each person-tour is assigned an outbound and return half-hour      period.</p> <p>2.2 Primary Destination and Station Choice: Each border crossing person-tour chooses a  primary destination MGRA and border crossing station.</p> <p>2.3 Border Crossing Mode Choice: Each person-tour chooses a border crossing tour mode.</p> </li> <li> <p>Wait Time Model</p> <p>3.1. Wait time model: Calculate wait time based on demand at each POE from model 2.2</p> <p>3.2. Convergence check: If max iterations reached (currently 3), goto Stop and Trip level models, else goto Model 2.2 3. Stop and Trip Level Models 4.1 Stop Frequency Choice: Each person-tour is assigned number of stops by half-tour (outbound, return).</p> <p>4.2 Stop Purpose Choice: Each stop is assigned a stop purpose (consistent with the tour purposes).</p> <p>4.3 Trip Departure Choice: Each trip is assigned a half-hourly time period.</p> <p>4.4 Stop Location Choice: Each stop chooses an MGRA location.</p> <p>4.5 Trip Mode Choice: Each trip is assigned a trip mode.</p> <p>4.6 Trip Assignments: Trips are assigned to networks, along with resident and other special market trip tables, and skims are created for the next iteration of the model.</p> </li> </ol> <p>For more information on the Crossborder Travel Model see technical documentation.</p>"},{"location":"design/demand/cvm.html","title":"Commercial Vehicle Model","text":""},{"location":"design/demand/cvm.html#introduction","title":"Introduction","text":"<p>The SANDAG Commercial Vehicle Model (CVM) simulates the weekday demand patterns of commercial  vehicle movements throughout the San Diego region. The CVM is an important part of the complete travel  demand modeling system for the region, representing a market of travel that dominates the middle part of  most weekdays and has been steadily growing as consumer demands for home deliveries and personal  services have increased.</p> <p>The primary sources of data for developing the CVM were the 2022 SANDAG Commercial Vehicle Establishment and TNC-driver surveys, which focused on goods, services, and maintenance trips, and  obtained travel diaries from employees of these establishments whose jobs involve routine travel for either  goods pickup and delivery or for service provision. The TNC driver survey used an identical travel diary  format to the Establishment survey, the difference being that individual TNC drivers were surveyed as their  own establishments who worked on behalf of an online pickup and delivery service. The Establishment and  TNC surveys provided detailed travel pattern data for individual drivers and vehicles, which formed the basis  for estimating and calibrating model components. The categorical definitions of attribute variables in the two  surveys set the possibilities for segmentation of the model system, such as establishment industry sectors; trip origin and destination purposes, land uses, and place types; and vehicle types.</p> <p>The geographic scope of the CVM are internal-to-internal trip movements. The market scope of the model  includes commercial goods movements (pickup and deliveries) as well as trips made for commercial and  public services. Trips made for other purposes, namely maintenance and personal, are also included in the  CVM if these trips are made in the context of a commercial vehicle tour pattern. The CVM explicitly  distinguishes between residential and non-residential customer types, and between three vehicle types\u2014 light, medium, and heavy\u2014consistent with the definitions used in the Establishment Survey.</p> <p>The CVM does not cover the types of work-related travel that would be expected to be covered in the ABM3 Resident model, namely workers traveling for meetings, sales calls, out-of-town travel, and similar activities. The CVM also does not model long-distance freight truck movements that enter and exit the region, which  are covered by the Heavy Truck Model (HTM).</p>"},{"location":"design/demand/cvm.html#design","title":"Design","text":""},{"location":"design/demand/cvm.html#design-objectives-and-overview","title":"Design Objectives and Overview","text":"<p>The 2024 CVM design was conceived as an improvement upon the SANDAG CVM created in 2014, which  used a similar approach for simulating commercial vehicle tours. The new CVM design differs from the  previous model in several important ways. Improvement objectives of the new design include:</p> <p>\u2022 Better accuracy for representing total commercial vehicle demand, as represented in the new  surveys, particularly more accurate accounting of vehicle miles traveled (VMT) by vehicle size;</p> <p>\u2022 Leveraging the new survey data to capture contemporary e-commerce trends in direct deliveries  between warehouse fulfillment centers and consumers;</p> <p>\u2022 Distinguishing between residential and non-residential customer types;</p> <p>\u2022 Creating linkages between the CVM and the Resident model to better represent household demand  for food and package deliveries and for services;</p> <p>\u2022 Leveraging the TNC driver survey to represent this recently emerged type of on-line establishment  and the \u201cgig\u201d workers it employs.</p>"},{"location":"design/demand/cvm.html#cvm-overview-and-flow-between-components","title":"CVM Overview and Flow Between Components","text":"<p>At its core, the CVM is a dynamic simulation of commercial vehicle travel patterns during a representative  weekday in the San Diego region. The CVM creates travel patterns composed of trips to stop locations, with  each stop defined by a purpose, customer type if appropriate, the vehicle type used, geographic location  (MGRA and TAZ identifications), and arrival and departure times. The model uses the term \u201croute\u201d to  describe a day\u2019s worth of trips made by the same vehicle and is consistent with the operational notion of  commercial vehicle route planning and scheduling. A commercial vehicle route is comprised of one or  multiple stops and may include one or more full or partial tours. The CVM is dynamic in the sense that it  generates routes as simulation elements with starting conditions, then simulates the stops and trips on the  route incrementally while considering time of day, elapsed time, and the travel distance to a pre-chosen  terminal location for the route. </p> <p>The new CVM differs from the previous version of the model in that it does not use the concept of complete  tours, with all tours beginning and ending at establishment, as an organizing principal and constraint. The  reasons for this are that commercial vehicle diary surveys revealed that for about one-third of vehicle days  the vehicle did not return to the same place that it started, and the starting or ending locations for vehicle  days were often not the establishment itself. Therefore, the decision was made to allow for \u201copen jaw\u201d tours  whereby the simulation does not force a vehicle to begin and end the simulation day at the establishment,  but rather models possible choices of non-establishment starting and ending locations. Open jaw tours are  common for businesses that have multiple establishment locations, particularly those with separate warehouses and vehicle maintenance yards or garages.</p> <p>The CVM represents establishments as individual simulation entities, which differs from the predecessor  model\u2019s generation and attraction of commercial vehicle trips from zone-level aggregate employment. This  was an important design feature because, as the establishment surveys showed, there is a non-linear  decreasing relationship between the number of employees at an establishment location and the number of  commercial vehicle trips that location produces and attracts. Small businesses generate more trips per  employee than larger businesses, a relationship that is lost when generating commercial vehicle trips from  aggregate zonal employment. Moreover, over time, trends in establishment sizes change, with recent  smaller-size establishments becoming more prevalent in most parts of the U.S.</p> <p>The CVM comprises three primary modeling stages: (1) pre-processing models which create inputs variables that are essential to the simulation; (2) generation of vehicle routes and their starting conditions; and (3) the dynamic simulation of stops and travel for each route. </p>"},{"location":"design/demand/cvm.html#pre-processes","title":"Pre-Processes","text":"<p>The purpose of the pre-processing steps is to create scenario-specific variables that are important to how the CVM represents demand and its policy sensitivity. </p> <p>Establishment Synthesis creates records for individual establishments, which form the basis for generating establishment trip attractions and for generating commercial vehicle routes in downstream models. Representation of establishments by industry and size enables the CVM to more accurately represents the  non-linear decreasing rates of both trip attractions and route productions. </p> <p>Household Attraction Generation links the CVM to the Resident model. This step generates commercial vehicle trip attractions to households, reading in the synthetic households and tours from the Resident model. These attractions include home deliveries of food and packages as well as various types of service  visits. Household attractions are used in the creation of accessibility variables as a measure of residential customer demand and used as attractor variables in Stop Location Choice models where the customer type is residential.</p> <p>Establishment Attraction Generation uses the synthetic establishments to generate commercial vehicle trip attractions to establishments. These attractions include goods deliveries and various types of service visits. Establishment attractions are used in the creation of accessibility variables as a measure of non residential customer demand and are used as attractor variables in Stop Location Choice models where the customer type is non-residential.</p> <p>Accessibility creates a set of variables to represent access to household attractions and access to establishment attractions. Accessibility variables are used in Route Generation and Stop Generation models to represent potential customer demand and affect the propensity of establishments to generate more  vehicle routes or make additional stops on a route. Accessibility variables allow demand to vary throughout the region based on the density of households and businesses.</p>"},{"location":"design/demand/cvm.html#route-generation-and-starting-conditions","title":"Route Generation and Starting Conditions","text":"<p>The purpose of the route starting conditions step is to generate the commercial vehicle routes to be simulated and to create parameters for those routes that represent contextual variables. There are two different sets of models, one for regular establishments and another for TNCs, which are not establishment based.</p> <p>Route Generation begins by generating some number of commercial vehicle routes for each establishment. Even within the same industry and firm, some establishment locations will generate daily commercial vehicle  routes while others will not, which reflects different functions at each site. For example, corporate offices, which are unlikely to produce commercial vehicle goods and service trips, may be in a different location from production facilities, warehouses, or service facilities, which do produce commercial vehicle trips. Accordingly, the route generation model for establishments is a two-stage model. Stage 1 predicts whether an establishment will generate at least one commercial vehicle route, and Stage 2 predicts how many routes will be generated given at least one. The CVM software then creates separate simulation objects equal to the number of routes predicted for each establishment.</p> <p>The route generation model for TNCs works differently. TNC drivers are effectively independent agents who work for online pickup and delivery services and are treated as their own establishments in the model. The demand for TNC pickup and delivery services is a function of the establishments which hire them through the online services, such as restaurants, grocery stores, and other businesses. For TNCs, the CVM generates a total number of TNC routes for an entire land use zone (LUZ), based on equations specified to estimate  demand for pickups by the types of businesses that use them. As described below, the CVM then chooses a starting and ending location for each TNC route. The idea behind the choice of the LUZs was to generate TNC routes spatially as a function of the collective demand of businesses that use TNCs within the same  general area. Although the model restricts the starting and ending locations of the TNC routes to the LUZ that generated them, the downstream model that chooses the location of pickup and delivery stops is not  restricted to the starting LUZ.</p> <p>Route Vehicle, Purpose, and Customer Type models are applied to each route generated in the simulation. The model is formulated as the multinomial joint choice across these three dimensions, which are closely correlated. Choice of vehicle type will depend on whether the route purpose involves goods pickup/delivery or service provision. For goods deliveries, if the customer type is a residential, a smaller or medium-size vehicle is more likely to be used, whereas multi-unit (tractor trailers) are seldom used to make deliveries to residences.</p> <p>For TNCs, each route is assumed to use a light-duty vehicle type and the purpose to be for goods pickup/delivery, which represents 95 percent of the route observations in the TNC driver survey. TNC routes are also assumed to be eligible to serve a mix of residential and business customer type.</p> <p>Route Start Time Choice models are applied to each CVM route, after the vehicle, purpose, and customer types have been chosen. The route starting time represents the departure time for the first trip on the route. The model is specified as an empirical distribution derived from the commercial vehicle survey and  segmented by four groups of industries and by vehicle type, which were chosen for being statistically distinct from one another. For TNCs, distributions were derived based on the type of businesses being served by the TNC river\u2014restaurant, retail, or other. </p> <p>Starting times are specified at 15-minute quarterly intervals within each hour of the day. The model is applied by drawing a starting time interval from the distribution appropriate to each combination of business and vehicle type. Note that the ending times for commercial vehicle routes are not pre-determined by a choice model, but rather determined by the sequence of downstream model outcomes\u2014choices of next stop type, including to terminate the route; travel times between stops; and the time spent at each stop.</p> <p>Route Origin and Termination Location Choice models are applied to choose the starting and ending location for each CVM route. The CVM allows for vehicles to begin or end their day at locations other than their home establishment. Separate models are used to choose locations for the origin of the route and for  the location where the route will terminate. This is formulated as a two-level choice in which the first level is a location type choice, and the second level is the choice of zone (MGRA) given the type. The location type alternatives are:</p> <p>\u2022 Establishment Location</p> <p>\u2022 Other Warehouse/Distribution Center Land Use</p> <p>\u2022 Other Residential Land Use</p> <p>\u2022 Other Commercial/Public Land Use</p> <p>The choice of location type for the termination of the route considers the location type choice made for the origin of the route. If the establishment location is chosen, then the zone (MGRA) is given by the establishment. The non-establishment location types were specified to support more accurate representation of commercial vehicle parking locations at the start and end of each day. While a majority of vehicle routes will originate and terminate at the establishment location, other common location types are warehouse and  distribution centers, most belonging to the same company; residential locations, which are commonly a driver\u2019s home; and other commercial or public land uses, such as maintenance facilities or customer sites. If the non-establishment location type has been chosen, the model will then choose an actual zone (MGRA),  with the choice alternatives constrained by the availability of the particular land use type (warehousing, residential, other non-residential). The model also considers the various attraction variables such as employment or households in the MGRA as well as the distance from the establishment.</p> <p>For TNCs, which are generated by LUZ, a single location is chosen to be both the origin of the route and the termination point of the route. This simple model which chooses a location within the LUZ based on household and employment attributes. In the TNC survey, some drivers recorded route origin or termination locations as \u201chome.\u201d Others began or ended their recorded routes at non-home locations, which appear to be based on when they began and ended working for their particular TNC service.</p>"},{"location":"design/demand/cvm.html#route-stop-simulation-loop","title":"Route Stop Simulation Loop","text":"<p>The route stop simulation models produce the actual trips made by commercial vehicles. This is dynamic model incrementally creates each stop on the vehicle route, given the starting conditions of vehicle, purpose, and customer type; starting time of day; and the starting and ending locations for the route. As each stop is simulated, the CVM updates the location of the vehicle, the time of day, and the elapsed time on the route. These three factors are considered in each of the route simulation sub-models. The three models are run in the order shown until the \u201cterminate route\u201d purpose is chosen as the next stop purpose, which will create a trip to the pre-determined termination location and  end the vehicle route.</p> <p>Next Stop Purpose Choice decides what will happen next on each commercial vehicle route. This is the choice of one of seven stop purposes:</p> <p>\u2022 Goods Pickup \u2013 a stop to pick up goods </p> <p>\u2022 Goods Delivery \u2013 a stop to deliver goods to a customer</p> <p>\u2022 Service \u2013 a stop to provide a professional service to a customer</p> <p>\u2022 Maintenance/Other \u2013 a stop for either vehicle maintenance/refueling or driver breaks</p> <p>\u2022 Base Establishment \u2013 a trip the establishment where the vehicle is based, without ending the route</p> <p>\u2022 Home \u2013 a trip to the driver\u2019s home, without ending the route</p> <p>\u2022 Terminate Route \u2013 a trip to the final stop on the route where the vehicle will be parked, ending the route. This is the location chosen by the Route Termination Location Choice model describe above</p> <p>The next stop purpose model applies logical transition constraints, such that it is not possible to go from base to base or from home to home, since base and home each refer to a unique location. The model does not impose a limit on the number of stops that can be made; however, it is specified so that as the elapsed time  on the tour increases, the probability of choosing the \u201cterminate route\u201d alternative increases. In addition, the terminate route alternative is more likely during certain time periods, irrespective of the starting time of the  route, to reflect common business hours. </p> <p>The next stop purpose model for TNCs is very similar to regular establishments, except that TNCs are assumed to not have the \u201cservice\u201d alternative, with customer interactions limited to goods pickup and delivery. </p> <p>Next Stop Location Choice determines the destination of the trip, where the next stop purpose will take place. Similar to the route origin and termination location choices, this is a two-level model. The first level is the choice of a land use type, and the second level is the choice of an actual zone (MGRA) given the land use type. The model is not applied if the next stop purpose is either \u201cbase\u201d (establishment) or \u201cterminate route\u201d because those locations are already known. For other stop purposes, the location type alternatives are:</p> <p>\u2022 Residential Land Use </p> <p>\u2022 Warehouse/Distribution Center Land Use</p> <p>\u2022 Port Facilities (Seaport, Airport, Intermodal Rail)</p> <p>\u2022 Other Commercial/Public Land Use</p> <p>These land use types were specified to enable more accurate representation of the demand attracted to each of these types through model calibration. The location type choice is a function of many factors, including the stop purpose, customer type, vehicle type, elapsed time, and time of day. For example, if the  stop purpose is \u201chome\u201d or the customer type for a goods delivery or service stops is \u201cresidential,\u201d then the residential land use type should be chosen. Other location land use types would be more likely for certain business types than others. </p> <p>Given the choice of a location land use type, the CVM then chooses an actual zone (MGRA) from among the zones eligible for that land use type. The residential location type is expected to include only those zones with households; the warehouse/distribution center location type considers only zones with employment in transportation/warehousing; the port facilities type includes only zones with designated seaport, airport, or intermodal rail facilities; and the other commercial/public land use type must contain employment in any  industry sector, other than transportation/warehousing. </p> <p>The location choices model is specified to consider the household and establishment attractors in each zone, as predicted by those pre-processing models as well as other employment variables, depending on the stop  purpose. The model also considers travel times and vehicle operating costs, including the travel time from the current location to alternative next stop locations and the travel time from the eventual terminal location  to the alternative next stop locations, and the elapsed time on the route. As the elapsed time on the route increases, the model will be more likely to choose locations closer to the terminal location.</p> <p>Next Stop Duration Simulation determines the simulated time spent at each location. For goods purposes, the stop duration would include time spent loading or unloading items and interacting with customers. For services, the duration represents the amount of time spent at the customer site providing the service, which will vary widely depending on the business type, such as installation/repairs, landscaping, construction, health care, and cleaning, to name a few common service types. For maintenance/other purposes, the stop duration could involve vehicle refueling or repairs or it could involve driver meal breaks or other personal or company business. For the \u201chome\u201d purpose, duration is assumed to be personal time spent at the driver\u2019s home.</p> <p>For regular establishments, the duration is simulated using a model that considers the stop purpose, the vehicle type used, and whether the stop begins before or after 12 p.m., with stops later in the day expected to be more time constrained, particularly for service provision. For TNCs, the duration model considers the stop purpose and the land use density at the stop location, with increased density assumed to require longer stop times, as would be expected for deliveries to multi-family residential building and to office buildings.</p>"},{"location":"design/demand/cvm.html#inputs","title":"Inputs","text":"<p>CVM inputs include the following, which are generated from SANDAG ABM resident model prior to the CVM sub-model step. </p> <p>\u2022 final_households.csv: from resident model </p> <p>\u2022 final_tours.csv: from resident model </p> <p>\u2022 final_persons.csv: from resident model </p> <p>\u2022 land_use.csv: from resident model </p> <p>\u2022 SynthEstablishments.csv: from the establishment synthesis process </p> <p>\u2022 Highway skims </p> <p>-&gt; traffic_skims_EA.omx </p> <p>-&gt; traffic_skims_AM.omx </p> <p>-&gt; traffic_skims_MD.omx </p> <p>-&gt; traffic_skims_PM.omx </p> <p>-&gt; traffic_skims_EV.omx </p>"},{"location":"design/demand/cvm.html#outputs","title":"Outputs","text":"<p>\u2022 final_commercial_accessibility.csv: contains the commercial vehicle accessibility by category for each zone. </p> <p>\u2022 final_cv_trips.csv: contains the commercial vehicle trips by OD, trip purpose and travel time. </p> <p>\u2022 final_establishments.csv: establishment details generated for each zone </p> <p>\u2022 final_establishments_all.csv </p> <p>\u2022 final_households.csv: household information which attract CVM trips </p> <p>\u2022 final_land_use.csv: MGRA zonal land use information  </p> <p>\u2022 final_routes.csv: CVM trip route information  </p> <p>\u2022 final_trips.csv: final trip-based summary, and it has more attributes than cvm_cv_trips.csv, e.g. distance, OD zone, toll cost. It will go into SANDAG final trip summary. </p> <p>\u2022 cvmtrips_TOD.omx: contains the commercial vehicle trips of the TOD, has three components (modes): car, light-heavy truck, medium-heavy truck and heavy-heavy truck. Trip tables included in each matrix are: CAR, LIGHT_TRUCK, MEDIUM_TRUCK and HEAVY_TRUCK</p>"},{"location":"design/demand/external.html","title":"External Models","text":"<p>The external aggregate travel models predict characteristics of US-SD and SD-US/MX travel behavior for all non-commercial, non-visitor vehicle trips and selected transit trips. Note that non-commercial MX-SD trips are forecast in the crossborder model, and non-commercial SD-US and SD-MX trips are forecast in the resident model.</p> <p></p>"},{"location":"design/demand/external.html#external-model-estimation-of-trip-counts-by-type","title":"External Model Estimation of Trip Counts by Type","text":"<p>The total count of trips by production and attraction location was estimated in a series of steps:</p> <ol> <li>The number of crossborder trips made by Mexican residents to attractions in San Diego was previously determined.</li> <li>The trips in the resident travel survey were expanded to estimate the total number of trips made by San Diego residents to attractions in Mexico.</li> <li>To derive an estimate of the number of US-MX trips, the number of MX-SD (1) and SD-MX (2) trips was subtracted from the total number of border-crossings.<ul> <li>The distribution of US-MX trips among external stations on the US-side of San Diego County will be assumed to be proportional to the total volume at each external station, regardless of the point of entry at the Mexican border.</li> </ul> </li> <li>The number of US-MX trips was then subtracted from the total number of trips in the SCAG cordon survey to arrive at an estimate of the combined total of US-US, US-SD, and SD-US trips with routes through San Diego County.</li> <li>Finally, the actual amounts of US-US, US-SD, and SD-US trips at each external station were estimated from the remaining trips (4) according to their proportions in the successfully geocoded responses in the SCAG cordon survey.</li> </ol>"},{"location":"design/demand/external.html#external-model-design-overview","title":"External Model Design Overview","text":"<p>The behavioral characteristics of the different types of external trip were derived from the various data sources available as follows:</p> <ul> <li>US-US trips: a fixed external station OD trip matrix was estimated from the SCAG cordon survey.<ul> <li>/src/main/emme/toolbox/model/external_external.py</li> </ul> </li> <li>US-MX trips: a fixed external station OD trip matrix was estimated from the SCAG cordon survey, Customs and Border Protection vehicle counts, and Mexican resident border-crossing survey as described in the previous section.<ul> <li>/src/main/emme/toolbox/model/external_external.py</li> </ul> </li> <li>US-SD trips: rates of vehicle trips per household for each external county were developed from the SCAG cordon survey, and the trips were distributed to locations in San Diego County according to a destination choice model estimated from the interregional survey.<ul> <li>Intermediate stops and transit trips are not modeled in this segment due to the small contribution of these events to the total demand in the segment.</li> <li>/src/main/emme/toolbox/model/external_internal.py</li> </ul> </li> </ul>"},{"location":"design/demand/external.html#external-internal-destination-choice-model","title":"External-Internal Destination Choice Model","text":"<p>The external-internal destination choice model distributes the EI trips to destinations within San Diego County. The EI destination choice model explanatory variables are:</p> <ul> <li>Distance</li> <li>The size of each sampled MGRA</li> </ul> <p>Diurnal and vehicle occupancy factors are then applied to the total daily trip tables to distribute the trips among shared ride modes and different times of day.</p>"},{"location":"design/demand/external.html#external-internal-toll-choice-model","title":"External-Internal Toll Choice Model","text":"<p>The trips are then split among toll and non-toll paths according to a simplified toll choice model. The toll choice model included the following explanatory variables:</p> <ul> <li>In-vehicle-time</li> <li>Toll cost</li> </ul>"},{"location":"design/demand/external.html#sources","title":"Sources","text":"<p>information primarily taken from this SANDAG document: link to pdf</p>"},{"location":"design/demand/resident.html","title":"Resident Model","text":"<p>The resident model structure is based on the Coordinated Travel Regional Activity-based Modeling Platform (CT-RAMP). The figure below shows the resident model structure. In order to understand the flow chart, some definitions are required. These are described in more detail below.</p> <ul> <li>Tour: A sequence of trips that start and end at an anchor location. In ActivitySim, anchors are home or work.</li> <li>Primary destination: The \u201cmain\u201d activity of the tour; this activity determines the tour purpose. It also divides the tour into two \u201clegs\u201d; the sequence of trips from the anchor location to the primary destination is the outbound leg, and the sequence of trips from the primary destination back to the anchor location is the inbound or return leg.</li> <li>Mandatory activity: Work or school</li> <li>Non-mandatory activity: Any out of home activity that is not work or school, including maintenance activities such as shopping as well as discretionary activities such as out-of-home recreation and eating out.</li> <li>Fully joint tour: A tour in which two or more household members travel together to all out-of-home activity locations and return home together. In other words, no household member is picked-up or dropped-off en route.</li> <li>Intermediate stop: An out-of-home activity location on the tour other than the anchor location or the primary destination. Intermediate stops are made on the way from the anchor location to the primary destination (outbound) or on the way from the primary destination back to the anchor location (inbound).</li> <li>Tour mode: The \u201cmain mode\u201d or \u201cpreferred mode\u201d of the tour. This is an abstract concept used categorize the tour with respect to accessibility and constrain the availability of modes for trips on the tour to ensure some consistency of modes used for each trip.</li> </ul> <p>The resident model design is shown below.</p> <p></p> <p>The first model in the sequence is disaggregate accessibilities. This is a recent addition to ActivitySim in which the tour destination choice model is run for a prototypical sample population covering key market segments and destination choice logsums from the model are written out for each tour in the population. These destination choice logsums are then merged with the actual synthetic population and used as accessibility variables in downstream models such as auto ownership, coordinated daily activity patterns, and tour frequency are mandatory location choice; this model is run for all workers and students regardless of whether they attend work or school on the simulated day.</p> <p>Next a set of long-term and mobility models are run. The first model in the sequence predicts whether an autonomous vehicle is owned by the household. This model conditions the next model, which predicts the number of autos owned. If an autonomous vehicle is owned, multiple cars are less likely. Next, the mandatory (work and school) location choice models are run. The work location choice models includes a model to predict whether the worker has a usual out-of-home work location or exclusively works from home. If the worker chooses to work from home, they will not generate a work tour. An external worker identification model determines whether each worker with an out-of-home workplace location works within the region or external to the region. If they work external to the region, the external station is identified. Any primary destination of any work tours generated by the worker will be the external station chosen by this model. A work location choice model predicts the internal work location of each internal worker, and a school location choice model predicts the school location of each student.</p> <p>Next, a set of models predicts whether workers and students have subsidized transit fares and if so, the percent of transit fare that is subsidized, and whether each person in the household owns a transit pass. A vehicle type choice model then runs, which predicts the body type, fuel type, and age of each vehicle owned by the household; this model was extended to predict whether each vehicle is autonomous, conditioned by the autonomous vehicle ownership model.</p> <p>Next, we predict whether each household has access to a vehicle transponder which can be used for managed lane use. We assume that all vehicles built after a certain year (configurable by the user) are equipped with transponders. Next we predict whether each worker has subsidized parking available at work. Finally we predict the telecommute frequency of each worker, which affects downstream models including the daily activity pattern model, the non-mandatory tour frequency model, and stop frequency models.</p> <p>Next the daily and tour level models are run. The first daily model run is the daily activity pattern model, which predicts the general activity pattern type for every household member. Then Mandatory tours are generated for workers and students, the tours are scheduled (their location is already predicted by the work/school location choice model), a vehicle availability model is run that predicts which household vehicle would be used for the tour, and the tour mode is chosen. After mandatory tours are generated, a school pickup/dropoff model forms half-tours where children are dropped off and/or picked up at school. The model assigns chaperones to drive or ride with children, groups children together into \u201cbundles\u201d for ride-sharing, and assigns the chaperone task to either a generated work tour or generates a new tour for the purpose of ridesharing. Fully joint tours \u2013 tours where two or more household members travel together for the entire tour - are generated at a household level, their composition is predicted (adults, children or both), the participants are determined, the vehicle availability model is run, and a tour mode is chosen. The primary destination of fully joint tours is predicted, the tours are scheduled, the vehicle availability model is run, and a tour mode is chosen. Next, non-mandatory tours are generated, their primary destination is chosen, they are scheduled, the vehicle availability model is run, and a tour mode is chosen for each. At-work subtours are tours that start and end at the workplace. These are generated, scheduled (with constraints that the start and end times must nest within the start and end time of the parent work tour), a primary destination is selected, the vehicle availability model is run, and a tour mode is chosen.</p> <p>The major tour modes are shown below: <pre><code>flowchart TD\n    subgraph four\n    direction LR\n    E[Ride-Hail] --&gt; E1[Taxi]\n    E --&gt; E2[Single-pay TNC]\n    E --&gt; E3[Shared TNC];\n    end\n    subgraph three\n    direction LR\n    D[Transit] --&gt; D1[Walk Access]\n    D --&gt; D2[PNR Access]\n    D --&gt; D3[KNR Access]\n    D --&gt; D4[TNC Access]\n\n    D1 --&gt; D11[Local Only]\n    D1 --&gt; D12[Premium Only]\n    D1 --&gt; D13[Mixed]\n\n    D2 --&gt; D21[Local Only]\n    D2 --&gt; D22[Premium Only]\n    D2 --&gt; D23[Mixed]\n\n    D3 --&gt; D31[Local Only]\n    D3 --&gt; D32[Premium Only]\n    D3 --&gt; D33[Mixed]\n\n    D4 --&gt; D41[Local Only]\n    D4 --&gt; D42[Premium Only]\n    D4 --&gt; D43[Mixed]\n    end\n    subgraph two\n    direction LR\n    C[Active] --&gt; C1[Walk]\n    C --&gt; C2[Bike]\n    C --&gt; C3[E-Scooter]\n    C --&gt; C4[E-Bike]\n    end\n\n    subgraph one\n    direction LR\n    B[Auto] --&gt; B1[Drive-alone];\n    B --&gt; B2[Shared 2];\n    B --&gt; B3[Shared 3+];\n    end\n    A[Tour Mode] --&gt; one;\n    A --&gt; two;\n    A --&gt; three;\n    A --&gt; four;\n\n    classDef group1 fill:#f75f5f,stroke:#333,stroke-width:4px,font-size:26px,font-weight:bold;wrap\n    classDef group2 fill:#ffd966,stroke:#333,stroke-width:2px,font-size:20px;wrap\n    classDef group3 fill:#bdabf0,stroke:#333,stroke-width:2px,font-size:18px;wrap\n\n    classDef hiddenTitle color:transparent;\n    class one,two,three,four hiddenTitle;\n\n    class A group1;\n    class B,C,D,E group2;\n    class B1,B2,B3,C1,C2,C3,C4,D1,D2,D3,D4,E1,E2,E3,D11,D12,D13,D21,D22,D23,D31,D32,D33,D41,D42,D43 group3;\n</code></pre></p> <p>At this point, all tours are generated, scheduled, have a primary destination, and a selected tour mode. The next set of models fills in details about the tours - number of intermediate stops, location of each stop, the departure time of each stop, and the mode of each trip on the tour. Finally, the parking location of each auto trip to the central business district (CBD) is determined. After the model is run, the output files listed above are created. The trip lists are then summarized into origin-destination matrices by time period and vehicle class or transit mode and assigned to the transport network.</p>"},{"location":"design/demand/visitor.html","title":"Overnight Visitor Model","text":"<p>The Overnight Visitor Model simulates trips of visitors staying overnight in hotels, motels, short-term vacation rentals, and with friends and family. The trips are modeled as part of tours that begin and end at the place of lodging. However, unlike the resident model, the Overnight Visitor Model does not utilize a 24-hour activity schedule. Therefore it can be thought of as a simpler, tour-based model. Once each tour is generated, it is scheduled independently. The model uses the same time periods and modes as the resident model. The overall design of the model is shown in the figure below.</p> <p></p> <ol> <li> <p>Tour Enumeration: A list of visitor parties is generated from the input household data and hotel room inventory at the MGRA level. Visitor travel parties by segment (business versus personal) are calculated based on separate rates for hotels and for households. Visitor parties are generated by purpose based on tour rates by segment, then attributed with household income and party size based on input distributions. There are three purposes in the Overnight Visitor model:</p> </li> <li> <p>Work:  Business travel made by business visitors.</p> </li> <li>Dining: Travel to food establishments for both business and personal visitors.</li> <li> <p>Recreational: All other non-work non-food related activities.</p> </li> <li> <p>Tour Level Models</p> <p>2.1 Tour Scheduling Probabilistic: The tour scheduling model uses a probabilistic draw of the scheduling distribution. This model assigns start and end times to the tour. If there is only one trip per leg on the tour, the trip is assigned the tour start/end time.</p> <p>2.2 Tour Destination Choice: The destination choice model chooses the MGRA of the primary activity location on the tour.</p> <p>2.3 Tour Mode Choice: The tour mode choice model determines the primary mode of the tour.</p> </li> <li> <p>Stop Level Models</p> <p>3.1 Stop Frequency Choice: The stop frequency model predicts the number of stops by direction based on input distributions that vary by tour purpose.</p> <p>3.2 Stop Purpose: The stop purpose model chooses the activity purpose of each intermediate stop based on input distributions that vary according to tour purpose.</p> <p>3.3 Stop Location Choice: The location choice model chooses the MGRA for each intermediate stop on the tour.</p> </li> <li> <p>Trip Level Models</p> <p>4.1 Trip Departure Choice: The trip scheduling model assigns depart times for each trip on a tour based on input distributions that vary by direction (inbound versus outbound), stop number, and number of periods remaining on the tour.</p> <p>4.2 Trip Mode Choice: Each trip is assigned a trip mode, consistent with the modes in the resident model.</p> <p>4.3 Trip Assignment: Trips are aggregated by time of day, mode occupancy, value-of-time, and origin-destination TAZ and assigned simultaneously with other trips.</p> </li> </ol> <p>The major tour modes are shown below: <pre><code>flowchart TD\n    subgraph four\n    direction LR\n    E[Ride-Hail] --&gt; E1[Taxi]\n    E --&gt; E2[Single-pay TNC];\n    end\n    subgraph three\n    direction LR\n    D[Transit] --&gt; D1[Walk Access]\n\n    D1 --&gt; D11[Local Only]\n    D1 --&gt; D12[Premium Only]\n    D1 --&gt; D13[Mixed]\n    end\n    subgraph two\n    direction LR\n    C[Active] --&gt; C1[Walk]\n    end\n\n    subgraph one\n    direction LR\n    B[Auto] --&gt; B1[Drive-alone];\n    B --&gt; B2[Shared 2];\n    B --&gt; B3[Shared 3+];\n    end\n    A[Tour Mode] --&gt; one;\n    A --&gt; two;\n    A --&gt; three;\n    A --&gt; four;\n\n    classDef group1 fill:#f75f5f,stroke:#333,stroke-width:4px,font-size:26px,font-weight:bold;wrap\n    classDef group2 fill:#ffd966,stroke:#333,stroke-width:2px,font-size:20px;wrap\n    classDef group3 fill:#bdabf0,stroke:#333,stroke-width:2px,font-size:18px;wrap\n\n    classDef hiddenTitle color:transparent;\n    class one,two,three,four hiddenTitle;\n\n    class A group1;\n    class B,C,D,E group2;\n    class B1,B2,B3,C1,C2,C3,C4,D1,D2,D3,D4,E1,E2,E3,D11,D12,D13,D21,D22,D23,D31,D32,D33,D41,D42,D43 group3;\n\n</code></pre></p> <p>For more information on the Overnight Visitor Travel Model see technical documentation.</p>"},{"location":"design/init/initialization.html","title":"Initialization","text":""},{"location":"design/init/initialization.html#emme-databases","title":"EMME Databases","text":""},{"location":"design/init/initialization.html#import-network","title":"Import Network","text":""},{"location":"design/init/initialization.html#warmup-trip-tables","title":"Warmup Trip Tables","text":""},{"location":"design/init/initialization.html#bike-logsums","title":"Bike Logsums","text":""},{"location":"design/init/initialization.html#initial-highway-skimming","title":"Initial Highway Skimming","text":""},{"location":"design/init/initialization.html#initial-transit-skimming","title":"Initial Transit Skimming","text":""},{"location":"design/init/initialization.html#transponder-export","title":"Transponder Export","text":""},{"location":"design/init/initialization.html#scenario-management","title":"Scenario Management","text":""},{"location":"design/init/initialization.html#abm-pre-processing","title":"ABM Pre-processing","text":""},{"location":"design/report/report.html","title":"Reporting Framework","text":"<p>Reporting Process Overview:</p> <ol> <li> <p>ABM3 model output files are stored to data lake:</p> <ul> <li>Model outputs are written to the data lake immediately following ABM3 model run completion.</li> <li>Output CSV files are converted to Parquet format before writing to the data lake.</li> <li>Each model run is assigned a unique scenario ID.</li> </ul> </li> <li> <p>Data lake files are loaded to Delta tables:</p> <ul> <li>Each output file in the data lake is loaded into its corresponding Delta table. For example, the trips output file is loaded into the trips Delta table, the persons output file is loaded into the persons Delta table, etc.</li> <li>Delta tables store the results from all model runs, organized by scenario ID.</li> </ul> </li> <li> <p>Delta Tables are processed in Databricks:</p> <ul> <li>Delta tables are read, transformed, and aggregated as needed to support analysis and reporting requirements.</li> <li>Once transformations are complete, the resulting data is written back to the data lake as new Delta tables or used to update existing tables.</li> <li>These new Delta tables are also organized by scenario ID, making it easier to manage and query specific versions of processed data.</li> </ul> </li> <li> <p>Delta tables are ingested by Power BI:</p> <ul> <li>Power BI reads the data from the Delta tables.</li> <li>Power BI report templates with various metrics of interest are automatically refreshed with new model run outputs.</li> <li>Metrics can easily be compared across different scenario IDs.</li> </ul> </li> </ol>"},{"location":"design/supply/index.html","title":"Supply Design","text":"<p>Details of supply components of the model.</p>"},{"location":"design/supply/bike-logsums.html","title":"Bike Logsums","text":"<p>Details of bike logsum calculations.</p>"},{"location":"design/supply/highway-skims-assign.html","title":"Highway Skimming and Assignment","text":"<p>Details of highway skimming and assignment.</p>"},{"location":"design/supply/network-import-tned.html","title":"Network Import from TNED","text":"<p>This section describes the procedure by which the ABM3 model system imports (into Emme) network (highway and transit) files along with a general description of the different network files.</p>"},{"location":"design/supply/network-import-tned.html#network-files","title":"Network Files","text":"<p>The ABM3 model system has been configured to be compatible with SANDAG\u2019s Transportation Network Editing Database (TNED) system, which is utilized to edit, maintain and generate transportation networks. The TNED network files, generated via an ETL (i.e., Extract, Tranform, Load) procedure, serve as inputs to the ABM3 model system\u2019s import network procedure and are produced in text file, shapefile, geodatabase table and geodatabase feature class geodatabase formats. There are, additionally, some non-TNED input network files which are manually maintained.</p> <p>The following are the required network files used during the Emme import network procedure:</p> File Source Description EMMEOutputs.gdb/TNED_HwyNet TNED Roadway network links EMMEOutputs.gdb/TNED_HwyNodes TNED Roadway network nodes EMMEOutputs.gdb/TNED_RailNet TNED Rail network links EMMEOutputs.gdb/TNED_RailNodes TNED Rail network nodes EMMEOutputs.gdb/Turns TNED Turn prohibition records special_fares.txt Manually Maintained Special fares in terms of boarding and incremental in-vehicle costs timexfer_{time_of_day}.csv Manually Maintained Timed transfer pairs of lines, by period. Where time_of_day refers to EA, AM, MD, PM, or EV. trrt.csv TNED Attribute data (modes, headways) for the transit lines trlink.csv TNED Sequence of links (routing) for the transit lines trstop.csv TNED Stop data for the transit lines MODE5TOD.csv Manually Maintained Global (per-mode) transit cost and perception attributes vehicle_class_toll_factors.csv Manually Maintained Factors to adjust the toll cost by facility name and class"},{"location":"design/supply/network-import-tned.html#import-network-procedure","title":"Import Network Procedure","text":"<p>This section describes the main steps carried out during the Emme import network procedure. The entire process is executed by the import_network.py script.</p>"},{"location":"design/supply/network-import-tned.html#create-modes","title":"Create Modes","text":"<p>This step creates the different combinations of traffic and transit modes that will get applied to the network links. A mode defines a group of vehicles or users which have access to the same parts of the network. Modes are used in both the traffic and transit assignments to define the available network for each class of demand. Each mode is uniquely identified by a single case-sensitive character. The modes which have access to a given link are listed on that link, and each link must allow at least one mode.</p>"},{"location":"design/supply/network-import-tned.html#create-roadway-base-network","title":"Create Roadway Base Network","text":"<p>This step creates the base roadway network by importing it from the EMMEOutputs.gdb/TNED_HwyNet and EMMEOutputs.gdb/TNED_HwyNodes. The nodes and links (referred to as the base network in Emme) for the traffic network are imported from the TNED_HwyNode and TNED_HwyNet geodatabase feature classes. The nodes are created first and the links connect between them. The I-node (from node, field AN) and J-node (to node, field BN) are used to associate the nodes and links and uniquely identify the link in the Emme network. Separate forward (AB) and reverse (BA) links are generated for links that have been coded as two-way. </p>"},{"location":"design/supply/network-import-tned.html#create-turns","title":"Create Turns","text":"<p>This step processes the EMMEOutputs.gdb/Turns input network file to generate turn restrictions by to- and from- link ID. If the indicated link IDs do not make a valid turn (links not adjacent) an error is reported.</p>"},{"location":"design/supply/network-import-tned.html#calculate-traffic-attributes","title":"Calculate Traffic Attributes","text":"<p>This step calculates derived traffic attributes. It utilizes the vehicle_class_toll_factors.csv to adjust toll costs by facility name and class.</p>"},{"location":"design/supply/network-import-tned.html#check-zone-access","title":"Check Zone Access","text":"<p>This step verifies that every centroid has at least one available access and egress connector.</p>"},{"location":"design/supply/network-import-tned.html#create-rail-base-network","title":"Create Rail Base Network","text":"<p>This step creates the base roadway network by importing it from the EMMEOutputs.gdb/TNED_RailNet and EMMEOutputs.gdb/TNED_RailNodes. The nodes and links (referred to as the base network in Emme) for the rail network are imported from the TNED_RailNode and TNED_RailNet geodatabase feature classes. The nodes are created first and the links connect between them. The I-node (from node, field AN) and J-node (to node, field BN) are used to associate the nodes and links and uniquely identify the link in the Emme network. Separate forward (AB) and reverse (BA) links are generated for links that have been coded as two-way. </p>"},{"location":"design/supply/network-import-tned.html#create-tranist-lines","title":"Create Tranist Lines","text":"<p>This step creates the transit lines by importing them from the trrt.csv, trlink.csv and trstop.csv input network files and matched to the transit base network. The mode-level attributes from MODE5TOD.csv, which vary by mode, are copied to transit line attributes and used in  transit assignment. It is in this step also where the timexfer_{time_of_day}.csv files are used to explicitly set route-to-route specific transfer transit times.</p>"},{"location":"design/supply/network-import-tned.html#calculate-transit-attributes","title":"Calculate Transit Attributes","text":"<p>The transit line and stop / segment attributes (including fares) are imported to Emme attributes. The special_fares.txt lists network-level incremental fares by boarding (line and/or stop) and in-vehicle segment. They specify additive fares based on the network elements encountered on a transit journey and are used to represent the Coaster (or other) zonal fare system.</p>"},{"location":"design/supply/transit-skims-assign.html","title":"Transit Skimming and Assignment","text":"<p>The transit assignment uses a headway-based approach, where the average headway between vehicle arrivals for each transit line is known, but not exact schedules. Passengers and vehicles arrive at stops randomly and passengers choose their travel itineraries considering the expected average waiting time.</p> <p>The Emme Extended transit assignment is based on the concept of optimal strategy but extended to support a number of behavioral variants. The optimal strategy is a set of rules which define sequence(s) of walking links, boarding and alighting stops which produces the minimum expected travel time (generalized cost) to a destination. At each boarding point the strategy may include multiple possible attractive transit lines with different itineraries. A transit strategy will often be a tree of options, not just a single path. A line is considered attractive if it reduces the total expected travel time by its inclusion. The demand is assigned to the attractive lines in proportion to their relative frequencies.</p> <p>The shortest \u201ctravel time\u201d is a generalized cost formulation, including perception factors (or weights) on the different travel time components, along with fares, and other costs / perception biases such as transfer penalties which vary over the network and transit journey.</p> <p>The model has four access modes to transit (walk, park-and-ride (PNR), kiss-and-ride (KNR), and Transportation Network Company (TNC)) and three transit sets (local bus only, premium transit only, and local bus and premium transit sets), for 12 total demand classes by 5 TOD. These classes are assigned by slices, one at a time, to produce the total transit passenger flows on the network.</p> <p>While there are 12 slices of demand, there are only three classes of skims: Local bus only, premium only, and all modes. The access mode does not change the assignment parameters or skims.</p>"},{"location":"design/supply/walk-skims.html","title":"Walk Skims","text":"<p>Details of walk skim calculations.</p>"}]}